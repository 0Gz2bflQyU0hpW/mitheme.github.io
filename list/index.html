<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">

    

    

    <title>带加速度的滑动列表 | MItheme</title>
    <meta name="author" content="mitheme">
    <meta name="version" content="1.0.0">
    <meta name="keywords" content>
    <meta name="description" content="带加速度的滑动列表&amp;lt;!-- 需要移动元素的总高度--&amp;gt;&amp;lt;Var name=&#34;listHeight&#34; expression=&#34;160*100&#34; const=&#34;true&#34;/&amp;gt;&amp;lt;!-- 列表显示的最大高度 --&amp;gt;&amp;lt;Var name=&#34;maxHeight&#34; expression=&#34;1400&#34; const=&#34;true&#34;/&amp;gt;&amp;lt;Var name=&#34;move&#34; expression=&#34;min(max(#touchMove + #moveEaseOut...">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">

    
    <link rel="alternate" href="/atom.xml" title="MItheme" type="application/atom+xml">
    
    
    <link rel="icon" href="/images/favicon.png">
    

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <main class="app">
        <header class="header clearfix">
    <div id="nav" class="nav">
    <div class="nav-mobile">
        <button id="open-panel" class="open-panel nav-mobile-item"><i class="icon-documents"></i></button>
        <h1 class="nav-mobile-title nav-mobile-item">MItheme</h1>
        <button id="open-menus" class="open-panel nav-mobile-item"><i class="icon-library"></i></button>
    </div>

    <nav id="nav-inner" class="nav-inner">
        
            <a class="nav-item" href="/">
                <span class="nav-text">首页</span>
            </a>
        
            <a class="nav-item" href="/guide/">
                <span class="nav-text">入门</span>
            </a>
        
            <a class="nav-item" href="/maml/">
                <span class="nav-text">语法</span>
            </a>
        
            <a class="nav-item" href="/categories/tutorials">
                <span class="nav-text">实例</span>
            </a>
        
            <a class="nav-item" href="/categories/frame">
                <span class="nav-text">界面</span>
            </a>
        
            <a class="nav-item" href="/categories/notice">
                <span class="nav-text">公告</span>
            </a>
        
            <a class="nav-item" href="/shenhe">
                <span class="nav-text">审核</span>
            </a>
        
    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <!-- <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value=""></form> -->
        <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="/js/local_search.js"></script>
<script type="text/javascript">      
	var search_path = "search.xml";
	if (search_path.length == 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, 'local-search-input', 'local-search-result');
</script>





<style type="text/css">
/**
  *放置input的div盒子
  *1.此处应我的项目需要，加了些特别的设置，如字体、背景色等，按需添加；
  *2.内层input不加边框，看起来效果会自然一点，所以外层div设置了边框和圆角
*/
.searchbox{
    background-color: #ffffff;
    border: 1px solid #eeeeee;
    border-radius: 6px;
    margin:30px;
}



/**
  *input标签样式
  *宽度适应外层div
  *隐藏边框
  *这里有个小技巧，height与line-height值相等，可保证文字垂直居中；但我发现文字比图标略偏下，进行了微调；
*/
.searchbox input{
    text-indent: 30px;
    height: 30px;
    width: 100%;
    border: none;
    outline: none;
    border-radius: 6px;
}

/**
  *图标样式
  *绝对定位，自定义颜色
*/
.searchbox i{
    position: absolute;
    top: 39px;
    left: 85px;
    margin-left: -15%;
    color: #B2B2B2;
}
</style>


<div class="searchbox">
    <form class="site-search-form">
    	<input type="text" id="local-search-input" class="st-search-input" placeholder="Search">
		<i class="icon-search-stroke"></i>
	</form>
</div>	

<div id="local-search-result" class="local-search-result-cls"></div>




        





        
        
        
        

        
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#带加速度的滑动列表"><span class="toc-number">1.</span> <span class="toc-text">带加速度的滑动列表</span></a></li></ol>
        
    </div>
</aside>

</header>

        <div id="content" class="content">
<article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            带加速度的滑动列表
        </h1>
        
        <div class="article-meta clearfix">
            <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<a class="article-date" href="/list/index.html">
    
    <i class="icon-calendar"></i>
    
    <time datetime="2019-01-10T16:34:14.000Z" itemprop="datePublished">2019-01-11</time>
</a>



<i class="icon-user-stroke" style="color: #999;margin-left: 25px"></i>
 <font color="#999">阅读量：<span id="busuanzi_value_page_pv"></span></font>




            
<div class="article-tag-list">
    <i class="icon-tag"></i>
    <a class="article-tag-link" href="/tags/MAML算法实例/">MAML算法实例</a>
</div>


        </div>
    </header>
    

    




    <section class="article-body markdown-body">
        
        <h2 id="带加速度的滑动列表"><a href="#带加速度的滑动列表" class="headerlink" title="带加速度的滑动列表"></a>带加速度的滑动列表</h2><a id="more"></a>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 需要移动元素的总高度--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"listHeight"</span> <span class="attr">expression</span>=<span class="string">"160*100"</span> <span class="attr">const</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 列表显示的最大高度 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"maxHeight"</span> <span class="attr">expression</span>=<span class="string">"1400"</span> <span class="attr">const</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"move"</span> <span class="attr">expression</span>=<span class="string">"min(max(#touchMove + #moveEaseOut/max(#touchTime,1) , -(#listHeight-#maxHeight) ) ,0)"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"moveEaseOut"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VariableAnimation</span> <span class="attr">loop</span>=<span class="string">"false"</span> <span class="attr">initPause</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> <span class="attr">easeType</span>=<span class="string">"QuintEaseOut"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"#distance*(#touchTime&#123;500)"</span> <span class="attr">dtime</span>=<span class="string">"#touchTime*10"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">VariableAnimation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Group</span> <span class="attr">y</span>=<span class="string">"200"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#maxHeight"</span> <span class="attr">clip</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span>  <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#maxHeight"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"down"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"touchMove"</span> <span class="attr">expression</span>=<span class="string">"#move"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"touchStart"</span> <span class="attr">expression</span>=<span class="string">"#touchMove"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"moveEaseOut.animation"</span> <span class="attr">value</span>=<span class="string">"play(0,0)"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"move"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"touchMove"</span> <span class="attr">expression</span>=<span class="string">"#touchStart + #touch_y-#touch_begin_y"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up,cancel"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"touchTime"</span> <span class="attr">expression</span>=<span class="string">"#time_sys-#touch_begin_time"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"distance"</span> <span class="attr">expression</span>=<span class="string">"(#touch_y-#touch_begin_y)*500"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"moveEaseOut.animation"</span> <span class="attr">value</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Group</span> <span class="attr">y</span>=<span class="string">"#move"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 要显示的界面元素放这里 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Array</span> <span class="attr">count</span>=<span class="string">"100"</span> <span class="attr">indexName</span>=<span class="string">"__l"</span>   &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">x</span>=<span class="string">"540"</span>  <span class="attr">y</span>=<span class="string">"#__l*160"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">w</span>=<span class="string">"1000"</span> <span class="attr">h</span>=<span class="string">"150"</span> <span class="attr">fillColor</span>=<span class="string">"#ffffff"</span> <span class="attr">cornerRadius</span>=<span class="string">"30,30"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"100"</span> <span class="attr">y</span>=<span class="string">"#__l*160+75"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#000000"</span> <span class="attr">size</span>=<span class="string">"50"</span> <span class="attr">textExp</span>=<span class="string">"'这是一条测试文字'+'  '+#__l"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如上实例，只需修改listHeight为你要滑动元素的总高度，maxHeight修改为你要控制显示的高度即可。然后把你需要显示的代码放到Group对应位置就可实现一个带加速度的滑动列表了</p>

        
    </section>
</article>






<br>
<br>






    <!--Leancloud 操作库:-->
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <!--Valine 的核心代码库:-->
    <script src="//cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script>

    <div class="comment"></div>
    <script>
        new Valine({
            // AV 对象来自上面引入av-min.js(老司机们不要开车➳♡゛扎心了老铁)
            av: AV, 
            el: '.comment', // 
            app_id: 'RdQLv2ywe8uqpfSoY5ieIfkk-gzGzoHsz', 
            app_key: 'gNovkG2NHNvu5do7ft3DJOhC', 
            placeholder: '添加评论' 
        });
    </script>










</div>
        <footer class="footer">
	 ©2019 mitheme &nbsp;&nbsp;&nbsp;主题技术交流群:812282219
    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e1ca2b4819eb8e6e077f2e6e8fdd2838";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    
</footer>

    </main>

    <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
    $(function() {
        var nodes = {
            nav: $('#nav'),
            aside: $('#aside'),
            asideInner: $('#aside-inner'),
            navInner: $('#nav-inner')
        };

        var doing = false;
        nodes.asideInner.on('webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend', function() {
            if (nodes.aside.hasClass('mobile-open')) {
                nodes.aside.removeClass('mobile-open');
            } else {
                nodes.aside.removeClass('mobile-close panel-show');
            }
            doing = false;
        });
        $('#open-panel, #aside-mask').on('click', function() {
            if (doing) {
                return;
            }
            
            if (nodes.aside.hasClass('panel-show')) {
                nodes.aside.addClass('mobile-close');
            } else {
                nodes.aside.addClass('mobile-open panel-show');
            }
        });
        $('#open-menus').on('click', function() {
            nodes.navInner.slideToggle();
        });

        if (window.innerWidth <= 960) {
            setTimeout(function() {
                nodes.navInner.slideUp();
            }, 3000);
        }
    });
    </script>
    
        <script type="text/javascript" src="/js/scrollspy.min.js"></script>
        <script type="text/javascript">
        $(document.body).scrollspy({target: '#aside-inner'});
        </script>
    

    

</body>
</html>
