<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">

    

    

    <title>MAML语法 | MItheme</title>
    <meta name="author" content="mitheme">
    <meta name="version" content="1.0.0">
    <meta name="keywords" content>
    <meta name="description" content="锁屏元素锁屏添加文字&amp;lt;Text x=&#34;50&#34; y=&#34;500&#34; color=&#34;#ffffff&#34; size=&#34;48&#34; text=&#34;hello,world!&#34; /&amp;gt;color           支持16进制颜色值：#FFFFFF；支持字符串变量，如：@abc；支持函数argb(255,255,255,255)size            文字大小text            文字内容锁屏插入图片&amp;lt;Image x=&#34;0&#34; y=&#34;0&#34; src=&#34;lock_bg.j...">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">

    
    <link rel="alternate" href="/atom.xml" title="MItheme" type="application/atom+xml">
    
    
    <link rel="icon" href="/images/favicon.png">
    

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <main class="app">
        <header class="header clearfix">
    <div id="nav" class="nav">
    <div class="nav-mobile">
        <button id="open-panel" class="open-panel nav-mobile-item"><i class="icon-documents"></i></button>
        <h1 class="nav-mobile-title nav-mobile-item">MItheme</h1>
        <button id="open-menus" class="open-panel nav-mobile-item"><i class="icon-library"></i></button>
    </div>

    <nav id="nav-inner" class="nav-inner">
        
            <a class="nav-item" href="/">
                <span class="nav-text">首页</span>
            </a>
        
            <a class="nav-item" href="/guide/">
                <span class="nav-text">入门</span>
            </a>
        
            <a class="nav-item active" href="/maml/">
                <span class="nav-text">语法</span>
            </a>
        
            <a class="nav-item" href="/categories/tutorials">
                <span class="nav-text">实例</span>
            </a>
        
            <a class="nav-item" href="/categories/frame">
                <span class="nav-text">界面</span>
            </a>
        
            <a class="nav-item" href="/categories/notice">
                <span class="nav-text">公告</span>
            </a>
        
            <a class="nav-item" href="/shenhe">
                <span class="nav-text">审核</span>
            </a>
        
    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <!-- <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value=""></form> -->
        <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="/js/local_search.js"></script>
<script type="text/javascript">      
	var search_path = "search.xml";
	if (search_path.length == 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, 'local-search-input', 'local-search-result');
</script>





<style type="text/css">
/**
  *放置input的div盒子
  *1.此处应我的项目需要，加了些特别的设置，如字体、背景色等，按需添加；
  *2.内层input不加边框，看起来效果会自然一点，所以外层div设置了边框和圆角
*/
.searchbox{
    background-color: #ffffff;
    border: 1px solid #eeeeee;
    border-radius: 6px;
    margin:30px;
}



/**
  *input标签样式
  *宽度适应外层div
  *隐藏边框
  *这里有个小技巧，height与line-height值相等，可保证文字垂直居中；但我发现文字比图标略偏下，进行了微调；
*/
.searchbox input{
    text-indent: 30px;
    height: 30px;
    width: 100%;
    border: none;
    outline: none;
    border-radius: 6px;
}

/**
  *图标样式
  *绝对定位，自定义颜色
*/
.searchbox i{
    position: absolute;
    top: 39px;
    left: 85px;
    margin-left: -15%;
    color: #B2B2B2;
}
</style>


<div class="searchbox">
    <form class="site-search-form">
    	<input type="text" id="local-search-input" class="st-search-input" placeholder="Search">
		<i class="icon-search-stroke"></i>
	</form>
</div>	

<div id="local-search-result" class="local-search-result-cls"></div>




        





        
        
        
        

        
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#锁屏元素"><span class="toc-number">1.</span> <span class="toc-text">锁屏元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#添加解锁"><span class="toc-number">2.</span> <span class="toc-text">添加解锁</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#文本介绍"><span class="toc-number">3.</span> <span class="toc-text">文本介绍</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#图片介绍"><span class="toc-number">4.</span> <span class="toc-text">图片介绍</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#几何图形"><span class="toc-number">5.</span> <span class="toc-text">几何图形</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#按钮详解"><span class="toc-number">6.</span> <span class="toc-text">按钮详解</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#组的运用"><span class="toc-number">7.</span> <span class="toc-text">组的运用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#图片混合"><span class="toc-number">8.</span> <span class="toc-text">图片混合</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#变量相关"><span class="toc-number">9.</span> <span class="toc-text">变量相关</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#缓动函数"><span class="toc-number">10.</span> <span class="toc-text">缓动函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#常用组件"><span class="toc-number">11.</span> <span class="toc-text">常用组件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#语音文字"><span class="toc-number">12.</span> <span class="toc-text">语音文字</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#外部数据"><span class="toc-number">13.</span> <span class="toc-text">外部数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#充电动画"><span class="toc-number">14.</span> <span class="toc-text">充电动画</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#语言适配"><span class="toc-number">15.</span> <span class="toc-text">语言适配</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#锁屏设置"><span class="toc-number">16.</span> <span class="toc-text">锁屏设置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#高级教程"><span class="toc-number">17.</span> <span class="toc-text">高级教程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#表达式"><span class="toc-number">18.</span> <span class="toc-text">表达式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#全局变量"><span class="toc-number">19.</span> <span class="toc-text">全局变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#其他相关"><span class="toc-number">20.</span> <span class="toc-text">其他相关</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#性能优化"><span class="toc-number">21.</span> <span class="toc-text">性能优化</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#常用-Intent"><span class="toc-number">22.</span> <span class="toc-text">常用 Intent</span></a></li></ol>
        
    </div>
</aside>

</header>

        <div id="content" class="content">
<article class="article" itemscope itemprop="blogPost">
    

    




    <section class="article-body markdown-body">
        
        <h1 id="锁屏元素"><a href="#锁屏元素" class="headerlink" title="锁屏元素"></a>锁屏元素</h1><p><strong>锁屏添加文字</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"50"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">size</span>=<span class="string">"48"</span> <span class="attr">text</span>=<span class="string">"hello,world!"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<pre><code>color           支持16进制颜色值：#FFFFFF；支持字符串变量，如：@abc；支持函数argb(255,255,255,255)
size            文字大小
text            文字内容</code></pre><p><strong>锁屏插入图片</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">src</span>=<span class="string">"lock_bg.jpg"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<pre><code>src             图片名称路径</code></pre><p><strong>元素相关内容详解</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"50"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">size</span>=<span class="string">"48"</span> <span class="attr">text</span>=<span class="string">"hello,world!"</span> <span class="attr">alpha</span>=<span class="string">"255*0.8"</span> <span class="attr">visibility</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"512"</span> <span class="attr">h</span>=<span class="string">"512"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">src</span>=<span class="string">"lock_bg.jpg"</span> <span class="attr">alpha</span>=<span class="string">"255*0.8"</span> <span class="attr">visibility</span>=<span class="string">"1"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x y             相对于屏幕左上角的坐标</span><br><span class="line">h w             宽和高（这个不用解释了吧）</span><br><span class="line">align           坐标点水平对齐方式left, center, right</span><br><span class="line">alignV          坐标点垂直对齐方式top, center, bottom</span><br><span class="line">alpha           透明度0-255，小于等于0不显示</span><br><span class="line">visibility      支持表达式，大于0时则显示，后面有介绍</span><br></pre></td></tr></table></figure>

<p><strong>时间、日期</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--图片类写法--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Time</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"400"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">src</span>=<span class="string">"time.png"</span> <span class="attr">space</span>=<span class="string">"0"</span> <span class="attr">format</span>=<span class="string">"HH:mm"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--文本类写法--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">DateTime</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"400"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">size</span>=<span class="string">"200"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">formatExp</span>=<span class="string">"ifelse(#time_format,'HH:mm','h:mm')"</span> <span class="attr">fontFamily</span>=<span class="string">"miui-thin"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">space          图片的间隙，可以使用这个功能来对时间图片进行排版，支持正负值</span><br><span class="line">format         标准日期格式；时间类型为图片时，可以不写，默认跟随系统 是否为显示 24小时制</span><br><span class="line">formatExp      日期表达式格式</span><br><span class="line">fontFamily     字体源，可选 miui-bold miui-regular miui-light miui-thin</span><br></pre></td></tr></table></figure>

<br>

<h1 id="添加解锁"><a href="#添加解锁" class="headerlink" title="添加解锁"></a>添加解锁</h1><p><strong>用 Button 滑动一段距离来解锁</strong></p>
<p>虽然代码量比 Unlocker 要多，但其实它比 Unlocker 更加简单和容易理解一些，并且对之后的扩展带来可能性，比如做 左右滑动与上滑解锁 不冲突的手势。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--解锁文字提示--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"#screen_width/2"</span> <span class="attr">y</span>=<span class="string">"#screen_height-100-#unlockMove"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">size</span>=<span class="string">"42"</span> <span class="attr">text</span>=<span class="string">"向上滑动解锁"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--解锁相关 变量、动画、按钮--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Group</span> <span class="attr">name</span>=<span class="string">"Unlock"</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!--实时变量--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"unlockMove"</span> <span class="attr">expression</span>=<span class="string">"ifelse(#unlockDown==1,max(#touch_begin_y-#touch_y,0),max(#touch_begin_y-#touch_y,0) &#123; 300,max(#touch_begin_y-#touch_y,0)*(1-#unlockBack),0)"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--动画--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"unlockBack"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">VariableAnimation</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> <span class="attr">easeType</span>=<span class="string">"BounceEaseOut"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">time</span>=<span class="string">"300"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">VariableAnimation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--解锁按钮--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span> <span class="attr">w</span>=<span class="string">"#screen_width"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"down"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"unlockDown"</span> <span class="attr">expression</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up,cancel"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"unlockDown"</span> <span class="attr">expression</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"unlockBack.animation"</span> <span class="attr">value</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--condition 执行条件，当 max(#touch_begin_y-#touch_y,0) 大于等于 300px 时 unlock--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"unlock"</span> <span class="attr">condition</span>=<span class="string">"max(#touch_begin_y-#touch_y,0) &#125;= 300"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>看不明白这个解锁？没关系，下一章详细介绍了 <a href="#按钮的常规写法"><strong>按钮</strong></a> 的各种用途和写法。这里还用到了一些变量，不明白的变量可以先简单阅读下<a href="#全局变量"><strong>全局变量</strong></a><br><br><br><strong>Unlocker 与 Slider</strong><br>Unlocker 与 Slider 的用法是一样的，都是通过滑动来激活某些操作，只不过 Unlocker 能直接解锁， Slider 需要加入解锁命令。<a href="#滑动控件"><strong>点击这里查看更加详细的介绍</strong></a></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--解锁文字提示--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"#screen_width/2"</span> <span class="attr">y</span>=<span class="string">"#screen_height-100-#Unlocker.move_dist"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">size</span>=<span class="string">"42"</span> <span class="attr">text</span>=<span class="string">"向上滑动解锁"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--name="Unlocker" 解锁名称--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Unlocker</span> <span class="attr">name</span>=<span class="string">"Unlocker"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--触摸开始区域--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">StartPoint</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--达到解锁区域，注意写坐标位置--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">EndPoint</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"-#screen_height"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#screen_height-200"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Path</span> <span class="attr">tolerance</span>=<span class="string">"800"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--解锁路径--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Position</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Position</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"-#screen_height"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Path</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">EndPoint</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Unlocker</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>MAML练习题：试着把下列简单锁屏做出来</strong></p>
<p><a href="https://gitee.com/mitheme/image/raw/master/res/MAML教程入门锁屏.psd" target="_blank" rel="noopener"><strong>锁屏PSD附件</strong></a></p>
<br>

<img src="https://gitee.com/hmjiang/maml/raw/master/mix4.svg">

<br>

<h1 id="文本介绍"><a href="#文本介绍" class="headerlink" title="文本介绍"></a>文本介绍</h1><p><strong>Text 文本</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"50"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">size</span>=<span class="string">"48"</span> <span class="attr">textExp</span>=<span class="string">"'hello,world!'"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">color           文字颜色，支持常量：#ffffff；支持字符串变量，@abc；支持函数argb(255,255,255,255)</span><br><span class="line">size            文字大小</span><br><span class="line">bold            粗体，true 表示加粗</span><br><span class="line">format          如果需要在文字中显示变量数字，需要指定格式, 用%d 指定数字位置</span><br><span class="line">paras           如果指定了 format , 需要在 paras 里指定 %d 对应的变量表达式, 可以有多个变量表达式用&quot;,&quot; 隔开</span><br><span class="line">text            文字显示内容,后续带有 Exp 的参数，都表示该参数支持 表达式</span><br><span class="line">textExp         文字显示内容表达式，可以直接调用变量等，示例：“现在时间是9点”，可以写成 textExp=&quot;&apos;现在时间是&apos;+#hour12+&apos;点&apos;&quot;</span><br><span class="line">width           文字宽度,当文字超过指定宽度时会被切掉。如果指定了多行显示，则会折行显示。如果指定了文字滚动，则会在指定的位置滚动显示文字</span><br><span class="line">marqueeSpeed    文字滚动速度，配合上面的宽度使用 marqueeSpeed=&quot;30&quot;</span><br><span class="line">marqueeGap      滚动间隔。当文字显示完后再次出现的间隔，默认为四个汉字的宽度</span><br><span class="line">rotation        旋转角度</span><br><span class="line">multiLine       true/false 是否支持多行显示，默认false</span><br><span class="line">spacingMult     行距倍数 默认1</span><br><span class="line">spacingAdd      行距增加量 默认0</span><br><span class="line">shadowDx        水平方向的阴影相对文字的偏移距离</span><br><span class="line">shadowDy        竖直方向的阴影相对文字的偏移距离</span><br><span class="line">shadowRadius    阴影的模糊半径，可以实现模糊的阴影效果</span><br><span class="line">align           坐标点水平对齐方式left, center, right</span><br><span class="line">alignV          坐标点垂直对齐方式top, center, bottom</span><br><span class="line">shadowColor     阴影的颜色，支持透明度</span><br><span class="line">alpha           不透明度 0 - 255</span><br><span class="line">visibility      元素可见性支持 表达式 &#123;=0 不可见，&#125;0 可见</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：</p>
<ul>
<li>文字在 表达式 中需要用单引号引用，数字变量和字符串变量 则不需要；如：’hello,world!’，@abc，#num；</li>
<li>alpha 值可以写一个简单的表达式；如 alpha=”255 * 0.8” 或 alpha=”2.55 * 80”，都表示 80% 的不透明度</li>
<li>visibility 支持 表达式 {=0 不可见，}0 可见；即使值为 0.00001 也可见，总之大于 0 就可见</li>
</ul>
</blockquote>
<br>

<p>几个实例</p>
<ul>
<li>显示当前时间</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"50"</span> <span class="attr">y</span>=<span class="string">"500"</span>  <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">size</span>=<span class="string">"48"</span> <span class="attr">textExp</span>=<span class="string">"'现在时间是'+#hour12+'点'"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"50"</span> <span class="attr">y</span>=<span class="string">"500"</span>  <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">size</span>=<span class="string">"48"</span> <span class="attr">textExp</span>=<span class="string">"'当前温度'+#weather_temperature+'°'"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>#hour12 为系统全局变量，传递当前小时数给 maml，#weather_temperature 为天气接口获取到的当前温度，后面会讲到</p>
</blockquote>
<br>

<ul>
<li>文字滚动</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"50"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">w</span>=<span class="string">"300"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">size</span>=<span class="string">"50"</span> <span class="attr">marqueeSpeed</span>=<span class="string">"30"</span> <span class="attr">text</span>=<span class="string">"永远相信美好的事情即将发生"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>日期（时间）</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">DateTime</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"400"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">size</span>=<span class="string">"200"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">format</span>=<span class="string">"HH:mm"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>Text 与 DateTime 的区别；<br>DateTime 主要用于快速格式化显示时间，支持 Text 的所有参数，DateTime 直接用下列参数显示不同的时间参数。<br><br></p>
<table>
<thead>
<tr>
<th>代码</th>
<th>释义</th>
<th>示例可能出现的结果</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>十二生肖年</td>
<td>鼠、牛、羊</td>
</tr>
<tr>
<td>G</td>
<td>公元</td>
<td>公元</td>
</tr>
<tr>
<td>Y</td>
<td>汉字年</td>
<td>二〇一五</td>
</tr>
<tr>
<td>YY</td>
<td>干支年</td>
<td>甲子</td>
</tr>
<tr>
<td>yy</td>
<td>数字年</td>
<td>2019</td>
</tr>
<tr>
<td>yy</td>
<td>数字年（2位）</td>
<td>19</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>M</td>
<td>月</td>
<td>1</td>
</tr>
<tr>
<td>MM</td>
<td>月（ 1 - 9 月加 0）</td>
<td>01</td>
</tr>
<tr>
<td>MMM</td>
<td>月（汉字）</td>
<td>九</td>
</tr>
<tr>
<td>N</td>
<td>农历月</td>
<td>正，二，三</td>
</tr>
<tr>
<td>NN</td>
<td>干支月</td>
<td>乙丑</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>D</td>
<td>一年中的第几天</td>
<td>182</td>
</tr>
<tr>
<td>d</td>
<td>数字日</td>
<td>23</td>
</tr>
<tr>
<td>e</td>
<td>农历日</td>
<td>初三</td>
</tr>
<tr>
<td>ee</td>
<td>干支日</td>
<td>丙寅</td>
</tr>
<tr>
<td>t</td>
<td>二十四节气</td>
<td>冬至</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>E</td>
<td>星期</td>
<td>周三</td>
</tr>
<tr>
<td>EEEE</td>
<td>星期</td>
<td>星期三</td>
</tr>
<tr>
<td>EEEEE</td>
<td>星期</td>
<td>三</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>H</td>
<td>24小时制</td>
<td>0~23</td>
</tr>
<tr>
<td>h</td>
<td>12小时制</td>
<td>0~12</td>
</tr>
<tr>
<td>l</td>
<td>时辰地支</td>
<td>酉</td>
</tr>
<tr>
<td>ll</td>
<td>时辰地支</td>
<td>丁酉</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>m</td>
<td>分钟</td>
<td>6</td>
</tr>
<tr>
<td>mm</td>
<td>分钟（两位）</td>
<td>06</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>s</td>
<td>秒</td>
<td>6</td>
</tr>
<tr>
<td>ss</td>
<td>秒</td>
<td>06</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>a</td>
<td>上下午</td>
<td>上午，下午</td>
</tr>
<tr>
<td>aa</td>
<td>上下午（详细）</td>
<td>上午，下午，傍晚，凌晨，晚上</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Z/ZZ/ZZZ</td>
<td>时区</td>
<td>+0800</td>
</tr>
<tr>
<td>ZZZZ</td>
<td>时区</td>
<td>GMT+08:00</td>
</tr>
<tr>
<td>ZZZZZ</td>
<td>时区</td>
<td>08:00</td>
</tr>
<tr>
<td>zzzz</td>
<td>时区</td>
<td>中国标准时间</td>
</tr>
</tbody></table>
<br>

<p>DateTime 实例</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">DateTime</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"400"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">size</span>=<span class="string">"200"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">formatExp</span>=<span class="string">"'今天日期：yyyy年MM月dd日'"</span>  /&gt;</span></span><br></pre></td></tr></table></figure>

<p>DateTime 可指定 value 值，当不指定时默认以当前时间戳来计算时间，当指定时间戳时，会按照指定的时间戳来计算时间</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">DateTime</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"400"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">size</span>=<span class="string">"200"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">formatExp</span>=<span class="string">"'明天日期：yyyy年MM月dd日'"</span> <span class="attr">value</span>=<span class="string">"#time_sys+86400000"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<br>


<h1 id="图片介绍"><a href="#图片介绍" class="headerlink" title="图片介绍"></a>图片介绍</h1><p><strong>图片</strong></p>
<p>图片部件用来在锁屏界面上显示一个图片，可以指定各种属性</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">w</span>=<span class="string">""</span> <span class="attr">h</span>=<span class="string">""</span> <span class="attr">pivotX</span>=<span class="string">""</span> <span class="attr">pivotY</span>=<span class="string">""</span> <span class="attr">rotation</span>=<span class="string">""</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">srcid</span>=<span class="string">""</span> <span class="attr">alpha</span>=<span class="string">""</span> <span class="attr">align</span>=<span class="string">""</span> <span class="attr">antiAlias</span>=<span class="string">""</span> <span class="attr">visibility</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">w</span>=<span class="string">""</span> <span class="attr">h</span>=<span class="string">""</span> <span class="attr">pivotX</span>=<span class="string">""</span> <span class="attr">pivotY</span>=<span class="string">""</span> <span class="attr">pivotZ</span>=<span class="string">""</span> <span class="attr">rotationX</span>=<span class="string">""</span> <span class="attr">rotationY</span>=<span class="string">""</span> <span class="attr">rotationZ</span>=<span class="string">""</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th align="left">释义</th>
</tr>
</thead>
<tbody><tr>
<td>x,y</td>
<td align="left">相对于屏幕左上角的坐标</td>
</tr>
<tr>
<td>w,h</td>
<td align="left">宽和高</td>
</tr>
<tr>
<td>pivotX,pivotY</td>
<td align="left">旋转中心</td>
</tr>
<tr>
<td>rotation</td>
<td align="left">旋转角度，一周360度</td>
</tr>
<tr>
<td>rotationX</td>
<td align="left">X轴旋转角度，一周360度</td>
</tr>
<tr>
<td>rotationY</td>
<td align="left">Y轴旋转角度，一周360度</td>
</tr>
<tr>
<td>rotationZ</td>
<td align="left">Z轴旋转角度，一周360度</td>
</tr>
<tr>
<td>src</td>
<td align="left">图片名称路径</td>
</tr>
<tr>
<td>srcid</td>
<td align="left">图片序列后缀数字，一般用变量表示，可以根据变量显示不同的图片，如果src=”pic.png” srcid=”1”则最后会显示图片”pic_1.png”</td>
</tr>
<tr>
<td>alpha</td>
<td align="left">透明度0-255,小于等于0不显示</td>
</tr>
<tr>
<td>antiAlias</td>
<td align="left">true/false 抗锯齿，如果为 true 图片在变形旋转时不会有锯齿，但是速度会慢</td>
</tr>
<tr>
<td>srcExp</td>
<td align="left">图片源表达式</td>
</tr>
<tr>
<td>srcFormat</td>
<td align="left">图片源格式</td>
</tr>
<tr>
<td>srcForamtExp</td>
<td align="left">图片源格式表达式</td>
</tr>
<tr>
<td>srcParas</td>
<td align="left">图片源参数</td>
</tr>
<tr>
<td>visibility</td>
<td align="left">支持表达式，大于 0 时则显示</td>
</tr>
<tr>
<td>align/alignV</td>
<td align="left">对齐方式</td>
</tr>
</tbody></table>
<br>


<p>图片的几个应用实例</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"300"</span> <span class="attr">y</span>=<span class="string">"100"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">srcExp</span>=<span class="string">"'weather/weather_' + #weather_id + '.png'"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"300"</span> <span class="attr">y</span>=<span class="string">"100"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">src</span>=<span class="string">"weather/weather.png"</span> <span class="attr">srcid</span>=<span class="string">"#weather_id"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>上面两段代码效果相同，都会读取weather目录下 weather_ 对应数字的png文件，例如 #weather_id 传递过来的数字是3，则会读取weather目录下的 weather_3.png 这张图片，可以用来根据不同的天气显示对应图标等，天气数据的获取后面会讲到。srcid 引用图片序列时，图片必须命名为类似  pic_0.png pic_1.png 这样的格式，srcExp 则直接拼接图片的路径，srcExp 可以和 srcid 一起使用，如</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"210"</span> <span class="attr">y</span>=<span class="string">"100"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">srcExp</span>=<span class="string">"'weather/'+#hour24&#125;10+'/weather.png'"</span> <span class="attr">srcid</span>=<span class="string">"#weather_id"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>#hour24}13 表示当前小时数（24小时制，后面全局变量会讲到）大于13点时条件成立，输出值为1，引用weather/1/ 这个目录下的 weather_xx.png 的序列图片，当时间小于等于13点时 #hour24}13 条件不成立，输出值为0，此时引用weather/0/ 这个目录下的 weather_xx.png 的序列图片，可以用来判断不同时间段显示不同的图片，比如白天或者晚上显示不同的图片你可以这样写</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"300"</span> <span class="attr">y</span>=<span class="string">"100"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">srcExp</span>=<span class="string">"'weather/'+#hour24&#125;=6**#hour24&#123;18+'/weather.png'"</span> <span class="attr">srcid</span>=<span class="string">"#weather_id"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>表示从时间大于等于6点且小于18点时显示 weather/1/ 目录下的图片，其他时间则显示weather/0/目录下的图片，当然你也可以用其他变量来代替 #hour24}=6**#hour24{18 的判断，后面会讲到变量及表达式的使用</p>
<p><strong>数字图片</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageNumber</span> <span class="attr">number</span>=<span class="string">""</span> <span class="attr">src</span>=<span class="string">""</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>number</td>
<td>要显示的数字表达式</td>
</tr>
<tr>
<td>src</td>
<td>图片源的文件名，支持SourceAnimation</td>
</tr>
</tbody></table>
<p>如果 <code>src=&quot;number.png&quot;</code> 则会使用 number_0.png number_1.png … 图片文件来绘制数字。</p>
<br>

<p><strong>图片拼接</strong></p>
<p>简单说就是把图片拼接在一起显示；比如需要用图片显示 <code>&#39;2019.03.27&#39;</code>或者 <code>&#39;Wednesday  03.27&#39;</code> 时，之前用 ImageNumber 或者是 Time 控件都有缺陷，要么不能显示长字符，要么不能显示两个 ‘.’，用 ImageChars 可以完美解决这个问题。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageChars</span> <span class="attr">x</span>=<span class="string">"24"</span> <span class="attr">y</span>=<span class="string">"30"</span> <span class="attr">src</span>=<span class="string">"num/string.png"</span> <span class="attr">string</span>=<span class="string">"formatDate('yyyy.MM.dd',#time_sys)"</span> <span class="attr">charNameMap</span>=<span class="string">"00,11,22,33,44,55,66,77,88,99,.spot,:colon,%pct, space,qq,ww,ee,rr,tt,yy,uu,ii,oo,pp,aa,ss,dd,ff,gg,hh,jj,kk,ll,zz,xx,cc,vv,bb,nn,mm,Qqq,Www,Eee,Rrr,Ttt,Yyy,Uuu,Iii,Ooo,Ppp,Aaa,Sss,Ddd,Fff,Ggg,Hhh,Jjj,Kkk,Lll,Zzz,Xxx,Ccc,Vvv,Bbb,Nnn,Mmm"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>string</td>
<td>字符串表达式</td>
</tr>
<tr>
<td>number</td>
<td>数字表达式</td>
</tr>
<tr>
<td>space</td>
<td>显示间隔</td>
</tr>
<tr>
<td>charNameMap</td>
<td>映射列表，用英文逗号分隔，每项第一个字符是原字符，后面的是映射字符串，可以映射到一个或多个字符</td>
</tr>
</tbody></table>
<p>示例中映射图片名称有：</p>
<table>
<thead>
<tr>
<th>原字符</th>
<th>映射名称(图片后缀)</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>0 - 9</td>
<td>0,1,2 … 8,9</td>
<td>数字</td>
</tr>
<tr>
<td>.</td>
<td>spot</td>
<td>点</td>
</tr>
<tr>
<td>:</td>
<td>colon</td>
<td>冒号</td>
</tr>
<tr>
<td>%</td>
<td>pct</td>
<td>百分比</td>
</tr>
<tr>
<td>(注意这里是空格)</td>
<td>space</td>
<td>空格</td>
</tr>
<tr>
<td>a,b,c … z</td>
<td>a,b,c</td>
<td>小写英文</td>
</tr>
<tr>
<td>A,B,C … Z</td>
<td>aa,bb,cc … zz</td>
<td>大写英文</td>
</tr>
</tbody></table>
<blockquote>
<p>注意：</p>
<ul>
<li><p>因同一目录下图片名称不区分大小英文，所以大写英文命名为两个小写英文字符，以表示为大写；比如：A 图片名称为 num_aa.png</p>
</li>
<li><p>某些字符不能直接用，需要转义才可以使用；比如：&amp;</p>
</li>
</ul>
</blockquote>
<br>

<h1 id="几何图形"><a href="#几何图形" class="headerlink" title="几何图形"></a>几何图形</h1><p>示例1：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"20"</span> <span class="attr">w</span>=<span class="string">"100"</span> <span class="attr">h</span>=<span class="string">"200"</span> <span class="attr">cornerRadius</span>=<span class="string">"5,10"</span> <span class="attr">strokeColor</span>=<span class="string">"#ff00ff00"</span> <span class="attr">fillColor</span>=<span class="string">"#ff000000"</span> <span class="attr">weight</span>=<span class="string">"5"</span> <span class="attr">cap</span>=<span class="string">"round"</span> <span class="attr">dash</span>=<span class="string">"1,2,3,4"</span> <span class="attr">strokeAlign</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- FillShaders 填充着色；StrokeShaders 描边着色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">FillShaders</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 线性渐变 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearGradient</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">x1</span>=<span class="string">""</span> <span class="attr">y1</span>=<span class="string">""</span> <span class="attr">tile</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">GradientStop</span> <span class="attr">color</span>=<span class="string">""</span> <span class="attr">position</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">GradientStop</span> <span class="attr">color</span>=<span class="string">""</span> <span class="attr">position</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearGradient</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 放射渐变 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RadialGradient</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">rX</span>=<span class="string">""</span> <span class="attr">rY</span>=<span class="string">""</span> <span class="attr">tile</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">GradientStop</span> <span class="attr">color</span>=<span class="string">""</span> <span class="attr">position</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">GradientStop</span> <span class="attr">color</span>=<span class="string">""</span> <span class="attr">position</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RadialGradient</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 扫描渐变 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">SweepGradient</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">rotation</span>=<span class="string">""</span> <span class="attr">tile</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">GradientStop</span> <span class="attr">color</span>=<span class="string">""</span> <span class="attr">position</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">GradientStop</span> <span class="attr">color</span>=<span class="string">""</span> <span class="attr">position</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">SweepGradient</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">FillShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">StrokeShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">StrokeShaders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Rectangle</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p>示例2：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">w</span>=<span class="string">"#screen_height"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- FillShaders 填充着色；StrokeShaders 描边着色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">FillShaders</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 线性渐变 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearGradient</span> <span class="attr">x</span>=<span class="string">"#screen_width"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">x1</span>=<span class="string">"0"</span> <span class="attr">y1</span>=<span class="string">"#screen_height"</span> <span class="attr">tile</span>=<span class="string">"clamp"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">GradientStop</span> <span class="attr">color</span>=<span class="string">"#050B2A"</span> <span class="attr">position</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">GradientStop</span> <span class="attr">color</span>=<span class="string">"#81425D"</span> <span class="attr">position</span>=<span class="string">"0.5"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">GradientStop</span> <span class="attr">color</span>=<span class="string">"#C87960"</span> <span class="attr">position</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearGradient</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">FillShaders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Rectangle</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p>1.1 通用属性</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>x y</td>
<td>图形起始点；Rectangle 为左上角，其余的几何图形均为 中心点</td>
</tr>
<tr>
<td>cornerRadius</td>
<td>倒角半径，格式”x向半径,y向半径”</td>
</tr>
<tr>
<td>strokeColor</td>
<td>描边颜色。支持多种color指定方式，以下所有 color 类的属性都是如此。</td>
</tr>
<tr>
<td>fillColor</td>
<td>填充色</td>
</tr>
<tr>
<td>weight</td>
<td>描边的线宽</td>
</tr>
<tr>
<td>cap</td>
<td>线头形状。butt无线头（默认）, round（半圆）, squre（方形）</td>
</tr>
<tr>
<td>dash</td>
<td>虚线模式。格式“线长,间隔,线长,间隔….”，e.g. dash=”1,2,3,4”：1像素宽的线段，2像素的间隔，3像素的线段，4像素的间隔，如此重复…</td>
</tr>
<tr>
<td>strokeAlign</td>
<td>描边对齐方式，inner 内描，center 中心描边，outer 外描（默认）</td>
</tr>
<tr>
<td>xfermode</td>
<td>混合模式，与<code>&lt;Image/&gt;</code>相同</td>
</tr>
</tbody></table>
<br>
1.2 FillShaders 与 StrokeShaders

<p>填充着色 和 描边着色 语法完全一致：支持线性渐变着色，放射渐变着色（径向渐变），扫描渐变着色（圆周渐变）。<br><br></p>
<ul>
<li>LinearGradient 线性渐变</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>x  y  x1  y1</td>
<td>渐变轴线(x , y) –&gt; (x1 , y1)</td>
</tr>
<tr>
<td>tile</td>
<td>铺展模式；clamp 拉伸（默认），mirror 镜像，repeat 重复</td>
</tr>
</tbody></table>
<ul>
<li>RadialGradient 放射渐变</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>x  y</td>
<td>圆心位置</td>
</tr>
<tr>
<td>rX  rY</td>
<td>x  y方向的半径</td>
</tr>
</tbody></table>
<ul>
<li>SweepGradient 扫描渐变</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>x y</td>
<td>中心点位置</td>
</tr>
<tr>
<td>rotation</td>
<td>旋转角</td>
</tr>
</tbody></table>
<ul>
<li>GradientStop 渐变点；在指定的几个渐变点颜色之间做渐变</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>color</td>
<td>渐变点的颜色</td>
</tr>
<tr>
<td>position</td>
<td>渐变点位置，0~1.0的浮点数</td>
</tr>
</tbody></table>
<br>

<p>2.Ellipse（椭圆）<br>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Ellipse</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"20"</span> <span class="attr">w</span>=<span class="string">"100"</span> <span class="attr">h</span>=<span class="string">"200"</span> <span class="attr">strokeColor</span>=<span class="string">"#ff00ff00"</span> <span class="attr">fillColor</span>=<span class="string">"#ff000000"</span> <span class="attr">weight</span>=<span class="string">"5"</span> <span class="attr">cap</span>=<span class="string">"round"</span> <span class="attr">dash</span>=<span class="string">"1,2,3,4"</span> <span class="attr">strokeAlign</span>=<span class="string">"center"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">StrokeShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">StrokeShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">FillShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">FillShaders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Ellipse</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x y     椭圆的中心位置；注意：这里是椭圆的中心点，而不是左上角的起点</span><br><span class="line">w h     椭圆的宽，高</span><br></pre></td></tr></table></figure>

<p>3.Circle（圆）<br>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Circle</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"20"</span> <span class="attr">r</span>=<span class="string">"50"</span> <span class="attr">strokeColor</span>=<span class="string">"#ff00ff00"</span> <span class="attr">fillColor</span>=<span class="string">"#ff000000"</span> <span class="attr">weight</span>=<span class="string">"5"</span> <span class="attr">cap</span>=<span class="string">"round"</span> <span class="attr">dash</span>=<span class="string">"1,2,3,4"</span> <span class="attr">strokeAlign</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">StrokeShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">StrokeShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">FillShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">FillShaders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Circle</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x y     圆心位置</span><br><span class="line">r       半径</span><br></pre></td></tr></table></figure>

<p>4.Arc（扇形、弧线）<br>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Arc</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"20"</span> <span class="attr">w</span>=<span class="string">"100"</span> <span class="attr">h</span>=<span class="string">"200"</span> <span class="attr">startAngle</span>=<span class="string">"10"</span> <span class="attr">sweep</span>=<span class="string">"50"</span> <span class="attr">close</span>=<span class="string">"true"</span> <span class="attr">strokeColor</span>=<span class="string">"#ff00ff00"</span> <span class="attr">fillColor</span>=<span class="string">"#ff000000"</span> <span class="attr">weight</span>=<span class="string">"5"</span> <span class="attr">cap</span>=<span class="string">"round"</span> <span class="attr">dash</span>=<span class="string">"1,2,3,4"</span> <span class="attr">strokeAlign</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">StrokeShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">StrokeShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">FillShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">FillShaders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Arc</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x y w h         定位方式与 Ellipse 相同</span><br><span class="line">startAngle      起始角</span><br><span class="line">sweep           扫描角（扇形的角度）</span><br><span class="line">close           是否闭合，true 闭合是扇形，false 不闭合是弧线</span><br></pre></td></tr></table></figure>

<p>5.Line（直线）<br>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Line</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"20"</span> <span class="attr">x1</span>=<span class="string">"100"</span> <span class="attr">y1</span>=<span class="string">"200"</span> <span class="attr">strokeColor</span>=<span class="string">"#ff00ff00"</span> <span class="attr">weight</span>=<span class="string">"5"</span> <span class="attr">cap</span>=<span class="string">"round"</span> <span class="attr">dash</span>=<span class="string">"1,2,3,4"</span> <span class="attr">strokeAlign</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">StrokeShaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">StrokeShaders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Line</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x y x1 y1       直线起点(x,y)，终点(x1,y1)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意事项：</p>
<ul>
<li>对齐方式 align alignV：只有 Rectangle 支持，其他的都不支持，它们的 x y 都是指的中心点位置，不需要对齐方式。</li>
<li>填充：线条类的图形忽略fillColor和 <code>&lt;FillShaders&gt;</code>；有面积的图形同时支持stroke和fill，分别用于描边和填充。<br>优先级：当 strokeColor 和 <strokeshaders> 同时存在时，优先使用 <code>&lt;StrokeShaders&gt;</code> ；fillColor 和 <code>&lt;FillShaders&gt;</code> 亦如此。</strokeshaders></li>
<li>描边颜色：如果要出现描边，则 strokeColor 和 <code>&lt;StrokeShaders&gt;</code> 必须至少一个存在；都不存在就会没有描边。</li>
<li>渐变定位：<code>&lt;LinearGradient x=&quot;&quot; y=&quot;&quot;&gt;</code> … 中的 x y 都是相对它所在的图形元素定位的。</li>
</ul>
</blockquote>
<br>

<h1 id="按钮详解"><a href="#按钮详解" class="headerlink" title="按钮详解"></a>按钮详解</h1><p><strong>按钮的常规写法</strong><br>Button 元素可以用来接收 按下、点击、双击、移动 等事件，并可根据 trigger 的定义来控制界面上其他元素</p>
<p>先看看常用按钮的写法和有哪些参数</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">w</span>=<span class="string">""</span> <span class="attr">h</span>=<span class="string">""</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Normal</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Normal</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Pressed</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Pressed</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>打开应用程序</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">name</span>=<span class="string">"WeChatButton"</span> <span class="attr">x</span>=<span class="string">"#screen_width/2"</span> <span class="attr">y</span>=<span class="string">"#screen_height/2"</span> <span class="attr">w</span>=<span class="string">"182"</span> <span class="attr">h</span>=<span class="string">"182"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 正常显示状态 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Normal</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 这里写 正常显示的元素，比如图片、文字等 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Normal</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 按下显示状态 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Pressed</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 这里写 按下显示的元素，比如图片、文字等 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Pressed</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 执行解锁命令；要记得加上解锁命令，否则只是在后台打开了，还要解锁才能看到 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"unlock"</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 根据 action &amp; package（包名） &amp; class（类名） 启动 应用程序 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">IntentCommand</span> <span class="attr">action</span>=<span class="string">"android.intent.action.MAIN"</span> <span class="attr">package</span>=<span class="string">"com.tencent.mm"</span> <span class="attr">class</span>=<span class="string">"com.tencent.mm.ui.LauncherUI"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>condition（条件），满足 condition（条件）时，执行 command，command=”unlock” 解锁命令</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">w</span>=<span class="string">"#screen_width"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--down (按下)；move（移动）； up (抬起)；double (双击)--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up,cancel"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--condition；当 #touch_begin_y-#touch_y 大于等于 300 时，解锁--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"unlock"</span> <span class="attr">condition</span>=<span class="string">"#touch_begin_y-#touch_y &#125;= 300"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>用 Button 来做一个上滑手势，并解锁</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--解锁文字提示--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"#screen_width/2"</span> <span class="attr">y</span>=<span class="string">"#screen_height-100-#unlockMove"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">size</span>=<span class="string">"42"</span> <span class="attr">text</span>=<span class="string">"向上滑动解锁"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--解锁相关 变量、动画、按钮--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Group</span> <span class="attr">name</span>=<span class="string">"unlock"</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!--实时变量--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"unlockMove"</span> <span class="attr">expression</span>=<span class="string">"ifelse(#unlockDown==1,max(#touch_begin_y-#touch_y,0),max(#touch_begin_y-#touch_y,0) &#123; 300,max(#touch_begin_y-#touch_y,0)*(1-#unlockBack),0)"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--动画--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"unlockBack"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">VariableAnimation</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> <span class="attr">easeType</span>=<span class="string">"BounceEaseOut"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">time</span>=<span class="string">"300"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">VariableAnimation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--解锁按钮--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span> <span class="attr">w</span>=<span class="string">"#screen_width"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"down"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"unlockDown"</span> <span class="attr">expression</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up,cancel"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"unlockDown"</span> <span class="attr">expression</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"unlockBack.animation"</span> <span class="attr">value</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--condition 执行条件，当 max(#touch_begin_y-#touch_y,0) 大于等于 300px 时 unlock--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"unlock"</span> <span class="attr">condition</span>=<span class="string">"max(#-#touch_y,0) &#125;= 300"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>unlockMove 数值变量；<a href="#全局变量"><strong>全局变量</strong></a><br>unlockBack 动画变量，播放时，值从 0-1 ；<br>Button 写按钮的大小，通过 condition（条件） 来判断是否解锁 。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">down 时 unlockDown 等于 1，up,cancel 时 unlockDown 等于 0</span><br><span class="line"></span><br><span class="line">从 unlockMove 开始解释，别被变量吓到了，简化之后实际是这样的 ifelse(x0,y0,x1,y1,0)</span><br><span class="line"></span><br><span class="line">unlockDown==1 时， unlockMove 值等于 max(#touch_begin_y-#touch_y,0)，</span><br><span class="line">#touch_begin_y 减去 #touch_y 等于滑动距离，</span><br><span class="line">max(#touch_begin_y-#touch_y,0) 小于 300 时，unlockMove 值等于max(#touch_begin_y-#touch_y,0)*(1-#unlockBack),否则结果为 0</span><br><span class="line"></span><br><span class="line">按钮执行的命令</span><br><span class="line">1.down 时 unlockDown 等于 1，up,cancel 时 unlockDown 等于 0</span><br><span class="line">2.播放动画 unlockBack.animation</span><br><span class="line">3.condition；当 max(#touch_begin_y-#touch_y,0) 大于等于 300 时，解锁</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：</p>
<ul>
<li>按钮中 trigger 被 triggers 包含</li>
<li>当定义 alignChildren=”true” 时，Button 内的元素坐标都是基于按钮的坐标来计算；否则坐标均是独立计算</li>
<li><code>&lt;ExternCommand command=&quot;unlock&quot; /&gt;</code> 解锁命令；要记得加上，否则只是在后台打开了</li>
</ul>
</blockquote>
<p>常用的几个开关写法<br>1.蓝牙<code>value=&quot;on&quot; value=&quot;off&quot;</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"Bluetooth"</span> <span class="attr">value</span>=<span class="string">"toggle"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.数据<code>value=&quot;on&quot; value=&quot;off&quot;</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"Data"</span> <span class="attr">value</span>=<span class="string">"toggle"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"Data"</span> <span class="attr">value</span>=<span class="string">"on"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>3.铃音/静音/震动</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"RingMode"</span> <span class="attr">value</span>=<span class="string">"toggle"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--下面和上面同样效果--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"RingMode"</span> <span class="attr">value</span>=<span class="string">"normal,silent,vibrate"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--仅正常和静音切换--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"RingMode"</span> <span class="attr">value</span>=<span class="string">"normal,silent"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--仅正常和震动切换--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"RingMode"</span> <span class="attr">value</span>=<span class="string">"normal,vibrate"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--仅切换到静音，用其他button切换到其他状态--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"RingMode"</span> <span class="attr">value</span>=<span class="string">"silent"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.Wifi （toggle/on/off）</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"Wifi"</span> <span class="attr">value</span>=<span class="string">"toggle"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>5.手电筒</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"lightSwitch"</span> <span class="attr">expression</span>=<span class="string">"!(#lightSwitch)"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">IntentCommand</span> <span class="attr">action</span>=<span class="string">"miui.intent.action.TOGGLE_TORCH"</span> <span class="attr">broadcast</span>=<span class="string">"true"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Extra</span> <span class="attr">name</span>=<span class="string">"miui.intent.extra.IS_ENABLE"</span> <span class="attr">type</span>=<span class="string">"boolean"</span> <span class="attr">expression</span>=<span class="string">"ifelse(int(@__miui_version_code)&#125;=8,#lightSwitch,1)"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">IntentCommand</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x y w h             指定坐标、区域大小</span><br><span class="line">action              down (按下)；move（移动）；up (抬起)；double (双击)</span><br><span class="line">Normal              正常状态，所包含的元素只有在此状态下显示</span><br><span class="line">Pressed             按下状态，所包含的元素只有在此状态下显示</span><br><span class="line">ring_mode           铃声模式状态</span><br><span class="line">data_state          数据状态</span><br><span class="line">wifi_state          wifi状态</span><br><span class="line">bluetooth_state     蓝牙状态</span><br><span class="line">@__miui_version_code    系统版本判断，==6 时为 MIUI9，==8 时为 MIUI10</span><br></pre></td></tr></table></figure>

<br>

<h1 id="组的运用"><a href="#组的运用" class="headerlink" title="组的运用"></a>组的运用</h1><p><strong>普通组</strong></p>
<p>组的意思，相当于一个容器，用来包含住其他元素，如图片、时间、控件 等，可理解为一个图层，能便捷地调整内部多个元素的位置和大小，与 Image 一样添加各种动画<br>内部元素的坐标是相对坐标（相对于组坐标）</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Group</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">w</span>=<span class="string">""</span> <span class="attr">h</span>=<span class="string">""</span> <span class="attr">clip</span>=<span class="string">"true"</span> <span class="attr">layered</span>=<span class="string">"true"</span> <span class="attr">visibility</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PositionAnimation</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">SizeAnimation</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Time</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">DateTime</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Text</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<pre><code>clip        true/false,为true时，会裁剪掉超出w h标注范围的内容，不给予显示</code></pre><br>

<p><strong>组操作</strong></p>
<p>如果某组操作会被很多处调用，可以将这组操作写到一个空的 Group 中作为一个 trigger action，然后可以被多处调用。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 组操作命令 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">MethodCommand</span> <span class="attr">target</span>=<span class="string">"triggersContainer"</span> <span class="attr">method</span>=<span class="string">"performAction"</span> <span class="attr">paramTypes</span>=<span class="string">"String"</span> <span class="attr">params</span>=<span class="string">"'content_1'"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Group</span> <span class="attr">name</span>=<span class="string">"triggersContainer"</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"content_1"</span> &gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">""</span> <span class="attr">command</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">expression</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"content_2"</span> &gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"month_num"</span> <span class="attr">expression</span>=<span class="string">"#month_num+1"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<h1 id="图片混合"><a href="#图片混合" class="headerlink" title="图片混合"></a>图片混合</h1><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 例子：（使用时，混合范围要尽可能小，否则会卡） --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Group</span> <span class="attr">w</span>=<span class="string">"#screen_width"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span> <span class="attr">layered</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"300"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">src</span>=<span class="string">"test.png"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"300"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">src</span>=<span class="string">"mask.png"</span> <span class="attr">xfermode</span>=<span class="string">"dst_in"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 或者 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Group</span> <span class="attr">w</span>=<span class="string">"#screen_width"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span> <span class="attr">layered</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"300"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">src</span>=<span class="string">"test.png"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"300"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">src</span>=<span class="string">"mask.png"</span> <span class="attr">xfermodeNum</span>=<span class="string">"6"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这俩个例子实现的结果是一样的，都是遮罩效果，即按照 mask.png 的形状对 test.png 进行裁剪。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">layered         和Group里面的xfermode配合使用，增加该属性旨在让xfermode只作用于Group内部的元素。</span><br><span class="line">xfermode        混合模式，取值有：clear,src,dst,src_over,dst_over,src_in,dst_in,src_out,dst_out,src_atop,dst_atop,xor</span><br><span class="line">xfermodeNum     混合模式支持变量表达式。表达式的取值对应一种混合模式，src, dst, src_over,...xor依次取值 1,2,3 ...11</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意事项：</p>
<ul>
<li>在 Group 使用 layered 时，请务必指定作用区域 w h，否则无法生效（使用时，混合范围要尽可能小，否则会卡）</li>
<li>一个组里可以有 }=2 张图，最后一个有 xfermode 的 Image 会将这个组内前面所有的图片看作一个整体的 Image ，按照 xfermode 的取值与之混合</li>
</ul>
</blockquote>
<br>

<p>对应关系：</p>
<p><svg width="652px" height="342px" viewbox="0 0 652 342" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="插件模板" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="MAML_xfermode" transform="translate(1.000000, 1.000000)"><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="0" width="110" height="40"/><text id="xfermodeNum" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="10.5625" y="25">xfermodeNum</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="40" width="110" height="40"/><text id="xfermode" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="25.375" y="65">xfermode</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="80" width="110" height="90"/><text id="混合效果" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="31" y="125">混合效果</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="0" width="90" height="40"/><text id="0" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="150.5625" y="25">0</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="40" width="90" height="40"/><text id="clear" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="139.554688" y="65">clear</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="80" width="90" height="90"/><path d="M142.630087,138 L167,138 L167,113.630087 C175.626136,115.850301 182,123.680803 182,133 C182,144.045695 173.045695,153 162,153 C152.680803,153 144.850301,146.626136 142.630087,138 L142.630087,138 Z" id="Path" fill="#01C2FD"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="0" width="90" height="40"/><text id="1" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="241.90625" y="25">1</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="40" width="90" height="40"/><text id="src" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="235.25" y="65">src</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="80" width="90" height="90"/><rect id="Rectangle" fill="#EC6941" x="217" y="98" width="40" height="40"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="0" width="90" height="40"/><text id="2" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="330.679688" y="25">2</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="40" width="90" height="40"/><text id="dst" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="324.890625" y="65">dst</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="80" width="90" height="90"/><circle id="Oval" fill="#01C2FD" cx="342" cy="133" r="20"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="0" width="90" height="40"/><text id="3" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="420.632812" y="25">3</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="40" width="90" height="40"/><text id="src_over" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="397.34375" y="65">src_over</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="80" width="90" height="90"/><circle id="Oval" fill="#01C2FD" cx="432" cy="133" r="20"/><rect id="Rectangle" fill="#EC6941" x="397" y="98" width="40" height="40"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="0" width="90" height="40"/><text id="4" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="510.5625" y="25">4</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="40" width="90" height="40"/><text id="dst_over" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="487.484375" y="65">dst_over</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="80" width="90" height="90"/><rect id="Rectangle" fill="#EC6941" x="487" y="98" width="40" height="40"/><circle id="Oval" fill="#01C2FD" cx="522" cy="133" r="20"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="0" width="90" height="40"/><text id="5" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="600.609375" y="25">5</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="40" width="90" height="40"/><text id="src_in" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="585.257812" y="65">src_in</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="80" width="90" height="90"/><path d="M592.630087,138 C592.218765,136.4019 592,134.726498 592,133 C592,121.954305 600.954305,113 612,113 C613.726498,113 615.4019,113.218765 617,113.630087 L617,138 L592.630087,138 L592.630087,138 Z" id="Path" fill="#EC6941"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="170" width="110" height="40"/><text id="xfermodeNum" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="10.5625" y="195">xfermodeNum</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="210" width="110" height="40"/><text id="xfermode" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="25.375" y="235">xfermode</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="250" width="110" height="90"/><text id="混合效果" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="31" y="295">混合效果</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="170" width="90" height="40"/><text id="6" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="150.585938" y="195">6</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="210" width="90" height="40"/><text id="dst_in" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="135.398438" y="235">dst_in</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="250" width="90" height="90"/><path d="M142.630087,308 C142.218765,306.4019 142,304.726498 142,303 C142,291.954305 150.954305,283 162,283 C163.726498,283 165.4019,283.218765 167,283.630087 L167,308 L142.630087,308 L142.630087,308 Z" id="Path" fill="#01C2FD"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="170" width="90" height="40"/><text id="7" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="240.632812" y="195">7</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="210" width="90" height="40"/><text id="src_out" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="220.734375" y="235">src_out</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="250" width="90" height="90"/><path d="M257,283.630087 C255.4019,283.218765 253.726498,283 252,283 C240.954305,283 232,291.954305 232,303 C232,304.726498 232.218765,306.4019 232.630087,308 L217,308 L217,268 L257,268 L257,283.630087 Z" id="Path" fill="#EC6941"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="170" width="90" height="40"/><text id="8" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="330.539062" y="195">8</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="210" width="90" height="40"/><text id="dst_out" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="311.375" y="235">dst_out</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="250" width="90" height="90"/><path d="M322.630087,308 L347,308 L347,283.630087 C355.626136,285.850301 362,293.680803 362,303 C362,314.045695 353.045695,323 342,323 C332.680803,323 324.850301,316.626136 322.630087,308 L322.630087,308 Z" id="Path" fill="#01C2FD"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="170" width="90" height="40"/><text id="9" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="420.585938" y="195">9</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="210" width="90" height="40"/><text id="src_atop" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="397.367188" y="235">src_atop</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="250" width="90" height="90"/><circle id="Oval" fill="#01C2FD" cx="432" cy="303" r="20"/><path d="M412.630087,308 C412.218765,306.4019 412,304.726498 412,303 C412,291.954305 420.954305,283 432,283 C433.726498,283 435.4019,283.218765 437,283.630087 L437,308 L412.630087,308 L412.630087,308 Z" id="Path" fill="#EC6941"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="170" width="90" height="40"/><text id="10" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="507.46875" y="195">10</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="210" width="90" height="40"/><text id="dst_atop" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="487.007812" y="235">dst_atop</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="250" width="90" height="90"/><rect id="Rectangle" fill="#EC6941" x="487" y="268" width="40" height="40"/><path d="M527,283.630087 L527,308 L502.630087,308 C502.218765,306.4019 502,304.726498 502,303 C502,291.954305 510.954305,283 522,283 C523.726498,283 525.4019,283.218765 527,283.630087 Z" id="Path" fill="#01C2FD"/><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="170" width="90" height="40"/><text id="11" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="598.8125" y="195">11</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="210" width="90" height="40"/><text id="xor" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="594.96875" y="235">xor</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="250" width="90" height="90"/><path d="M617,283.630087 C615.4019,283.218765 613.726498,283 612,283 C600.954305,283 592,291.954305 592,303 C592,304.726498 592.218765,306.4019 592.630087,308 L577,308 L577,268 L617,268 L617,283.630087 Z" id="Path" fill="#EC6941"/><path d="M592.630087,308 L617,308 L617,283.630087 C625.626136,285.850301 632,293.680803 632,303 C632,314.045695 623.045695,323 612,323 C602.680803,323 594.850301,316.626136 592.630087,308 L592.630087,308 Z" id="Path" fill="#01C2FD"/></g></g></svg><br><br><br>上图中被混合处理的两张图</p>
<img src="https://gitee.com/hmjiang/maml/raw/master/SrcDst.svg">



<br>

<h1 id="变量相关"><a href="#变量相关" class="headerlink" title="变量相关"></a>变量相关</h1><p><strong>常用变量</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">expression</span>=<span class="string">""</span> <span class="attr">type</span>=<span class="string">""</span> <span class="attr">const</span>=<span class="string">""</span> <span class="attr">threshold</span>=<span class="string">""</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>代码</th>
<th>值</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>自定义名称</td>
<td>变量名</td>
</tr>
<tr>
<td>expression</td>
<td>表达式</td>
<td>变量对应的表达式或常量。注意：字符串常量需要多一套单引号 <code>expression=&quot;&#39;string&#39;&quot;</code></td>
</tr>
<tr>
<td>type</td>
<td>number/string</td>
<td>定义数值变量或字符串变量 默认：number</td>
</tr>
<tr>
<td>const</td>
<td>true/false</td>
<td>为 true 时变量会在初始化后不会重新计算，可以提高效率。如果变量值会在锁屏运行期间改变，const 设为 false；默认：false</td>
</tr>
<tr>
<td>persist</td>
<td>true/false</td>
<td>变量持久化。指定为true后，如果没有重新给定该变量其他的值，那么这个值会一直保存，无论解锁后重新锁定或者重新应用主题都不会还原；默认false</td>
</tr>
<tr>
<td>threshold</td>
<td>阈值</td>
<td>阈值触发，当变量值的变化超过设定的阈值时，可以触发一些命令。</td>
</tr>
</tbody></table>
<br>

<p><strong>数组变量</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 数字类型 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"numVar"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">const</span>=<span class="string">"true"</span> <span class="attr">values</span>=<span class="string">"100,155,210,888,666,900"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 文本类型；注意：文本类型 必须要 包含 expression="''" 属性 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"strVar"</span> <span class="attr">type</span>=<span class="string">"string[]"</span> <span class="attr">const</span>=<span class="string">"true"</span> <span class="attr">expression</span>=<span class="string">"''"</span> <span class="attr">values</span>=<span class="string">"'水瓶座','双鱼座','白羊座','金牛座','双子座','巨蟹座','双子座','处女座','天秤座','天蝎座','射手座','摩羯座'"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>type=&quot;number[]&quot;</code> 数组类型； 数字</p>
<p><code>type=&quot;string[]&quot;</code> 数组类型； 文本</p>
<p>values 值</p>
</blockquote>
<p>数字类型：在实际调用中写 #numVar[0],#numVar[1] … #numVar[5]，即对应 values 的值；[] 支持表达式</p>
<p>文本类型：在实际调用中写 @strVar[0],@strVar[1] … @strVar[12]，即对应 values 的值；[] 支持表达式</p>
<br>

<p><strong>变量动画</strong></p>
<p>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"num"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VariableAnimation</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"100"</span> <span class="attr">time</span>=<span class="string">"300"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">VariableAnimation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 按钮触发  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"num"</span> <span class="attr">command</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>代码</th>
<th>值</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>initPause</td>
<td>true/false</td>
<td><code>initPause=&quot;true&quot;</code> 无命令执行这个动画时，它停在初始态</td>
</tr>
<tr>
<td>loop</td>
<td>true/false</td>
<td>是否循环，默认 true，<code>loop=&quot;false&quot;</code> 时，播放一次就停了</td>
</tr>
<tr>
<td>time</td>
<td>[数字]</td>
<td>毫秒时间，不支持表达式</td>
</tr>
<tr>
<td>dtime</td>
<td>[数字]或者[表达式]</td>
<td>毫秒时间，支持表达式（新）</td>
</tr>
</tbody></table>
<p>灵活运用示例:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"num"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VariableAnimation</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"100"</span> <span class="attr">time</span>=<span class="string">"300"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 动画播放完时,若#num等于100,则执行名为 move 的动画 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"end"</span> <span class="attr">condition</span>=<span class="string">"#num==100"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"move"</span> <span class="attr">command</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">VariableAnimation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>数组动画</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 播放第一个动画；targetIndex 从 0 开始到 8，共 9 个 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"TextAni"</span> <span class="attr">targetIndex</span>=<span class="string">"0"</span> <span class="attr">command</span>=<span class="string">"play"</span> <span class="attr">delay</span>=<span class="string">"2200"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 数组动画 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Array</span> <span class="attr">count</span>=<span class="string">"9"</span> <span class="attr">indexName</span>=<span class="string">"_ani"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"arrayAni"</span> <span class="attr">size</span>=<span class="string">"9"</span> <span class="attr">index</span>=<span class="string">"#_ani"</span> <span class="attr">type</span>=<span class="string">"number[]"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">VariableAnimation</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> <span class="attr">easeType</span>=<span class="string">"CubicEaseOut"</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">time</span>=<span class="string">"600"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">VariableAnimation</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Array</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>变量控制</strong></p>
<p>先看示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">name</span>=<span class="string">"wao"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"114"</span> <span class="attr">src</span>=<span class="string">"dst.png"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PositionAnimation</span> <span class="attr">tag</span>=<span class="string">"show1"</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> <span class="attr">easeType</span>=<span class="string">"ExpoEaseOut"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">y</span>=<span class="string">"300"</span> <span class="attr">time</span>=<span class="string">"300"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">PositionAnimation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">name</span>=<span class="string">"goal"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"114"</span> <span class="attr">src</span>=<span class="string">"dst.png"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PositionAnimation</span> <span class="attr">tag</span>=<span class="string">"show1"</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> <span class="attr">easeType</span>=<span class="string">"ExpoEaseOut"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">y</span>=<span class="string">"300"</span> <span class="attr">time</span>=<span class="string">"300"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">PositionAnimation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PositionAnimation</span> <span class="attr">tag</span>=<span class="string">"show2"</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">y</span>=<span class="string">"300"</span> <span class="attr">time</span>=<span class="string">"0"</span> <span class="attr">easeType</span>=<span class="string">"ExpoEaseOut"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">y</span>=<span class="string">"600"</span> <span class="attr">time</span>=<span class="string">"300"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">PositionAnimation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"wao"</span> <span class="attr">command</span>=<span class="string">"play(0,300)"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"goal"</span> <span class="attr">command</span>=<span class="string">"play"</span> <span class="attr">tags</span>=<span class="string">"show2"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>代码</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>AnimationCommand</td>
<td>播放动画现在统一用这个标签，原因是旧标签不支持 tags,你怀旧的话可以记两个</td>
</tr>
<tr>
<td>target</td>
<td>控制目标名</td>
</tr>
<tr>
<td>command</td>
<td>play (从头播放),  pause（暂停),  resume（从当前位置继续播放）</td>
</tr>
<tr>
<td>tag</td>
<td>用此标签可以实现 一个元素预置多个动画效果，用 tags 来选择性地播放其中一种</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">play(startTime,endTime,loop,delay)  4个参数都支持表达式,可只写前面的参数，后面的忽略</span><br><span class="line">startTime   动画开始时间</span><br><span class="line">endTime     动画结束时间</span><br><span class="line">loop        是否循环播放，默认为0，需要写数字 0,1 或者数值表达式，如果为0表示只播放一遍就停止</span><br><span class="line">delay       是否支持delay，默认0，需要写数字 0,1 或者数值表达式</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<table>
<thead>
<tr>
<th>示例</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>play(100)</td>
<td>从time 100开始播放到结束，不循环播放</td>
</tr>
<tr>
<td>play(100, 500)</td>
<td>从time 100开始播放到500，停止</td>
</tr>
<tr>
<td>play(100,500,1)</td>
<td>从time 100开始播放到500，循环播放</td>
</tr>
</tbody></table>
<div id="缓动函数">
<br>

<h1 id="缓动函数"><a href="#缓动函数" class="headerlink" title="缓动函数"></a>缓动函数</h1><p>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">name</span>=<span class="string">"wao"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"114"</span> <span class="attr">src</span>=<span class="string">"dst.png"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PositionAnimation</span> <span class="attr">tag</span>=<span class="string">"show1"</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> <span class="attr">easeType</span>=<span class="string">"ExpoEaseOut"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">y</span>=<span class="string">"300"</span> <span class="attr">time</span>=<span class="string">"300"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">PositionAnimation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Image</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>缓动动画有两种实现方法：easeTyp 与 easeExp<br><br>1.用easeType直接选缓动类型，对照表如下</p>
<p><svg width="970px" height="659px" viewbox="0 0 970 659" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="插件模板" stroke="none" stroke-width="0.5" fill="none" fill-rule="evenodd"><g id="easeType"><rect id="Rectangle" stroke="#BBBBBB" fill="#FFFFFF" x="0.5" y="0.5" width="969" height="658"/><g id="Group-9" transform="translate(40.000000, 57.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 60.9 4.8 60.9 6 60.8 7.2 60.7 8.4 60.6 9.6 60.5 10.8 60.4 12 60.3 13.2 60.1 14.4 59.9 15.6 59.8 16.8 59.6 18 59.3 19.2 59.1 20.4 58.9 21.6 58.6 22.8 58.3 24 58.1 25.2 57.8 26.4 57.5 27.6 57.1 28.8 56.8 30 56.4 31.2 56.1 32.4 55.7 33.6 55.3 34.8 54.9 36 54.5 37.2 54 38.4 53.6 39.6 53.1 40.8 52.6 42 52.2 43.2 51.7 44.4 51.1 45.6 50.6 46.8 50.1 48 49.5 49.2 49 50.4 48.4 51.6 47.8 52.8 47.2 54 46.6 55.2 46 56.4 45.4 57.6 44.7 58.8 44.1 60 43.4 61.2 42.8 62.4 42.1 63.6 41.4 64.8 40.7 66 40 67.2 39.2 68.4 38.5 69.6 37.8 70.8 37 72 36.3 73.2 35.5 74.4 34.7 75.6 33.9 76.8 33.1 78 32.3 79.2 31.5 80.4 30.7 81.6 29.9 82.8 29.1 84 28.2 85.2 27.4 86.4 26.5 87.6 25.7 88.8 24.8 90 24 91.2 23.1 92.4 22.2 93.6 21.3 94.8 20.4 96 19.5 97.2 18.6 98.4 17.7 99.6 16.8 100.8 15.9 102 15 103.2 14.1 104.4 13.2 105.6 12.2 106.8 11.3 108 10.4 109.2 9.5 110.4 8.5 111.6 7.6 112.8 6.6 114 5.7 115.2 4.8 116.4 3.8 117.6 2.9 118.8 1.9 120 1"/></g><g id="Group-10" transform="translate(190.000000, 57.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 60.1 2.4 59.1 3.6 58.2 4.8 57.2 6 56.3 7.2 55.4 8.4 54.4 9.6 53.5 10.8 52.5 12 51.6 13.2 50.7 14.4 49.8 15.6 48.8 16.8 47.9 18 47 19.2 46.1 20.4 45.2 21.6 44.3 22.8 43.4 24 42.5 25.2 41.6 26.4 40.7 27.6 39.8 28.8 38.9 30 38 31.2 37.2 32.4 36.3 33.6 35.5 34.8 34.6 36 33.8 37.2 32.9 38.4 32.1 39.6 31.3 40.8 30.5 42 29.7 43.2 28.9 44.4 28.1 45.6 27.3 46.8 26.5 48 25.7 49.2 25 50.4 24.2 51.6 23.5 52.8 22.8 54 22 55.2 21.3 56.4 20.6 57.6 19.9 58.8 19.2 60 18.6 61.2 17.9 62.4 17.3 63.6 16.6 64.8 16 66 15.4 67.2 14.8 68.4 14.2 69.6 13.6 70.8 13 72 12.5 73.2 11.9 74.4 11.4 75.6 10.9 76.8 10.3 78 9.8 79.2 9.4 80.4 8.9 81.6 8.4 82.8 8 84 7.5 85.2 7.1 86.4 6.7 87.6 6.3 88.8 5.9 90 5.6 91.2 5.2 92.4 4.9 93.6 4.5 94.8 4.2 96 3.9 97.2 3.7 98.4 3.4 99.6 3.1 100.8 2.9 102 2.7 103.2 2.4 104.4 2.2 105.6 2.1 106.8 1.9 108 1.7 109.2 1.6 110.4 1.5 111.6 1.4 112.8 1.3 114 1.2 115.2 1.1 116.4 1.1 117.6 1 118.8 1 120 1"/></g><g id="Group-11" transform="translate(340.000000, 57.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 60.9 3.6 60.9 4.8 60.8 6 60.6 7.2 60.5 8.4 60.3 9.6 60.1 10.8 59.8 12 59.5 13.2 59.2 14.4 58.9 15.6 58.5 16.8 58.1 18 57.7 19.2 57.3 20.4 56.8 21.6 56.3 22.8 55.8 24 55.3 25.2 54.7 26.4 54.1 27.6 53.5 28.8 52.9 30 52.2 31.2 51.5 32.4 50.8 33.6 50.1 34.8 49.4 36 48.6 37.2 47.9 38.4 47.1 39.6 46.3 40.8 45.5 42 44.6 43.2 43.8 44.4 42.9 45.6 42 46.8 41.2 48 40.3 49.2 39.4 50.4 38.5 51.6 37.5 52.8 36.6 54 35.7 55.2 34.8 56.4 33.8 57.6 32.9 58.8 31.9 60 31 61.2 30.1 62.4 29.1 63.6 28.2 64.8 27.2 66 26.3 67.2 25.4 68.4 24.5 69.6 23.5 70.8 22.6 72 21.7 73.2 20.8 74.4 20 75.6 19.1 76.8 18.2 78 17.4 79.2 16.5 80.4 15.7 81.6 14.9 82.8 14.1 84 13.4 85.2 12.6 86.4 11.9 87.6 11.2 88.8 10.5 90 9.8 91.2 9.1 92.4 8.5 93.6 7.9 94.8 7.3 96 6.7 97.2 6.2 98.4 5.7 99.6 5.2 100.8 4.7 102 4.3 103.2 3.9 104.4 3.5 105.6 3.1 106.8 2.8 108 2.5 109.2 2.2 110.4 1.9 111.6 1.7 112.8 1.5 114 1.4 115.2 1.2 116.4 1.1 117.6 1.1 118.8 1 120 1"/></g><g id="Group-12" transform="translate(510.000000, 57.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 60.9 4.8 60.9 6 60.9 7.2 60.8 8.4 60.7 9.6 60.6 10.8 60.5 12 60.4 13.2 60.3 14.4 60.1 15.6 60 16.8 59.8 18 59.7 19.2 59.5 20.4 59.3 21.6 59.1 22.8 58.8 24 58.6 25.2 58.4 26.4 58.1 27.6 57.8 28.8 57.5 30 57.3 31.2 56.9 32.4 56.6 33.6 56.3 34.8 56 36 55.6 37.2 55.2 38.4 54.9 39.6 54.5 40.8 54.1 42 53.7 43.2 53.2 44.4 52.8 45.6 52.3 46.8 51.9 48 51.4 49.2 50.9 50.4 50.4 51.6 49.9 52.8 49.4 54 48.9 55.2 48.3 56.4 47.7 57.6 47.2 58.8 46.6 60 46 61.2 45.4 62.4 44.8 63.6 44.1 64.8 43.5 66 42.8 67.2 42.2 68.4 41.5 69.6 40.8 70.8 40.1 72 39.4 73.2 38.7 74.4 37.9 75.6 37.2 76.8 36.4 78 35.7 79.2 34.9 80.4 34.1 81.6 33.3 82.8 32.4 84 31.6 85.2 30.8 86.4 29.9 87.6 29 88.8 28.1 90 27.3 91.2 26.3 92.4 25.4 93.6 24.5 94.8 23.6 96 22.6 97.2 21.6 98.4 20.7 99.6 19.7 100.8 18.7 102 17.7 103.2 16.6 104.4 15.6 105.6 14.5 106.8 13.5 108 12.4 109.2 11.3 110.4 10.2 111.6 9.1 112.8 8 114 6.9 115.2 5.7 116.4 4.5 117.6 3.4 118.8 2.2 120 1"/></g><g id="Group-13" transform="translate(660.000000, 57.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 59.8 2.4 58.6 3.6 57.5 4.8 56.3 6 55.2 7.2 54 8.4 52.9 9.6 51.8 10.8 50.7 12 49.6 13.2 48.5 14.4 47.5 15.6 46.4 16.8 45.4 18 44.3 19.2 43.3 20.4 42.3 21.6 41.3 22.8 40.4 24 39.4 25.2 38.4 26.4 37.5 27.6 36.6 28.8 35.7 30 34.8 31.2 33.9 32.4 33 33.6 32.1 34.8 31.2 36 30.4 37.2 29.6 38.4 28.7 39.6 27.9 40.8 27.1 42 26.4 43.2 25.6 44.4 24.8 45.6 24.1 46.8 23.3 48 22.6 49.2 21.9 50.4 21.2 51.6 20.5 52.8 19.8 54 19.2 55.2 18.5 56.4 17.9 57.6 17.2 58.8 16.6 60 16 61.2 15.4 62.4 14.8 63.6 14.3 64.8 13.7 66 13.1 67.2 12.6 68.4 12.1 69.6 11.6 70.8 11.1 72 10.6 73.2 10.1 74.4 9.7 75.6 9.2 76.8 8.8 78 8.3 79.2 7.9 80.4 7.5 81.6 7.1 82.8 6.8 84 6.4 85.2 6 86.4 5.7 87.6 5.4 88.8 5.1 90 4.8 91.2 4.5 92.4 4.2 93.6 3.9 94.8 3.6 96 3.4 97.2 3.2 98.4 2.9 99.6 2.7 100.8 2.5 102 2.4 103.2 2.2 104.4 2 105.6 1.9 106.8 1.7 108 1.6 109.2 1.5 110.4 1.4 111.6 1.3 112.8 1.2 114 1.2 115.2 1.1 116.4 1.1 117.6 1 118.8 1 120 1"/></g><g id="Group-14" transform="translate(810.000000, 57.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 60.9 4.8 60.8 6 60.7 7.2 60.6 8.4 60.4 9.6 60.2 10.8 60 12 59.8 13.2 59.5 14.4 59.3 15.6 59 16.8 58.6 18 58.3 19.2 57.9 20.4 57.5 21.6 57.1 22.8 56.7 24 56.2 25.2 55.7 26.4 55.2 27.6 54.7 28.8 54.1 30 53.5 31.2 52.9 32.4 52.3 33.6 51.6 34.8 50.9 36 50.2 37.2 49.5 38.4 48.7 39.6 47.9 40.8 47.1 42 46.3 43.2 45.4 44.4 44.6 45.6 43.7 46.8 42.7 48 41.8 49.2 40.8 50.4 39.8 51.6 38.8 52.8 37.8 54 36.7 55.2 35.6 56.4 34.5 57.6 33.4 58.8 32.2 60 31 61.2 29.8 62.4 28.6 63.6 27.5 64.8 26.4 66 25.3 67.2 24.2 68.4 23.2 69.6 22.2 70.8 21.2 72 20.2 73.2 19.3 74.4 18.3 75.6 17.4 76.8 16.6 78 15.7 79.2 14.9 80.4 14.1 81.6 13.3 82.8 12.5 84 11.8 85.2 11.1 86.4 10.4 87.6 9.7 88.8 9.1 90 8.5 91.2 7.9 92.4 7.3 93.6 6.8 94.8 6.3 96 5.8 97.2 5.3 98.4 4.9 99.6 4.5 100.8 4.1 102 3.7 103.2 3.4 104.4 3 105.6 2.7 106.8 2.5 108 2.2 109.2 2 110.4 1.8 111.6 1.6 112.8 1.4 114 1.3 115.2 1.2 116.4 1.1 117.6 1 118.8 1 120 1"/></g><g id="Group-15" transform="translate(40.000000, 182.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 61 4.8 61 6 61 7.2 61 8.4 61 9.6 61 10.8 61 12 60.9 13.2 60.9 14.4 60.9 15.6 60.9 16.8 60.8 18 60.8 19.2 60.8 20.4 60.7 21.6 60.7 22.8 60.6 24 60.5 25.2 60.4 26.4 60.4 27.6 60.3 28.8 60.2 30 60.1 31.2 59.9 32.4 59.8 33.6 59.7 34.8 59.5 36 59.4 37.2 59.2 38.4 59 39.6 58.8 40.8 58.6 42 58.4 43.2 58.2 44.4 58 45.6 57.7 46.8 57.4 48 57.2 49.2 56.9 50.4 56.6 51.6 56.2 52.8 55.9 54 55.5 55.2 55.2 56.4 54.8 57.6 54.4 58.8 53.9 60 53.5 61.2 53 62.4 52.6 63.6 52.1 64.8 51.6 66 51 67.2 50.5 68.4 49.9 69.6 49.3 70.8 48.7 72 48 73.2 47.4 74.4 46.7 75.6 46 76.8 45.3 78 44.5 79.2 43.8 80.4 43 81.6 42.1 82.8 41.3 84 40.4 85.2 39.5 86.4 38.6 87.6 37.7 88.8 36.7 90 35.7 91.2 34.7 92.4 33.6 93.6 32.5 94.8 31.4 96 30.3 97.2 29.1 98.4 27.9 99.6 26.7 100.8 25.4 102 24.2 103.2 22.8 104.4 21.5 105.6 20.1 106.8 18.7 108 17.3 109.2 15.8 110.4 14.3 111.6 12.7 112.8 11.2 114 9.6 115.2 7.9 116.4 6.2 117.6 4.5 118.8 2.8 120 1"/></g><g id="Group-16" transform="translate(190.000000, 182.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 59.2 2.4 57.5 3.6 55.8 4.8 54.1 6 52.4 7.2 50.8 8.4 49.3 9.6 47.7 10.8 46.2 12 44.7 13.2 43.3 14.4 41.9 15.6 40.5 16.8 39.2 18 37.8 19.2 36.6 20.4 35.3 21.6 34.1 22.8 32.9 24 31.7 25.2 30.6 26.4 29.5 27.6 28.4 28.8 27.3 30 26.3 31.2 25.3 32.4 24.3 33.6 23.4 34.8 22.5 36 21.6 37.2 20.7 38.4 19.9 39.6 19 40.8 18.2 42 17.5 43.2 16.7 44.4 16 45.6 15.3 46.8 14.6 48 14 49.2 13.3 50.4 12.7 51.6 12.1 52.8 11.5 54 11 55.2 10.4 56.4 9.9 57.6 9.4 58.8 9 60 8.5 61.2 8.1 62.4 7.6 63.6 7.2 64.8 6.8 66 6.5 67.2 6.1 68.4 5.8 69.6 5.4 70.8 5.1 72 4.8 73.2 4.6 74.4 4.3 75.6 4 76.8 3.8 78 3.6 79.2 3.4 80.4 3.2 81.6 3 82.8 2.8 84 2.6 85.2 2.5 86.4 2.3 87.6 2.2 88.8 2.1 90 1.9 91.2 1.8 92.4 1.7 93.6 1.6 94.8 1.6 96 1.5 97.2 1.4 98.4 1.3 99.6 1.3 100.8 1.2 102 1.2 103.2 1.2 104.4 1.1 105.6 1.1 106.8 1.1 108 1.1 109.2 1 110.4 1 111.6 1 112.8 1 114 1 115.2 1 116.4 1 117.6 1 118.8 1 120 1"/></g><g id="Group-17" transform="translate(340.000000, 182.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 61 4.8 61 6 61 7.2 60.9 8.4 60.9 9.6 60.9 10.8 60.8 12 60.8 13.2 60.7 14.4 60.6 15.6 60.5 16.8 60.3 18 60.2 19.2 60 20.4 59.8 21.6 59.6 22.8 59.4 24 59.1 25.2 58.8 26.4 58.4 27.6 58.1 28.8 57.7 30 57.3 31.2 56.8 32.4 56.3 33.6 55.7 34.8 55.1 36 54.5 37.2 53.9 38.4 53.1 39.6 52.4 40.8 51.6 42 50.7 43.2 49.8 44.4 48.8 45.6 47.8 46.8 46.8 48 45.6 49.2 44.5 50.4 43.2 51.6 41.9 52.8 40.6 54 39.1 55.2 37.6 56.4 36.1 57.6 34.5 58.8 32.8 60 31 61.2 29.2 62.4 27.5 63.6 25.9 64.8 24.4 66 22.9 67.2 21.4 68.4 20.1 69.6 18.8 70.8 17.5 72 16.4 73.2 15.2 74.4 14.2 75.6 13.2 76.8 12.2 78 11.3 79.2 10.4 80.4 9.6 81.6 8.9 82.8 8.1 84 7.5 85.2 6.9 86.4 6.3 87.6 5.7 88.8 5.2 90 4.8 91.2 4.3 92.4 3.9 93.6 3.6 94.8 3.2 96 2.9 97.2 2.6 98.4 2.4 99.6 2.2 100.8 2 102 1.8 103.2 1.7 104.4 1.5 105.6 1.4 106.8 1.3 108 1.2 109.2 1.2 110.4 1.1 111.6 1.1 112.8 1.1 114 1 115.2 1 116.4 1 117.6 1 118.8 1 120 1"/></g><g id="Group-18" transform="translate(510.000000, 182.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 61 4.8 61 6 61 7.2 61 8.4 61 9.6 61 10.8 61 12 61 13.2 61 14.4 61 15.6 61 16.8 61 18 61 19.2 61 20.4 60.9 21.6 60.9 22.8 60.9 24 60.9 25.2 60.9 26.4 60.9 27.6 60.8 28.8 60.8 30 60.8 31.2 60.7 32.4 60.7 33.6 60.6 34.8 60.6 36 60.5 37.2 60.4 38.4 60.4 39.6 60.3 40.8 60.2 42 60.1 43.2 60 44.4 59.9 45.6 59.7 46.8 59.6 48 59.5 49.2 59.3 50.4 59.1 51.6 58.9 52.8 58.8 54 58.5 55.2 58.3 56.4 58.1 57.6 57.8 58.8 57.5 60 57.3 61.2 56.9 62.4 56.6 63.6 56.3 64.8 55.9 66 55.5 67.2 55.1 68.4 54.7 69.6 54.2 70.8 53.7 72 53.2 73.2 52.7 74.4 52.1 75.6 51.5 76.8 50.9 78 50.3 79.2 49.6 80.4 48.9 81.6 48.2 82.8 47.4 84 46.6 85.2 45.8 86.4 44.9 87.6 44 88.8 43 90 42 91.2 41 92.4 39.9 93.6 38.8 94.8 37.6 96 36.4 97.2 35.2 98.4 33.9 99.6 32.5 100.8 31.1 102 29.7 103.2 28.2 104.4 26.6 105.6 25 106.8 23.4 108 21.6 109.2 19.9 110.4 18 111.6 16.1 112.8 14.2 114 12.1 115.2 10 116.4 7.9 117.6 5.7 118.8 3.4 120 1"/></g><g id="Group-19" transform="translate(660.000000, 182.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 58.6 2.4 56.3 3.6 54.1 4.8 52 6 49.9 7.2 47.8 8.4 45.9 9.6 44 10.8 42.1 12 40.4 13.2 38.6 14.4 37 15.6 35.4 16.8 33.8 18 32.3 19.2 30.9 20.4 29.5 21.6 28.1 22.8 26.8 24 25.6 25.2 24.4 26.4 23.2 27.6 22.1 28.8 21 30 20 31.2 19 32.4 18 33.6 17.1 34.8 16.2 36 15.4 37.2 14.6 38.4 13.8 39.6 13.1 40.8 12.4 42 11.7 43.2 11.1 44.4 10.5 45.6 9.9 46.8 9.3 48 8.8 49.2 8.3 50.4 7.8 51.6 7.3 52.8 6.9 54 6.5 55.2 6.1 56.4 5.7 57.6 5.4 58.8 5.1 60 4.8 61.2 4.5 62.4 4.2 63.6 3.9 64.8 3.7 66 3.5 67.2 3.2 68.4 3.1 69.6 2.9 70.8 2.7 72 2.5 73.2 2.4 74.4 2.3 75.6 2.1 76.8 2 78 1.9 79.2 1.8 80.4 1.7 81.6 1.6 82.8 1.6 84 1.5 85.2 1.4 86.4 1.4 87.6 1.3 88.8 1.3 90 1.2 91.2 1.2 92.4 1.2 93.6 1.1 94.8 1.1 96 1.1 97.2 1.1 98.4 1.1 99.6 1.1 100.8 1 102 1 103.2 1 104.4 1 105.6 1 106.8 1 108 1 109.2 1 110.4 1 111.6 1 112.8 1 114 1 115.2 1 116.4 1 117.6 1 118.8 1 120 1"/></g><g id="Group-20" transform="translate(810.000000, 182.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 61 4.8 61 6 61 7.2 61 8.4 61 9.6 61 10.8 61 12 61 13.2 60.9 14.4 60.9 15.6 60.9 16.8 60.8 18 60.8 19.2 60.7 20.4 60.6 21.6 60.5 22.8 60.4 24 60.2 25.2 60.1 26.4 59.9 27.6 59.7 28.8 59.4 30 59.1 31.2 58.8 32.4 58.4 33.6 58 34.8 57.6 36 57.1 37.2 56.6 38.4 56 39.6 55.3 40.8 54.6 42 53.8 43.2 52.9 44.4 52 45.6 51 46.8 49.9 48 48.7 49.2 47.4 50.4 46.1 51.6 44.6 52.8 43 54 41.3 55.2 39.5 56.4 37.6 57.6 35.5 58.8 33.3 60 31 61.2 28.7 62.4 26.5 63.6 24.4 64.8 22.5 66 20.7 67.2 19 68.4 17.4 69.6 15.9 70.8 14.6 72 13.3 73.2 12.1 74.4 11 75.6 10 76.8 9.1 78 8.2 79.2 7.4 80.4 6.7 81.6 6 82.8 5.4 84 4.9 85.2 4.4 86.4 4 87.6 3.6 88.8 3.2 90 2.9 91.2 2.6 92.4 2.3 93.6 2.1 94.8 1.9 96 1.8 97.2 1.6 98.4 1.5 99.6 1.4 100.8 1.3 102 1.2 103.2 1.2 104.4 1.1 105.6 1.1 106.8 1.1 108 1 109.2 1 110.4 1 111.6 1 112.8 1 114 1 115.2 1 116.4 1 117.6 1 118.8 1 120 1"/></g><g id="Group-21" transform="translate(40.000000, 307.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 61 4.8 61 6 61 7.2 61 8.4 61 9.6 61 10.8 61 12 61 13.2 61 14.4 61 15.6 61 16.8 61 18 61 19.2 61 20.4 61 21.6 61 22.8 61 24 61 25.2 61 26.4 61 27.6 61 28.8 61 30 60.9 31.2 60.9 32.4 60.9 33.6 60.9 34.8 60.9 36 60.9 37.2 60.8 38.4 60.8 39.6 60.8 40.8 60.7 42 60.7 43.2 60.6 44.4 60.6 45.6 60.5 46.8 60.5 48 60.4 49.2 60.3 50.4 60.2 51.6 60.1 52.8 60 54 59.9 55.2 59.8 56.4 59.6 57.6 59.5 58.8 59.3 60 59.1 61.2 58.9 62.4 58.7 63.6 58.5 64.8 58.2 66 58 67.2 57.7 68.4 57.4 69.6 57.1 70.8 56.7 72 56.3 73.2 55.9 74.4 55.5 75.6 55 76.8 54.6 78 54 79.2 53.5 80.4 52.9 81.6 52.3 82.8 51.6 84 50.9 85.2 50.2 86.4 49.4 87.6 48.6 88.8 47.7 90 46.8 91.2 45.8 92.4 44.8 93.6 43.7 94.8 42.5 96 41.3 97.2 40.1 98.4 38.8 99.6 37.4 100.8 35.9 102 34.4 103.2 32.8 104.4 31.1 105.6 29.3 106.8 27.5 108 25.6 109.2 23.6 110.4 21.5 111.6 19.3 112.8 17 114 14.6 115.2 12.1 116.4 9.5 117.6 6.8 118.8 3.9 120 1"/></g><g id="Group-22" transform="translate(190.000000, 307.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 58.1 2.4 55.2 3.6 52.5 4.8 49.9 6 47.4 7.2 45 8.4 42.7 9.6 40.5 10.8 38.4 12 36.4 13.2 34.5 14.4 32.7 15.6 30.9 16.8 29.2 18 27.6 19.2 26.1 20.4 24.6 21.6 23.2 22.8 21.9 24 20.7 25.2 19.5 26.4 18.3 27.6 17.2 28.8 16.2 30 15.2 31.2 14.3 32.4 13.4 33.6 12.6 34.8 11.8 36 11.1 37.2 10.4 38.4 9.7 39.6 9.1 40.8 8.5 42 8 43.2 7.4 44.4 7 45.6 6.5 46.8 6.1 48 5.7 49.2 5.3 50.4 4.9 51.6 4.6 52.8 4.3 54 4 55.2 3.8 56.4 3.5 57.6 3.3 58.8 3.1 60 2.9 61.2 2.7 62.4 2.5 63.6 2.4 64.8 2.2 66 2.1 67.2 2 68.4 1.9 69.6 1.8 70.8 1.7 72 1.6 73.2 1.5 74.4 1.5 75.6 1.4 76.8 1.4 78 1.3 79.2 1.3 80.4 1.2 81.6 1.2 82.8 1.2 84 1.1 85.2 1.1 86.4 1.1 87.6 1.1 88.8 1.1 90 1.1 91.2 1 92.4 1 93.6 1 94.8 1 96 1 97.2 1 98.4 1 99.6 1 100.8 1 102 1 103.2 1 104.4 1 105.6 1 106.8 1 108 1 109.2 1 110.4 1 111.6 1 112.8 1 114 1 115.2 1 116.4 1 117.6 1 118.8 1 120 1"/></g><g id="Group-23" transform="translate(340.000000, 307.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 61 4.8 61 6 61 7.2 61 8.4 61 9.6 61 10.8 61 12 61 13.2 61 14.4 61 15.6 61 16.8 60.9 18 60.9 19.2 60.9 20.4 60.9 21.6 60.8 22.8 60.8 24 60.7 25.2 60.6 26.4 60.5 27.6 60.4 28.8 60.2 30 60.1 31.2 59.9 32.4 59.6 33.6 59.3 34.8 59 36 58.7 37.2 58.3 38.4 57.8 39.6 57.2 40.8 56.6 42 56 43.2 55.2 44.4 54.3 45.6 53.4 46.8 52.3 48 51.2 49.2 49.9 50.4 48.5 51.6 46.9 52.8 45.2 54 43.3 55.2 41.2 56.4 39 57.6 36.5 58.8 33.9 60 31 61.2 28.1 62.4 25.5 63.6 23 64.8 20.8 66 18.7 67.2 16.8 68.4 15.1 69.6 13.5 70.8 12.1 72 10.8 73.2 9.7 74.4 8.6 75.6 7.7 76.8 6.8 78 6 79.2 5.4 80.4 4.8 81.6 4.2 82.8 3.7 84 3.3 85.2 3 86.4 2.7 87.6 2.4 88.8 2.1 90 1.9 91.2 1.8 92.4 1.6 93.6 1.5 94.8 1.4 96 1.3 97.2 1.2 98.4 1.2 99.6 1.1 100.8 1.1 102 1.1 103.2 1.1 104.4 1 105.6 1 106.8 1 108 1 109.2 1 110.4 1 111.6 1 112.8 1 114 1 115.2 1 116.4 1 117.6 1 118.8 1 120 1"/></g><g id="Group-24" transform="translate(510.000000, 307.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 60.9 2.4 60.9 3.6 60.9 4.8 60.9 6 60.9 7.2 60.9 8.4 60.9 9.6 60.9 10.8 60.9 12 60.9 13.2 60.9 14.4 60.9 15.6 60.9 16.8 60.8 18 60.8 19.2 60.8 20.4 60.8 21.6 60.8 22.8 60.8 24 60.8 25.2 60.7 26.4 60.7 27.6 60.7 28.8 60.7 30 60.7 31.2 60.6 32.4 60.6 33.6 60.6 34.8 60.6 36 60.5 37.2 60.5 38.4 60.5 39.6 60.4 40.8 60.4 42 60.3 43.2 60.3 44.4 60.2 45.6 60.2 46.8 60.1 48 60.1 49.2 60 50.4 59.9 51.6 59.8 52.8 59.8 54 59.7 55.2 59.6 56.4 59.5 57.6 59.4 58.8 59.3 60 59.1 61.2 59 62.4 58.8 63.6 58.7 64.8 58.5 66 58.3 67.2 58.2 68.4 58 69.6 57.7 70.8 57.5 72 57.3 73.2 57 74.4 56.7 75.6 56.4 76.8 56.1 78 55.7 79.2 55.3 80.4 54.9 81.6 54.5 82.8 54 84 53.5 85.2 53 86.4 52.4 87.6 51.8 88.8 51.1 90 50.4 91.2 49.6 92.4 48.8 93.6 47.9 94.8 47 96 46 97.2 44.9 98.4 43.8 99.6 42.5 100.8 41.2 102 39.8 103.2 38.3 104.4 36.6 105.6 34.9 106.8 33 108 31 109.2 28.8 110.4 26.5 111.6 24.1 112.8 21.4 114 18.6 115.2 15.5 116.4 12.3 117.6 8.8 118.8 5 120 1"/></g><g id="Group-25" transform="translate(660.000000, 307.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 57 2.4 53.2 3.6 49.7 4.8 46.5 6 43.4 7.2 40.6 8.4 37.9 9.6 35.5 10.8 33.2 12 31 13.2 29 14.4 27.1 15.6 25.4 16.8 23.7 18 22.2 19.2 20.8 20.4 19.5 21.6 18.2 22.8 17.1 24 16 25.2 15 26.4 14.1 27.6 13.2 28.8 12.4 30 11.6 31.2 10.9 32.4 10.2 33.6 9.6 34.8 9 36 8.5 37.2 8 38.4 7.5 39.6 7.1 40.8 6.7 42 6.3 43.2 5.9 44.4 5.6 45.6 5.3 46.8 5 48 4.8 49.2 4.5 50.4 4.3 51.6 4 52.8 3.8 54 3.7 55.2 3.5 56.4 3.3 57.6 3.2 58.8 3 60 2.9 61.2 2.7 62.4 2.6 63.6 2.5 64.8 2.4 66 2.3 67.2 2.2 68.4 2.2 69.6 2.1 70.8 2 72 1.9 73.2 1.9 74.4 1.8 75.6 1.8 76.8 1.7 78 1.7 79.2 1.6 80.4 1.6 81.6 1.5 82.8 1.5 84 1.5 85.2 1.4 86.4 1.4 87.6 1.4 88.8 1.4 90 1.3 91.2 1.3 92.4 1.3 93.6 1.3 94.8 1.3 96 1.2 97.2 1.2 98.4 1.2 99.6 1.2 100.8 1.2 102 1.2 103.2 1.2 104.4 1.1 105.6 1.1 106.8 1.1 108 1.1 109.2 1.1 110.4 1.1 111.6 1.1 112.8 1.1 114 1.1 115.2 1.1 116.4 1.1 117.6 1.1 118.8 1.1 120 1"/></g><g id="Group-26" transform="translate(810.000000, 307.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 61 4.8 60.9 6 60.9 7.2 60.9 8.4 60.9 9.6 60.9 10.8 60.9 12 60.9 13.2 60.9 14.4 60.8 15.6 60.8 16.8 60.8 18 60.8 19.2 60.7 20.4 60.7 21.6 60.6 22.8 60.6 24 60.5 25.2 60.5 26.4 60.4 27.6 60.3 28.8 60.2 30 60.1 31.2 59.9 32.4 59.8 33.6 59.6 34.8 59.4 36 59.1 37.2 58.8 38.4 58.5 39.6 58.2 40.8 57.7 42 57.3 43.2 56.7 44.4 56.1 45.6 55.3 46.8 54.5 48 53.5 49.2 52.4 50.4 51.1 51.6 49.6 52.8 47.9 54 46 55.2 43.8 56.4 41.2 57.6 38.3 58.8 34.9 60 31 61.2 27.1 62.4 23.7 63.6 20.8 64.8 18.2 66 16 67.2 14.1 68.4 12.4 69.6 10.9 70.8 9.6 72 8.5 73.2 7.5 74.4 6.7 75.6 5.9 76.8 5.3 78 4.8 79.2 4.3 80.4 3.8 81.6 3.5 82.8 3.2 84 2.9 85.2 2.6 86.4 2.4 87.6 2.2 88.8 2.1 90 1.9 91.2 1.8 92.4 1.7 93.6 1.6 94.8 1.5 96 1.5 97.2 1.4 98.4 1.4 99.6 1.3 100.8 1.3 102 1.2 103.2 1.2 104.4 1.2 105.6 1.2 106.8 1.1 108 1.1 109.2 1.1 110.4 1.1 111.6 1.1 112.8 1.1 114 1.1 115.2 1.1 116.4 1 117.6 1 118.8 1 120 1"/></g><g id="Group-27" transform="translate(40.000000, 432.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 61 4.8 61 6 60.9 7.2 60.9 8.4 60.9 9.6 60.8 10.8 60.8 12 60.7 13.2 60.6 14.4 60.6 15.6 60.5 16.8 60.4 18 60.3 19.2 60.2 20.4 60.1 21.6 60 22.8 59.9 24 59.8 25.2 59.7 26.4 59.5 27.6 59.4 28.8 59.2 30 59.1 31.2 58.9 32.4 58.8 33.6 58.6 34.8 58.4 36 58.2 37.2 58 38.4 57.8 39.6 57.6 40.8 57.4 42 57.2 43.2 57 44.4 56.7 45.6 56.5 46.8 56.2 48 56 49.2 55.7 50.4 55.5 51.6 55.2 52.8 54.9 54 54.6 55.2 54.3 56.4 54 57.6 53.6 58.8 53.3 60 53 61.2 52.6 62.4 52.2 63.6 51.9 64.8 51.5 66 51.1 67.2 50.7 68.4 50.3 69.6 49.9 70.8 49.4 72 49 73.2 48.5 74.4 48.1 75.6 47.6 76.8 47.1 78 46.6 79.2 46.1 80.4 45.5 81.6 45 82.8 44.4 84 43.8 85.2 43.3 86.4 42.6 87.6 42 88.8 41.4 90 40.7 91.2 40 92.4 39.3 93.6 38.5 94.8 37.8 96 37 97.2 36.2 98.4 35.3 99.6 34.5 100.8 33.6 102 32.6 103.2 31.6 104.4 30.6 105.6 29.5 106.8 28.4 108 27.2 109.2 25.9 110.4 24.5 111.6 23.1 112.8 21.5 114 19.7 115.2 17.8 116.4 15.6 117.6 12.9 118.8 9.5 120 1"/></g><g id="Group-28" transform="translate(190.000000, 432.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 52.5 2.4 49.1 3.6 46.4 4.8 44.2 6 42.3 7.2 40.5 8.4 38.9 9.6 37.5 10.8 36.1 12 34.8 13.2 33.6 14.4 32.5 15.6 31.4 16.8 30.4 18 29.4 19.2 28.4 20.4 27.5 21.6 26.7 22.8 25.8 24 25 25.2 24.2 26.4 23.5 27.6 22.7 28.8 22 30 21.3 31.2 20.6 32.4 20 33.6 19.4 34.8 18.7 36 18.2 37.2 17.6 38.4 17 39.6 16.5 40.8 15.9 42 15.4 43.2 14.9 44.4 14.4 45.6 13.9 46.8 13.5 48 13 49.2 12.6 50.4 12.1 51.6 11.7 52.8 11.3 54 10.9 55.2 10.5 56.4 10.1 57.6 9.8 58.8 9.4 60 9 61.2 8.7 62.4 8.4 63.6 8 64.8 7.7 66 7.4 67.2 7.1 68.4 6.8 69.6 6.5 70.8 6.3 72 6 73.2 5.8 74.4 5.5 75.6 5.3 76.8 5 78 4.8 79.2 4.6 80.4 4.4 81.6 4.2 82.8 4 84 3.8 85.2 3.6 86.4 3.4 87.6 3.2 88.8 3.1 90 2.9 91.2 2.8 92.4 2.6 93.6 2.5 94.8 2.3 96 2.2 97.2 2.1 98.4 2 99.6 1.9 100.8 1.8 102 1.7 103.2 1.6 104.4 1.5 105.6 1.4 106.8 1.4 108 1.3 109.2 1.2 110.4 1.2 111.6 1.1 112.8 1.1 114 1.1 115.2 1 116.4 1 117.6 1 118.8 1 120 1"/></g><g id="Group-29" transform="translate(340.000000, 432.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 60.9 4.8 60.9 6 60.8 7.2 60.8 8.4 60.7 9.6 60.6 10.8 60.5 12 60.4 13.2 60.3 14.4 60.1 15.6 60 16.8 59.8 18 59.6 19.2 59.4 20.4 59.2 21.6 59 22.8 58.7 24 58.5 25.2 58.2 26.4 57.9 27.6 57.6 28.8 57.3 30 57 31.2 56.6 32.4 56.2 33.6 55.9 34.8 55.4 36 55 37.2 54.5 38.4 54.1 39.6 53.5 40.8 53 42 52.4 43.2 51.8 44.4 51.2 45.6 50.5 46.8 49.8 48 49 49.2 48.2 50.4 47.3 51.6 46.3 52.8 45.2 54 44.1 55.2 42.8 56.4 41.2 57.6 39.4 58.8 37 60 31 61.2 25 62.4 22.6 63.6 20.8 64.8 19.2 66 17.9 67.2 16.8 68.4 15.7 69.6 14.7 70.8 13.8 72 13 73.2 12.2 74.4 11.5 75.6 10.8 76.8 10.2 78 9.6 79.2 9 80.4 8.5 81.6 7.9 82.8 7.5 84 7 85.2 6.6 86.4 6.1 87.6 5.8 88.8 5.4 90 5 91.2 4.7 92.4 4.4 93.6 4.1 94.8 3.8 96 3.5 97.2 3.3 98.4 3 99.6 2.8 100.8 2.6 102 2.4 103.2 2.2 104.4 2 105.6 1.9 106.8 1.7 108 1.6 109.2 1.5 110.4 1.4 111.6 1.3 112.8 1.2 114 1.2 115.2 1.1 116.4 1.1 117.6 1 118.8 1 120 1"/></g><g id="Group-30" transform="translate(510.000000, 432.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 61.1 4.8 61.2 6 61.2 7.2 61.3 8.4 61.4 9.6 61.6 10.8 61.7 12 61.9 13.2 62 14.4 62.2 15.6 62.4 16.8 62.6 18 62.8 19.2 62.9 20.4 63.2 21.6 63.4 22.8 63.6 24 63.8 25.2 64 26.4 64.2 27.6 64.4 28.8 64.6 30 64.8 31.2 65.1 32.4 65.3 33.6 65.4 34.8 65.6 36 65.8 37.2 66 38.4 66.1 39.6 66.3 40.8 66.4 42 66.6 43.2 66.7 44.4 66.8 45.6 66.8 46.8 66.9 48 67 49.2 67 50.4 67 51.6 67 52.8 67 54 66.9 55.2 66.8 56.4 66.7 57.6 66.6 58.8 66.4 60 66.3 61.2 66.1 62.4 65.8 63.6 65.5 64.8 65.2 66 64.9 67.2 64.6 68.4 64.2 69.6 63.7 70.8 63.2 72 62.7 73.2 62.2 74.4 61.6 75.6 61 76.8 60.3 78 59.6 79.2 58.9 80.4 58.1 81.6 57.2 82.8 56.4 84 55.4 85.2 54.5 86.4 53.4 87.6 52.3 88.8 51.2 90 50 91.2 48.8 92.4 47.5 93.6 46.2 94.8 44.8 96 43.3 97.2 41.8 98.4 40.3 99.6 38.6 100.8 37 102 35.2 103.2 33.4 104.4 31.5 105.6 29.6 106.8 27.6 108 25.5 109.2 23.4 110.4 21.2 111.6 18.9 112.8 16.6 114 14.2 115.2 11.7 116.4 9.1 117.6 6.5 118.8 3.8 120 1"/></g><g id="Group-31" transform="translate(660.000000, 427.000000)"><path d="M0,6 L120,6" id="Path" stroke="#BBBBBB"/><path d="M0,66 L120,66" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 66 1.2 63.2 2.4 60.5 3.6 57.9 4.8 55.3 6 52.8 7.2 50.4 8.4 48.1 9.6 45.8 10.8 43.6 12 41.5 13.2 39.4 14.4 37.4 15.6 35.5 16.8 33.6 18 31.8 19.2 30 20.4 28.4 21.6 26.7 22.8 25.2 24 23.7 25.2 22.2 26.4 20.8 27.6 19.5 28.8 18.2 30 17 31.2 15.8 32.4 14.7 33.6 13.6 34.8 12.5 36 11.6 37.2 10.6 38.4 9.8 39.6 8.9 40.8 8.1 42 7.4 43.2 6.7 44.4 6 45.6 5.4 46.8 4.8 48 4.3 49.2 3.8 50.4 3.3 51.6 2.8 52.8 2.4 54 2.1 55.2 1.8 56.4 1.5 57.6 1.2 58.8 0.9 60 0.7 61.2 0.6 62.4 0.4 63.6 0.3 64.8 0.2 66 0.1 67.2 0 68.4 0 69.6 0 70.8 0 72 0 73.2 0.1 74.4 0.2 75.6 0.2 76.8 0.3 78 0.4 79.2 0.6 80.4 0.7 81.6 0.9 82.8 1 84 1.2 85.2 1.4 86.4 1.6 87.6 1.7 88.8 1.9 90 2.2 91.2 2.4 92.4 2.6 93.6 2.8 94.8 3 96 3.2 97.2 3.4 98.4 3.6 99.6 3.8 100.8 4.1 102 4.2 103.2 4.4 104.4 4.6 105.6 4.8 106.8 5 108 5.1 109.2 5.3 110.4 5.4 111.6 5.6 112.8 5.7 114 5.8 115.2 5.8 116.4 5.9 117.6 6 118.8 6 120 6"/></g><g id="Group-32" transform="translate(810.000000, 427.000000)"><path d="M0,6 L120,6" id="Path" stroke="#BBBBBB"/><path d="M0,66 L120,66" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 66 1.2 66 2.4 66.1 3.6 66.3 4.8 66.4 6 66.7 7.2 66.9 8.4 67.2 9.6 67.6 10.8 67.9 12 68.3 13.2 68.6 14.4 69 15.6 69.4 16.8 69.7 18 70.1 19.2 70.4 20.4 70.8 21.6 71.1 22.8 71.3 24 71.6 25.2 71.7 26.4 71.9 27.6 72 28.8 72 30 72 31.2 71.9 32.4 71.7 33.6 71.5 34.8 71.1 36 70.7 37.2 70.2 38.4 69.6 39.6 68.9 40.8 68.1 42 67.2 43.2 66.1 44.4 64.9 45.6 63.6 46.8 62.2 48 60.6 49.2 58.9 50.4 57 51.6 55 52.8 52.8 54 50.4 55.2 47.9 56.4 45.2 57.6 42.3 58.8 39.3 60 36 61.2 32.7 62.4 29.7 63.6 26.8 64.8 24.1 66 21.6 67.2 19.2 68.4 17 69.6 15 70.8 13.1 72 11.4 73.2 9.8 74.4 8.4 75.6 7.1 76.8 5.9 78 4.8 79.2 3.9 80.4 3.1 81.6 2.4 82.8 1.8 84 1.3 85.2 0.9 86.4 0.5 87.6 0.3 88.8 0.1 90 0 91.2 0 92.4 0 93.6 0.1 94.8 0.3 96 0.4 97.2 0.7 98.4 0.9 99.6 1.2 100.8 1.6 102 1.9 103.2 2.3 104.4 2.6 105.6 3 106.8 3.4 108 3.7 109.2 4.1 110.4 4.4 111.6 4.8 112.8 5.1 114 5.3 115.2 5.6 116.4 5.7 117.6 5.9 118.8 6 120 6"/></g><g id="Group-38" transform="translate(40.000000, 557.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 61 3.6 61 4.8 61 6 61 7.2 60.9 8.4 60.9 9.6 60.9 10.8 60.9 12 60.9 13.2 60.9 14.4 60.9 15.6 60.9 16.8 60.9 18 60.9 19.2 60.9 20.4 61 21.6 61 22.8 61.1 24 61.1 25.2 61.2 26.4 61.2 27.6 61.3 28.8 61.3 30 61.3 31.2 61.3 32.4 61.3 33.6 61.3 34.8 61.3 36 61.2 37.2 61.2 38.4 61.1 39.6 60.9 40.8 60.8 42 60.7 43.2 60.5 44.4 60.4 45.6 60.3 46.8 60.1 48 60.1 49.2 60 50.4 60 51.6 60.1 52.8 60.2 54 60.3 55.2 60.6 56.4 60.8 57.6 61.2 58.8 61.5 60 61.9 61.2 62.3 62.4 62.7 63.6 63.1 64.8 63.4 66 63.7 67.2 63.8 68.4 63.8 69.6 63.6 70.8 63.3 72 62.9 73.2 62.2 74.4 61.5 75.6 60.5 76.8 59.5 78 58.3 79.2 57.2 80.4 56.1 81.6 55 82.8 54.2 84 53.5 85.2 53.1 86.4 53.1 87.6 53.5 88.8 54.4 90 55.7 91.2 57.5 92.4 59.7 93.6 62.4 94.8 65.3 96 68.5 97.2 71.8 98.4 74.9 99.6 77.9 100.8 80.4 102 82.2 103.2 83.2 104.4 83.3 105.6 82.1 106.8 79.7 108 76 109.2 70.9 110.4 64.6 111.6 57.1 112.8 48.8 114 39.8 115.2 30.6 116.4 21.6 117.6 13.3 118.8 6.2 120 1"/></g><g id="Group-37" transform="translate(190.000000, 535.000000)"><path d="M0,23 L120,23" id="Path" stroke="#BBBBBB"/><path d="M0,83 L120,83" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 83 1.2 77.8 2.4 70.7 3.6 62.4 4.8 53.4 6 44.2 7.2 35.2 8.4 26.9 9.6 19.4 10.8 13.1 12 8 13.2 4.3 14.4 1.9 15.6 0.7 16.8 0.8 18 1.8 19.2 3.6 20.4 6.1 21.6 9.1 22.8 12.2 24 15.5 25.2 18.7 26.4 21.6 27.6 24.3 28.8 26.5 30 28.3 31.2 29.6 32.4 30.5 33.6 30.9 34.8 30.9 36 30.5 37.2 29.8 38.4 29 39.6 27.9 40.8 26.8 42 25.7 43.2 24.5 44.4 23.5 45.6 22.5 46.8 21.8 48 21.1 49.2 20.7 50.4 20.4 51.6 20.2 52.8 20.2 54 20.3 55.2 20.6 56.4 20.9 57.6 21.3 58.8 21.7 60 22.1 61.2 22.5 62.4 22.8 63.6 23.2 64.8 23.4 66 23.7 67.2 23.8 68.4 23.9 69.6 24 70.8 24 72 23.9 73.2 23.9 74.4 23.7 75.6 23.6 76.8 23.5 78 23.3 79.2 23.2 80.4 23.1 81.6 22.9 82.8 22.8 84 22.8 85.2 22.7 86.4 22.7 87.6 22.7 88.8 22.7 90 22.7 91.2 22.7 92.4 22.7 93.6 22.8 94.8 22.8 96 22.9 97.2 22.9 98.4 23 99.6 23 100.8 23.1 102 23.1 103.2 23.1 104.4 23.1 105.6 23.1 106.8 23.1 108 23.1 109.2 23.1 110.4 23.1 111.6 23.1 112.8 23.1 114 23 115.2 23 116.4 23 117.6 23 118.8 23 120 23"/></g><g id="Group-36" transform="translate(340.000000, 551.000000)"><path d="M0,7 L120,7" id="Path" stroke="#BBBBBB"/><path d="M0,67 L120,67" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 67 1.2 67 2.4 67 3.6 67 4.8 67 6 66.9 7.2 66.9 8.4 66.9 9.6 66.9 10.8 67 12 67 13.2 67 14.4 67.1 15.6 67.1 16.8 67.2 18 67.2 19.2 67.3 20.4 67.3 21.6 67.3 22.8 67.3 24 67.2 25.2 67.1 26.4 67 27.6 66.8 28.8 66.5 30 66.3 31.2 66 32.4 65.8 33.6 65.6 34.8 65.5 36 65.6 37.2 65.8 38.4 66.2 39.6 66.9 40.8 67.8 42 68.9 43.2 70.1 44.4 71.4 45.6 72.6 46.8 73.5 48 74 49.2 74 50.4 73.1 51.6 71.3 52.8 68.4 54 64.4 55.2 59.4 56.4 53.8 57.6 47.7 58.8 41.9 60 37 61.2 32.1 62.4 26.3 63.6 20.2 64.8 14.6 66 9.6 67.2 5.6 68.4 2.7 69.6 0.9 70.8 0 72 0 73.2 0.5 74.4 1.4 75.6 2.6 76.8 3.9 78 5.1 79.2 6.2 80.4 7.1 81.6 7.8 82.8 8.2 84 8.4 85.2 8.5 86.4 8.4 87.6 8.2 88.8 8 90 7.7 91.2 7.5 92.4 7.2 93.6 7 94.8 6.9 96 6.8 97.2 6.7 98.4 6.7 99.6 6.7 100.8 6.7 102 6.8 103.2 6.8 104.4 6.9 105.6 6.9 106.8 7 108 7 109.2 7 110.4 7.1 111.6 7.1 112.8 7.1 114 7.1 115.2 7 116.4 7 117.6 7 118.8 7 120 7"/></g><g id="Group-35" transform="translate(510.000000, 557.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 60.6 2.4 60.4 3.6 60.2 4.8 60.1 6 60.1 7.2 60.2 8.4 60.3 9.6 60.6 10.8 61 12 60.3 13.2 59.6 14.4 59 15.6 58.5 16.8 58 18 57.7 19.2 57.5 20.4 57.3 21.6 57.3 22.8 57.3 24 57.4 25.2 57.6 26.4 57.9 27.6 58.3 28.8 58.8 30 59.4 31.2 60 32.4 60.8 33.6 59.8 34.8 58.3 36 56.8 37.2 55.5 38.4 54.2 39.6 53 40.8 52 42 51 43.2 50.1 44.4 49.2 45.6 48.5 46.8 47.9 48 47.3 49.2 46.9 50.4 46.5 51.6 46.3 52.8 46.1 54 46 55.2 46 56.4 46.1 57.6 46.3 58.8 46.6 60 46.9 61.2 47.4 62.4 47.9 63.6 48.6 64.8 49.3 66 50.1 67.2 51 68.4 52 69.6 53.1 70.8 54.3 72 55.6 73.2 57 74.4 58.4 75.6 60 76.8 59.8 78 56.6 79.2 53.5 80.4 50.4 81.6 47.5 82.8 44.6 84 41.8 85.2 39.2 86.4 36.6 87.6 34.1 88.8 31.7 90 29.4 91.2 27.1 92.4 25 93.6 23 94.8 21 96 19.1 97.2 17.4 98.4 15.7 99.6 14.1 100.8 12.6 102 11.2 103.2 9.9 104.4 8.7 105.6 7.5 106.8 6.5 108 5.5 109.2 4.7 110.4 3.9 111.6 3.2 112.8 2.6 114 2.1 115.2 1.7 116.4 1.4 117.6 1.2 118.8 1 120 1"/></g><g id="Group-34" transform="translate(660.000000, 557.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 61 2.4 60.8 3.6 60.6 4.8 60.3 6 59.9 7.2 59.4 8.4 58.8 9.6 58.1 10.8 57.3 12 56.5 13.2 55.5 14.4 54.5 15.6 53.3 16.8 52.1 18 50.8 19.2 49.4 20.4 47.9 21.6 46.3 22.8 44.6 24 42.8 25.2 41 26.4 39 27.6 37 28.8 34.9 30 32.6 31.2 30.3 32.4 27.9 33.6 25.4 34.8 22.8 36 20.2 37.2 17.4 38.4 14.5 39.6 11.6 40.8 8.5 42 5.4 43.2 2.2 44.4 2 45.6 3.6 46.8 5 48 6.4 49.2 7.7 50.4 8.9 51.6 10 52.8 11 54 11.9 55.2 12.7 56.4 13.4 57.6 14.1 58.8 14.6 60 15.1 61.2 15.4 62.4 15.7 63.6 15.9 64.8 16 66 16 67.2 15.9 68.4 15.7 69.6 15.5 70.8 15.1 72 14.7 73.2 14.1 74.4 13.5 75.6 12.8 76.8 11.9 78 11 79.2 10 80.4 9 81.6 7.8 82.8 6.5 84 5.2 85.2 3.7 86.4 2.2 87.6 1.2 88.8 2 90 2.6 91.2 3.2 92.4 3.7 93.6 4.1 94.8 4.4 96 4.6 97.2 4.7 98.4 4.7 99.6 4.7 100.8 4.5 102 4.3 103.2 4 104.4 3.5 105.6 3 106.8 2.4 108 1.7 109.2 1 110.4 1.4 111.6 1.7 112.8 1.8 114 1.9 115.2 1.9 116.4 1.8 117.6 1.6 118.8 1.4 120 1"/></g><g id="Group-33" transform="translate(810.000000, 557.000000)"><path d="M0,1 L120,1" id="Path" stroke="#BBBBBB"/><path d="M0,61 L120,61" id="Path" stroke="#BBBBBB"/><polyline id="Path" stroke="#000000" stroke-width="2" points="0 61 1.2 60.7 2.4 60.5 3.6 60.6 4.8 60.8 6 60.6 7.2 60 8.4 59.5 9.6 59.2 10.8 59.1 12 59.2 13.2 59.5 14.4 59.9 15.6 60.5 16.8 60.4 18 58.9 19.2 57.6 20.4 56.5 21.6 55.5 22.8 54.8 24 54.2 25.2 53.8 26.4 53.5 27.6 53.5 28.8 53.6 30 54 31.2 54.5 32.4 55.2 33.6 56 34.8 57.1 36 58.3 37.2 59.7 38.4 60.4 39.6 57.2 40.8 54.2 42 51.4 43.2 48.8 44.4 46.3 45.6 44.1 46.8 42 48 40.1 49.2 38.4 50.4 36.8 51.6 35.4 52.8 34.3 54 33.3 55.2 32.5 56.4 31.8 57.6 31.4 58.8 31.1 60 31 61.2 30.9 62.4 30.6 63.6 30.2 64.8 29.5 66 28.7 67.2 27.7 68.4 26.6 69.6 25.2 70.8 23.6 72 21.9 73.2 20 74.4 17.9 75.6 15.7 76.8 13.2 78 10.6 79.2 7.8 80.4 4.8 81.6 1.6 82.8 2.3 84 3.7 85.2 4.9 86.4 6 87.6 6.8 88.8 7.5 90 8 91.2 8.4 92.4 8.5 93.6 8.5 94.8 8.2 96 7.8 97.2 7.2 98.4 6.5 99.6 5.5 100.8 4.4 102 3.1 103.2 1.6 104.4 1.5 105.6 2.1 106.8 2.5 108 2.8 109.2 2.9 110.4 2.8 111.6 2.5 112.8 2 114 1.4 115.2 1.2 116.4 1.4 117.6 1.5 118.8 1.3 120 1"/></g><text id="BounceEaseInOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="813.070312" y="537">BounceEaseInOut</tspan></text><text id="BounceEaseOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="668.789062" y="537">BounceEaseOut</tspan></text><text id="BounceEaseIn" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="524.390625" y="537">BounceEaseIn</tspan></text><text id="ElasticEaseInOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="346.304688" y="537">ElasticEaseInOut</tspan></text><text id="ElasticEaseOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="202.023438" y="537">ElasticEaseOut</tspan></text><text id="ElasticEaseIn" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="57.625" y="537">ElasticEaseIn</tspan></text><text id="BackEaseInOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="821.15625" y="412">BackEaseInOut</tspan></text><text id="BackEaseOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="676.875" y="412">BackEaseOut</tspan></text><text id="BackEaseIn" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="532.476562" y="412">BackEaseIn</tspan></text><text id="CircEaseInOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="354.507812" y="412">CircEaseInOut</tspan></text><text id="CircEaseOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="210.226562" y="412">CircEaseOut</tspan></text><text id="CircEaseIn" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="65.828125" y="412">CircEaseIn</tspan></text><text id="ExpoEaseInOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="821.109375" y="287">ExpoEaseInOut</tspan></text><text id="ExpoEaseOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="676.828125" y="287">ExpoEaseOut</tspan></text><text id="ExpoEaseIn" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="532.429688" y="287">ExpoEaseIn</tspan></text><text id="QuintEaseInOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="350.359375" y="287">QuintEaseInOut</tspan></text><text id="QuintEaseOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="206.078125" y="287">QuintEaseOut</tspan></text><text id="QuintEaseIn" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="61.6796875" y="287">QuintEaseIn</tspan></text><text id="QuartEaseInOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="819.375" y="162">QuartEaseInOut</tspan></text><text id="QuartEaseOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="675.09375" y="162">QuartEaseOut</tspan></text><text id="QuartEaseIn" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="530.695312" y="162">QuartEaseIn</tspan></text><text id="CubicEaseInOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="349.1875" y="162">CubicEaseInOut</tspan></text><text id="CubicEaseOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="204.90625" y="162">CubicEaseOut</tspan></text><text id="CubicEaseIn" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="60.5078125" y="162">CubicEaseIn</tspan></text><text id="QuadEaseInOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="820.125" y="37">QuadEaseInOut</tspan></text><text id="QuadEaseOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="675.84375" y="37">QuadEaseOut</tspan></text><text id="QuadEaseIn" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="531.445312" y="37">QuadEaseIn</tspan></text><text id="SineEaseInOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="353.171875" y="37">SineEaseInOut</tspan></text><text id="SineEaseOut" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="208.890625" y="37">SineEaseOut</tspan></text><text id="SineEaseIn" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#FF0000"><tspan x="64.4921875" y="37">SineEaseIn</tspan></text></g></g></svg><br><br></p>
<p><a href="/easy">点击查看动态效果</a></p>
<ul>
<li>BackEase 可以带1个参数，overshot</li>
<li>ElasticEase 可以带2个参数，priod 和 amplitude</li>
<li>参数为常数，比如 BackEaseIn(1.5) ElasticEase(2,3)</li>
</ul>
<p>2.用easeExp来填表达式的方式，引用一个内置变量 #__ratio ,可以自定义缓动函数</p>
<ul>
<li>比如 easeType=”QuadEaseIn” 也可以用 <code>easeExp=&quot;#__ratio*#__ratio&quot;</code> 来实现</li>
<li>当有easeExp时，easeType不起作用</li>
<li>属性作用于从该帧到下一帧，最后一帧没用</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"aaaaaa"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VariableAnimation</span> <span class="attr">loop</span>=<span class="string">"false"</span> <span class="attr">initPause</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> <span class="attr">easeExp</span>=<span class="string">"#__ratio*#__ratio"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"100"</span> <span class="attr">time</span>=<span class="string">"2000"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">VariableAnimation</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>元素动画<br>所有元素都支持动画（下面用 Image 来举例）；动画分为：图片源，位置，大小，旋转，透明度<br><br>每种动画相互独立，各自循环播放，动画由若干关键帧组成，关键帧包括帧属性和时间，除图片源动画外，其它动画会根据当前时间找到相邻的两个关键帧，然后线性插值计算当前的属性。 如果第一帧时间不从0开始，则默认时间为0的第一帧为图片原始属性,时间单位为毫秒。 位置动画中的位置是相对于图片自身的坐标。<br><br></p>
<p>源动画</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">SourcesAnimation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Source</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">src</span>=<span class="string">"pic1.png"</span> <span class="attr">time</span>=<span class="string">"100"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Source</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">src</span>=<span class="string">"pic2.png"</span> <span class="attr">time</span>=<span class="string">"200"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Source</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">src</span>=<span class="string">"pic3.png"</span> <span class="attr">time</span>=<span class="string">"300"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">SourcesAnimation</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：</p>
<ul>
<li><p>只有图片支持图片源动画</p>
</li>
<li><p>图片源动画稍有不同，没有插值；x, y 可选，表示相对图片的位置，当前的图片是在列表里的找到第一个大于当前时间的那个点指定的</p>
</li>
</ul>
</blockquote>
<br>
等比缩放

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">pivotX</span>=<span class="string">"50"</span> <span class="attr">pivotY</span>=<span class="string">"50"</span> <span class="attr">src</span>=<span class="string">"bg2.png"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ScaleAnimation</span> <span class="attr">loop</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">time</span>=<span class="string">"1000"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ScaleAnimation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Image</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">pivotX</span>=<span class="string">"50"</span> <span class="attr">pivotY</span>=<span class="string">"50"</span> <span class="attr">src</span>=<span class="string">"bg.png"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--位移--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PositionAnimation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"100"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"200"</span> <span class="attr">time</span>=<span class="string">"1000"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">PositionAnimation</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--平面旋转--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">RotationAnimation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"360"</span> <span class="attr">time</span>=<span class="string">"2000"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">RotationAnimation</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--非等比缩放--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">SizeAnimation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">w</span>=<span class="string">"100"</span> <span class="attr">h</span>=<span class="string">"100"</span> <span class="attr">time</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">w</span>=<span class="string">"200"</span> <span class="attr">h</span>=<span class="string">"400"</span> <span class="attr">time</span>=<span class="string">"1000"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">w</span>=<span class="string">"100"</span> <span class="attr">h</span>=<span class="string">"100"</span> <span class="attr">time</span>=<span class="string">"2000"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">SizeAnimation</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--透明度--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">AlphaAnimation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"255"</span> <span class="attr">time</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"100"</span> <span class="attr">time</span>=<span class="string">"1000"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"255"</span> <span class="attr">time</span>=<span class="string">"2000"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">AlphaAnimation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Image</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>
例子：位置动画表示 1000毫秒 从屏幕最左端到最右端，停留1秒，透明度动画表示开始透明度为175，在从最左端到最右端过程中透明度不变，到达最右端后0.5秒渐变为不透明，然后 500毫秒 变为透明消失。然后循环播放

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"#screen_height-177"</span> <span class="attr">src</span>=<span class="string">"charging_light.png"</span> <span class="attr">category</span>=<span class="string">"Charging"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PositionAnimation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"1000"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">x</span>=<span class="string">"1080"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"2000"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">PositionAnimation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">AlphaAnimation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"175"</span> <span class="attr">time</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"175"</span> <span class="attr">time</span>=<span class="string">"1000"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"255"</span> <span class="attr">time</span>=<span class="string">"1500"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"2000"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">AlphaAnimation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Image</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>常见命令</strong></p>
<p>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"test_a"</span> <span class="attr">property</span>=<span class="string">"visibility"</span> <span class="attr">value</span>=<span class="string">"true/false"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"test_b.visibility"</span> <span class="attr">value</span>=<span class="string">"true/false"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"test_c.animation"</span> <span class="attr">value</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"test_c"</span> <span class="attr">command</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"test1"</span> <span class="attr">expression</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">SoundCommand</span> <span class="attr">sound</span>=<span class="string">"famous.wav"</span> <span class="attr">volume</span>=<span class="string">"0.5"</span> <span class="attr">loop</span>=<span class="string">"false"</span> <span class="attr">keepCur</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"unlock"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>可见性命令</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"test_a"</span> <span class="attr">property</span>=<span class="string">"visibility"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"test_a.visibility"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>上面只不过是两种不同的写法，效果一样<br><br>|代码|解释|<br>|-|-|<br>|Command|基础命令，可以通过对象名和对象的属性来控制界面里的其他元素。通常控制的是元素的可见性（visibility）和动画播放（animation）。|<br>|target|控制目标名|<br>|property|属性名，目前支持：visibility|<br>|value|属性值，目前针对boolean有: true, false, toggle|</p>
<p><strong>动画命令</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"test_c.animation"</span> <span class="attr">value</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"test_c"</span> <span class="attr">command</span>=<span class="string">"play"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>上面两行是播放动画的两种写法，效果一样！</p>
<p><strong>声音命令</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">SoundCommand</span> <span class="attr">sound</span>=<span class="string">"famous.wav"</span> <span class="attr">volume</span>=<span class="string">"0.5"</span> <span class="attr">loop</span>=<span class="string">"false"</span> <span class="attr">keepCur</span>=<span class="string">"true"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>代码</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>sound</td>
<td>填声音文件路径名</td>
</tr>
<tr>
<td>volume</td>
<td>声音大小，0 - 1 的一个浮点数</td>
</tr>
<tr>
<td>loop</td>
<td>是否循环播放，true/false，默认是false.</td>
</tr>
<tr>
<td>keepCur</td>
<td>播放此音频时，是否保持当前正在播放的声音，true/false，默认false</td>
</tr>
</tbody></table>
<blockquote>
<p>注意：声音文件的大小要求不超过500kB，时长不超过10秒（10秒之后的声音播放不出来）。</p>
</blockquote>
<p><strong>变量命令</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--VariableCommand：用来控制变量（Var）的值--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"w"</span> <span class="attr">expression</span>=<span class="string">"#screen_width"</span> <span class="attr">delay</span>=<span class="string">"100"</span> <span class="attr">condition</span>=<span class="string">"#switch"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>代码</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>变量名</td>
</tr>
<tr>
<td>expression</td>
<td>赋值表达式</td>
</tr>
<tr>
<td>condition</td>
<td>条件判断，支持表达式。当condition里的条件判断为真时，执行命令；为假时，不执行。</td>
</tr>
<tr>
<td>delay</td>
<td>延迟，以毫秒记。读取该命令后延迟一段时间再执行</td>
</tr>
<tr>
<td>delayCondition</td>
<td>是延时判断，在delay的时间之后再进行判断</td>
</tr>
</tbody></table>
<p><strong>通用命令</strong><br><br>1.ExternCommand：用来向外部程序发送命令<br></p>
<p><code>&lt;ExternCommand command=&quot;命令名&quot; numPara=&quot;参数1,数字表达式&quot; strPara=&quot;参数2,字符串表达式&quot;/&gt;</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"unlock"</span> <span class="attr">delay</span>=<span class="string">"100"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>上面示例就是一种解锁命令，100毫秒后解锁</p>
<p>2.ExternalCommand<br><br>与 ExternCommand 相对，是用来接收外部命令的命令，典型的用法：在锁屏中，通常用来接收开屏/关屏命令，从而执行一些命令；在桌面插件中，用来检测切屏从而执行命令</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!--resume 开屏时执行的命令，pause 关屏时执行的命令--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ExternalCommands</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"resume"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"target.animation"</span> <span class="attr">value</span>=<span class="string">"play"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"pause"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"pause_time"</span> <span class="attr">expression</span>=<span class="string">"#time_sys"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ExternalCommands</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--桌面插件切屏时使用的示例--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ExternalCommands</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"resume"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"__root.animation"</span> <span class="attr">value</span>=<span class="string">"play"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"pause"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Command</span> <span class="attr">target</span>=<span class="string">"__root.animation"</span> <span class="attr">value</span>=<span class="string">"play"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ExternalCommands</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>打开程序</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">IntentCommand</span> <span class="attr">action</span>=<span class="string">"android.intent.action.MAIN"</span> <span class="attr">package</span>=<span class="string">"com.android.thememanager"</span> <span class="attr">class</span>=<span class="string">"com.android.thememanager.ThemeResourceTabActivity"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"unlock"</span> <span class="attr">delay</span>=<span class="string">"100"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>要记得加上解锁命令，否则只是在后台打开了，还要解锁才能看到</p>
</blockquote>
<br>

<div id="滑动控件">
# 滑动控件

<p>Unlocker 与 Slider 的用法是一样的，都是通过滑动来激活某些操作，只不过 Unlocker 能直接解锁。</p>
<p>先看示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Slider</span> <span class="attr">name</span>=<span class="string">"slider"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">StartPoint</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"1600"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"320"</span> <span class="attr">easeType</span>=<span class="string">"QuadEaseOut"</span> <span class="attr">easeTime</span>=<span class="string">"1000"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">NormalState</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"31"</span> <span class="attr">y</span>=<span class="string">"#screen_height-117"</span> <span class="attr">src</span>=<span class="string">"unlock_button.png"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">NormalState</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Trigger Slider的状态切换时，支持Trigger触发 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">PressedState</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"640"</span> <span class="attr">y</span>=<span class="string">"240"</span> <span class="attr">w</span>=<span class="string">"640"</span>  <span class="attr">color</span>=<span class="string">"#FE9D01"</span> <span class="attr">size</span>=<span class="string">"28"</span> <span class="attr">text</span>=<span class="string">"小米主题"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">PressedState</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ReachedState</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">DateTime</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Trigger</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">SoundCommand</span> <span class="attr">sound</span>=<span class="string">"reached.mp3"</span> <span class="attr">volume</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ReachedState</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">StartPoint</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">EndPoint</span> <span class="attr">x</span>=<span class="string">"359"</span> <span class="attr">y</span>=<span class="string">"#screen_height-117"</span> <span class="attr">w</span>=<span class="string">"90"</span> <span class="attr">h</span>=<span class="string">"90"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Path</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"#screen_height-117"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Position</span> <span class="attr">x</span>=<span class="string">"31"</span> <span class="attr">y</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Position</span> <span class="attr">x</span>=<span class="string">"359"</span> <span class="attr">y</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Path</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">NormalState</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">NormalState</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">PressedState</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">PressedState</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ReachedState</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ReachedState</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">EndPoint</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Slider</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>StartPoint</td>
<td>起始点</td>
</tr>
<tr>
<td>EndPoint</td>
<td>目标点</td>
</tr>
<tr>
<td>easeType=“”或 easeExp=“”</td>
<td>缓动类型；<a href="#缓动函数"><strong>缓动函数</strong></a></td>
</tr>
<tr>
<td>easeTime=“”</td>
<td>缓动时间</td>
</tr>
<tr>
<td>alwaysShow</td>
<td>true/false” 默认是false，当一个Slider可见时，其他Slider消失。</td>
</tr>
<tr>
<td>normalSound（StartPoint下）</td>
<td>指定在normal状态播放的音效</td>
</tr>
<tr>
<td>pressedSound（StartPoint下）</td>
<td>指定在press状态播放的音效</td>
</tr>
<tr>
<td>reachedSound（EndPoint下）</td>
<td>到达该endpoint后播放的音效</td>
</tr>
<tr>
<td>NormalState</td>
<td>正常状态</td>
</tr>
<tr>
<td>PressedState</td>
<td>按下状态</td>
</tr>
<tr>
<td>ReachedState</td>
<td>激活状态</td>
</tr>
</tbody></table>
<blockquote>
<p>注意：</p>
<ul>
<li>示例中，起始点（StartPoint）和目标点（EndPoint）它们都可以包含NormalState、PressedState、ReachedState三个状态，但是在起始点（StartPoint）中的按下状态（PressedState）包含的元素会随你手指移动</li>
<li>Unlocker与Slider有三种状态，都可以包含任意界面元素，如Image Text等，也可以不指定,相关元素在该状态下才显示</li>
</ul>
</blockquote>
<p><strong>MAML 练习题：尝试做一个点击后控制 图片运动、变形、显示 的实例</strong></p>
<br>

<h1 id="常用组件"><a href="#常用组件" class="headerlink" title="常用组件"></a>常用组件</h1><p><strong>音乐播放器</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">MusicControl</span> <span class="attr">name</span>=<span class="string">"music"</span> <span class="attr">y</span>=<span class="string">"688"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"226"</span> <span class="attr">autoShow</span>=<span class="string">"true"</span> <span class="attr">defAlbumCover</span>=<span class="string">"icon/default_bg.jpg"</span> <span class="attr">enableLyric</span>=<span class="string">"true"</span> <span class="attr">updateLyricInterval</span>=<span class="string">"100"</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 音乐窗口背景 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"40"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"1000"</span> <span class="attr">h</span>=<span class="string">"226"</span> <span class="attr">src</span>=<span class="string">"icon/music_bg.9.png"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 专辑图 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Group</span> <span class="attr">x</span>=<span class="string">"40"</span> <span class="attr">w</span>=<span class="string">"226"</span> <span class="attr">h</span>=<span class="string">"226"</span> <span class="attr">layered</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Image</span> <span class="attr">name</span>=<span class="string">"music_album_cover"</span> <span class="attr">w</span>=<span class="string">"226"</span> <span class="attr">h</span>=<span class="string">"226"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Image</span> <span class="attr">w</span>=<span class="string">"226"</span> <span class="attr">h</span>=<span class="string">"226"</span> <span class="attr">src</span>=<span class="string">"icon/music_bg.9.png"</span> <span class="attr">xfermode</span>=<span class="string">"dst_in"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 歌曲名、歌手名、播放时间 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"296"</span> <span class="attr">y</span>=<span class="string">"61"</span>  <span class="attr">w</span>=<span class="string">"674"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">textExp</span>=<span class="string">"ifelse(strIsEmpty(@music.title),'暂无音乐',@music.title)"</span> <span class="attr">color</span>=<span class="string">"#000000"</span> <span class="attr">size</span>=<span class="string">"39"</span> <span class="attr">marqueeSpeed</span>=<span class="string">"30"</span> <span class="attr">bold</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"296"</span> <span class="attr">y</span>=<span class="string">"117"</span> <span class="attr">w</span>=<span class="string">"350"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">textExp</span>=<span class="string">"ifelse(strIsEmpty(@music.artist),'--',@music.artist)"</span> <span class="attr">color</span>=<span class="string">"#000000"</span> <span class="attr">size</span>=<span class="string">"36"</span> <span class="attr">marqueeSpeed</span>=<span class="string">"30"</span> <span class="attr">alpha</span>=<span class="string">"128"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"296"</span> <span class="attr">y</span>=<span class="string">"169"</span> <span class="attr">w</span>=<span class="string">"350"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">textExp</span>=<span class="string">"ifelse(strIsEmpty(@music.title),'--:--/--:--',formatDate('mm:ss / ',#music.music_position)+formatDate('mm:ss',#music.music_duration))"</span> <span class="attr">color</span>=<span class="string">"#000000"</span> <span class="attr">size</span>=<span class="string">"33"</span> <span class="attr">marqueeSpeed</span>=<span class="string">"30"</span> <span class="attr">alpha</span>=<span class="string">"128"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 按钮：上一曲、播放、暂停、下一曲 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span> <span class="attr">name</span>=<span class="string">"music_prev"</span> <span class="attr">x</span>=<span class="string">"#screen_width - 308"</span> <span class="attr">y</span>=<span class="string">"76"</span> <span class="attr">w</span>=<span class="string">"120"</span> <span class="attr">h</span>=<span class="string">"150"</span> <span class="attr">align</span>=<span class="string">"right"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"60"</span> <span class="attr">y</span>=<span class="string">"75"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">src</span>=<span class="string">"icon/prev.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span> <span class="attr">name</span>=<span class="string">"music_play"</span> <span class="attr">x</span>=<span class="string">"#screen_width - 188"</span> <span class="attr">y</span>=<span class="string">"76"</span> <span class="attr">w</span>=<span class="string">"120"</span> <span class="attr">h</span>=<span class="string">"150"</span> <span class="attr">align</span>=<span class="string">"right"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"60"</span> <span class="attr">y</span>=<span class="string">"75"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">src</span>=<span class="string">"icon/play.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span> <span class="attr">name</span>=<span class="string">"music_pause"</span> <span class="attr">x</span>=<span class="string">"#screen_width - 188"</span> <span class="attr">y</span>=<span class="string">"76"</span> <span class="attr">w</span>=<span class="string">"120"</span> <span class="attr">h</span>=<span class="string">"150"</span> <span class="attr">align</span>=<span class="string">"right"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"60"</span> <span class="attr">y</span>=<span class="string">"75"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">src</span>=<span class="string">"icon/pause.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span> <span class="attr">name</span>=<span class="string">"music_next"</span> <span class="attr">x</span>=<span class="string">"#screen_width - 68"</span> <span class="attr">y</span>=<span class="string">"76"</span> <span class="attr">w</span>=<span class="string">"120"</span> <span class="attr">h</span>=<span class="string">"150"</span> <span class="attr">align</span>=<span class="string">"right"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"60"</span> <span class="attr">y</span>=<span class="string">"75"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">src</span>=<span class="string">"icon/next.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">MusicControl</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>autoShow</td>
<td>是否根据系统播放音乐自动展现和关闭音乐组件</td>
</tr>
<tr>
<td>defAlbumCover</td>
<td>指定默认专辑图片，填路径文件名</td>
</tr>
<tr>
<td>enableLyric</td>
<td>true/false，是否开启歌词支持。开启歌词后会有一定性能的损失，不需要歌词的时候不要打开</td>
</tr>
<tr>
<td>updateLyricInterval</td>
<td>音乐信息的更新间隔。间隔越小，更新越及时，但带来的性能损失也越大，适当将间隔设小</td>
</tr>
<tr>
<td>music_album_cover</td>
<td>专辑图</td>
</tr>
<tr>
<td>clip</td>
<td>Group 内的元素只显示 w h 规定的区域，超出部份切除</td>
</tr>
<tr>
<td>name.title</td>
<td>歌曲名称</td>
</tr>
<tr>
<td>name.artist</td>
<td>歌手名称</td>
</tr>
<tr>
<td>name.album</td>
<td>专辑名称；注意：专辑名可能会无数据</td>
</tr>
<tr>
<td>name.lyric_before</td>
<td>已播放过的歌词</td>
</tr>
<tr>
<td>name.lyric_after</td>
<td>未播放的歌词</td>
</tr>
<tr>
<td>name.lyric_last</td>
<td>上一句歌词</td>
</tr>
<tr>
<td>name.lyric_current</td>
<td>正在播放的歌词</td>
</tr>
<tr>
<td>name.lyric_next</td>
<td>下一句歌词</td>
</tr>
<tr>
<td>name.lyric_current_line_progress</td>
<td>当前行歌词的行内播放进度，浮点数0～1.0</td>
</tr>
<tr>
<td>name.music_duration</td>
<td>歌曲长度，单位ms</td>
</tr>
<tr>
<td>name.music_position</td>
<td>歌曲当前播放位置，单位ms</td>
</tr>
<tr>
<td>name.package</td>
<td>当前播放的音乐应用包名（注意：需要MIUI10最新开发版支持）</td>
</tr>
</tbody></table>
<p>要点：</p>
<ul>
<li><p>在从未开始播放音乐前，歌曲信息无法获取到，可以为 歌曲、歌手、专辑、时间 等文本写一个为空时判断，以显示无数据状态下的信息。示例：<code>ifelse(strIsEmpty(@music.title),&#39;暂无音乐&#39;,@music.title)</code>；当<code>strIsEmpty(@music.title)==1</code> 时，显示 ‘暂无音乐’，否则显示 @music.title</p>
</li>
<li><p>音乐播放时长和总时长，可以用 DateTime 标签来写，示例：</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">DateTime</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">color</span>=<span class="string">""</span> <span class="attr">size</span>=<span class="string">"42"</span> <span class="attr">format</span>=<span class="string">"mm:ss"</span> <span class="attr">value</span>=<span class="string">"#music.music_position"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>专辑图为一张比例为 1:1 的图，可以用 <a href="#图片混合"><strong>图片混合</strong></a> 方式做成任意形状；比如：矩形圆角、圆盘；也可以给专辑图加上旋转，可以使专辑图在播放音乐时旋转起来</li>
</ul>
<p><br><strong>天气查询控件</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- MIUI天气代码；uri 老接口：content://weather/weather，建议使用新接口 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"weather"</span> <span class="attr">uri</span>=<span class="string">"content://weather/actualWeatherData/1"</span> <span class="attr">columns</span>=<span class="string">"city_id,city_name,temperature,temperature_range,weather_type,wind,humidity,tmplows,tmphighs,description,sunrise,sunset,pressure,temperature_unit,publish_time"</span> <span class="attr">countName</span>=<span class="string">"hasweather"</span> <span class="attr">dependency</span>=<span class="string">"selected_city"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"city_id"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">column</span>=<span class="string">"city_id"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_location"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">column</span>=<span class="string">"city_name"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_tem"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"temperature"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_tpr"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">column</span>=<span class="string">"temperature_range"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_id"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"weather_type"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_wind"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">column</span>=<span class="string">"wind"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_humidity"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">column</span>=<span class="string">"humidity"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"tmp_low0"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"tmplows"</span> <span class="attr">row</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"tmp_high0"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"tmphighs"</span> <span class="attr">row</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_dp"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">column</span>=<span class="string">"description"</span> <span class="attr">row</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 日出时间 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_sunrise"</span> <span class="attr">type</span>=<span class="string">"long"</span> <span class="attr">column</span>=<span class="string">"sunrise"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 日落时间 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_sunset"</span> <span class="attr">type</span>=<span class="string">"long"</span> <span class="attr">column</span>=<span class="string">"sunset"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 气压 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_pressure"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"pressure"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 气温单位，1代表摄氏度，0代表华氏度 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_tem_unit"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"temperature_unit"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 实时天气信息发布时间 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"w_publish_time"</span> <span class="attr">type</span>=<span class="string">"long"</span> <span class="attr">column</span>=<span class="string">"publish_time"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ContentProviderBinder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"weather_aqi"</span> <span class="attr">dependency</span>=<span class="string">"weather"</span> <span class="attr">uriFormat</span>=<span class="string">"content://weatherinfo/aqi/%s"</span> <span class="attr">uriParas</span>=<span class="string">"@city_id"</span> <span class="attr">columns</span>=<span class="string">"aqi,pm25,pm10,so2,no2,pub_time,src,spot"</span> <span class="attr">countName</span>=<span class="string">"hasweatherinfo"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"aqi"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"aqi"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"pm25"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"pm25"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"pm10"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"pm10"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"so2"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"so2"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"no2"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"no2"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ContentProviderBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 空气质量 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"air_quality"</span> <span class="attr">expression</span>=<span class="string">"ifelse(ge(#aqi,0)*lt(#aqi,50),'优',ge(#aqi,50)*lt(#aqi,100),'良',ge(#aqi,100)*lt(#aqi,150),'轻度污染',ge(#aqi,150)*lt(#aqi,200),'中度污染',ge(#aqi,200)*lt(#aqi,300),'重度污染',ge(#aqi,300)*le(#aqi,500),'严重污染','获取信息异常')"</span> <span class="attr">type</span>=<span class="string">"string"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 把数据以文本的方式展示出来 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"100"</span> <span class="attr">y</span>=<span class="string">"300"</span> <span class="attr">size</span>=<span class="string">"24"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">textExp</span>=<span class="string">"@w_dp+' '+@w_location+' '+#pm25+' '+@air_quality"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>没有什么可说的，就是将查询到的数据以文本或者是图形的方式展示出来，具体作用可以翻译 column 的值，再通过 Variable自定义的变量名 展示出来。</p>
<br>

<p><strong>消息通知</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 查询通知 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"data"</span> <span class="attr">uri</span>=<span class="string">"content://keyguard.notification/notifications"</span> <span class="attr">columns</span>=<span class="string">"icon,title,content,time,info,subtext,key"</span> <span class="attr">countName</span>=<span class="string">"hasnotifications"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">List</span> <span class="attr">name</span>=<span class="string">"notice_list"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ContentProviderBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 通知列表；maxHeight 列表最大显示高度，超出部分不显示，可上下滚动列表 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">List</span> <span class="attr">name</span>=<span class="string">"notice_list"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"858"</span> <span class="attr">maxHeight</span>=<span class="string">"370"</span> <span class="attr">data</span>=<span class="string">"icon:bitmap,title:string,content:string,time:string,info:string,subtext:string,key:int"</span> <span class="attr">visibility</span>=<span class="string">"#hasnotifications"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 项目 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Item</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"858"</span> <span class="attr">h</span>=<span class="string">"185"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 单条消息的显示大小和点击区域 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"858"</span> <span class="attr">h</span>=<span class="string">"185"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Normal</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">src</span>=<span class="string">"notice_bg.png"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Normal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Pressed</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">src</span>=<span class="string">"notice_bg.png"</span> <span class="attr">alpha</span>=<span class="string">"200"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Pressed</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"50"</span> <span class="attr">y</span>=<span class="string">"21"</span> <span class="attr">w</span>=<span class="string">"114"</span> <span class="attr">h</span>=<span class="string">"114"</span> <span class="attr">name</span>=<span class="string">"notice_icon"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"190"</span> <span class="attr">y</span>=<span class="string">"42"</span> <span class="attr">size</span>=<span class="string">"32"</span> <span class="attr">color</span>=<span class="string">"#ee000000"</span> <span class="attr">bold</span>=<span class="string">"true"</span> <span class="attr">w</span>=<span class="string">"500"</span> <span class="attr">h</span>=<span class="string">"36"</span> <span class="attr">marqueeSpeed</span>=<span class="string">"30"</span> <span class="attr">name</span>=<span class="string">"notice_title"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"190"</span> <span class="attr">y</span>=<span class="string">"80"</span> <span class="attr">size</span>=<span class="string">"28"</span> <span class="attr">color</span>=<span class="string">"#b4000000"</span> <span class="attr">w</span>=<span class="string">"500"</span> <span class="attr">h</span>=<span class="string">"42"</span> <span class="attr">marqueeSpeed</span>=<span class="string">"30"</span> <span class="attr">name</span>=<span class="string">"notice_content"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"800"</span> <span class="attr">y</span>=<span class="string">"64"</span> <span class="attr">size</span>=<span class="string">"28"</span> <span class="attr">align</span>=<span class="string">"right"</span> <span class="attr">color</span>=<span class="string">"#b4000000"</span>  <span class="attr">name</span>=<span class="string">"notice_time"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">IntentCommand</span> <span class="attr">action</span>=<span class="string">"com.miui.app.ExtraStatusBarManager.action_remove_keyguard_notification"</span> <span class="attr">broadcast</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Extra</span> <span class="attr">name</span>=<span class="string">"com.miui.app.ExtraStatusBarManager.extra_notification_key"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">expression</span>=<span class="string">"#notice_list.key"</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Extra</span> <span class="attr">name</span>=<span class="string">"com.miui.app.ExtraStatusBarManager.extra_notification_click"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">expression</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">IntentCommand</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">AttrDataBinders</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">AttrDataBinder</span> <span class="attr">target</span>=<span class="string">"notice_icon"</span> <span class="attr">attr</span>=<span class="string">"bitmap"</span> <span class="attr">data</span>=<span class="string">"icon"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">AttrDataBinder</span> <span class="attr">target</span>=<span class="string">"notice_title"</span> <span class="attr">attr</span>=<span class="string">"text"</span> <span class="attr">data</span>=<span class="string">"title"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">AttrDataBinder</span> <span class="attr">target</span>=<span class="string">"notice_content"</span> <span class="attr">attr</span>=<span class="string">"text"</span> <span class="attr">data</span>=<span class="string">"content"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">AttrDataBinder</span> <span class="attr">target</span>=<span class="string">"notice_time"</span> <span class="attr">attr</span>=<span class="string">"text"</span> <span class="attr">data</span>=<span class="string">"time"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">AttrDataBinders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">List</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>带滑动删除的消息通知</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 查询通知 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"data"</span> <span class="attr">uri</span>=<span class="string">"content://keyguard.notification/notifications"</span> <span class="attr">columns</span>=<span class="string">"icon,title,content,time,key"</span> <span class="attr">countName</span>=<span class="string">"hasnotifications"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"notice_icon0"</span> <span class="attr">type</span>=<span class="string">"blob.bitmap"</span> <span class="attr">column</span>=<span class="string">"icon"</span> <span class="attr">row</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"notice_icon1"</span> <span class="attr">type</span>=<span class="string">"blob.bitmap"</span> <span class="attr">column</span>=<span class="string">"icon"</span> <span class="attr">row</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"notice_icon2"</span> <span class="attr">type</span>=<span class="string">"blob.bitmap"</span> <span class="attr">column</span>=<span class="string">"icon"</span> <span class="attr">row</span>=<span class="string">"2"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"notice_icon3"</span> <span class="attr">type</span>=<span class="string">"blob.bitmap"</span> <span class="attr">column</span>=<span class="string">"icon"</span> <span class="attr">row</span>=<span class="string">"3"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"notice_title"</span> <span class="attr">type</span>=<span class="string">"string[]"</span> <span class="attr">column</span>=<span class="string">"title"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"notice_content"</span> <span class="attr">type</span>=<span class="string">"string[]"</span> <span class="attr">column</span>=<span class="string">"content"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"notice_time"</span> <span class="attr">type</span>=<span class="string">"string[]"</span> <span class="attr">column</span>=<span class="string">"time"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"notice_key"</span> <span class="attr">type</span>=<span class="string">"string[]"</span> <span class="attr">column</span>=<span class="string">"key"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Trigger</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"noticeUp"</span> <span class="attr">command</span>=<span class="string">"play(0,0)"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"_noticeAni"</span> <span class="attr">command</span>=<span class="string">"play(0,0)"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">ContentProviderBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 通知 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Group</span> <span class="attr">y</span>=<span class="string">"688"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"_noticeMove"</span> <span class="attr">expression</span>=<span class="string">"int(#touch_x-#touch_begin_x)*#noticeMoveDown+#_noticeAni"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"_noticeAni"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">VariableAnimation</span> <span class="attr">loop</span>=<span class="string">"false"</span> <span class="attr">initPause</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"int(#touch_x-#touch_begin_x)"</span> <span class="attr">time</span>=<span class="string">"100"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"ifelse(int(#touch_x-#touch_begin_x)&#125;=300,1080,0)"</span> <span class="attr">time</span>=<span class="string">"300"</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"end"</span> <span class="attr">condition</span>=<span class="string">"#_noticeAni == 1080"</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"noticeUp"</span> <span class="attr">command</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">VariableAnimation</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"noticeUp"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">VariableAnimation</span> <span class="attr">name</span>=<span class="string">"noticeUpAni"</span> <span class="attr">loop</span>=<span class="string">"false"</span> <span class="attr">initPause</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">time</span>=<span class="string">"300"</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"end"</span> <span class="attr">condition</span>=<span class="string">"#noticeUpAni.current_frame == -1"</span> &gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">MultiCommand</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">IntentCommand</span> <span class="attr">action</span>=<span class="string">"com.miui.app.ExtraStatusBarManager.action_remove_keyguard_notification"</span> <span class="attr">broadcast</span>=<span class="string">"true"</span> &gt;</span></span><br><span class="line">							<span class="tag">&lt;<span class="name">Extra</span> <span class="attr">name</span>=<span class="string">"com.miui.app.ExtraStatusBarManager.extra_notification_key"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">expression</span>=<span class="string">"@notice_key[#noticeDown]"</span> /&gt;</span></span><br><span class="line">							<span class="tag">&lt;<span class="name">Extra</span> <span class="attr">name</span>=<span class="string">"com.miui.app.ExtraStatusBarManager.extra_notification_click"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">expression</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">						<span class="tag">&lt;/<span class="name">IntentCommand</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;/<span class="name">MultiCommand</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">VariableAnimation</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- count="4" 最多显示4条消息；size="4" 消息时间，显示几条消息就有几个时间 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Array</span> <span class="attr">count</span>=<span class="string">"4"</span> <span class="attr">indexName</span>=<span class="string">"_notice"</span> <span class="attr">visibility</span>=<span class="string">"#hasnotifications&#125;0"</span> &gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Button</span> <span class="attr">x</span>=<span class="string">"ifelse(#noticeDown==#_notice,#_noticeMove,0)"</span> <span class="attr">y</span>=<span class="string">"#_notice*193 - ifelse(#_notice&#125;#noticeDown,#noticeUp*193,0)"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"183"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span> <span class="attr">alpha</span>=<span class="string">"ifelse(#noticeDown==#_notice,255-int(#_noticeMove)/3,255)"</span> <span class="attr">visibility</span>=<span class="string">"#_notice &#123; #hasnotifications"</span> &gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Normal</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">x</span>=<span class="string">"28"</span> <span class="attr">w</span>=<span class="string">"1024"</span> <span class="attr">h</span>=<span class="string">"183"</span> <span class="attr">fillColor</span>=<span class="string">"#ffffff"</span> <span class="attr">cornerRadius</span>=<span class="string">"28"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">Normal</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Pressed</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">x</span>=<span class="string">"28"</span> <span class="attr">w</span>=<span class="string">"1024"</span> <span class="attr">h</span>=<span class="string">"183"</span> <span class="attr">fillColor</span>=<span class="string">"#eeeeee"</span> <span class="attr">cornerRadius</span>=<span class="string">"28"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">Pressed</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Text</span> <span class="attr">name</span>=<span class="string">"noticeTime"</span> <span class="attr">x</span>=<span class="string">"#screen_width-66"</span> <span class="attr">y</span>=<span class="string">"62"</span> <span class="attr">align</span>=<span class="string">"right"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#BFB7BE"</span> <span class="attr">size</span>=<span class="string">"32"</span> <span class="attr">spacingAdd</span>=<span class="string">"1"</span> <span class="attr">textExp</span>=<span class="string">"@notice_time[#_notice]"</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"194"</span> <span class="attr">y</span>=<span class="string">"62"</span> <span class="attr">w</span>=<span class="string">"#screen_width-194-66- ifelse(#time_format,100,150)"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#000000"</span> <span class="attr">size</span>=<span class="string">"38"</span> <span class="attr">marqueeSpeed</span>=<span class="string">"30"</span> <span class="attr">textExp</span>=<span class="string">"@notice_title[#_notice]"</span> <span class="attr">bold</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"194"</span> <span class="attr">y</span>=<span class="string">"121"</span> <span class="attr">w</span>=<span class="string">"#screen_width-194-66"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#606160"</span> <span class="attr">size</span>=<span class="string">"36"</span> <span class="attr">marqueeSpeed</span>=<span class="string">"30"</span> <span class="attr">textExp</span>=<span class="string">"@notice_content[#_notice]"</span> <span class="attr">fontFamily</span>=<span class="string">"miui-regular"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"down"</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"noticeDown"</span> <span class="attr">expression</span>=<span class="string">"#_notice"</span>/&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"noticeMoveDown"</span> <span class="attr">expression</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up,cancel"</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"noticeMoveDown"</span> <span class="attr">expression</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"_noticeAni"</span> <span class="attr">command</span>=<span class="string">"play(100,300)"</span> /&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">IntentCommand</span> <span class="attr">action</span>=<span class="string">"com.miui.app.ExtraStatusBarManager.action_remove_keyguard_notification"</span> <span class="attr">broadcast</span>=<span class="string">"true"</span> <span class="attr">condition</span>=<span class="string">"abs(#touch_x-#touch_begin_x)&#123;10"</span> &gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">Extra</span> <span class="attr">name</span>=<span class="string">"com.miui.app.ExtraStatusBarManager.extra_notification_key"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">expression</span>=<span class="string">"@notice_key[#noticeDown]"</span> /&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">Extra</span> <span class="attr">name</span>=<span class="string">"com.miui.app.ExtraStatusBarManager.extra_notification_click"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">expression</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">					<span class="tag">&lt;/<span class="name">IntentCommand</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Array</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 头像坐标；50 x坐标，30 y坐标；60 w宽度；60 h高度 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"noticeIconXYWH"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">values</span>=<span class="string">"60,36,110,110"</span> <span class="attr">const</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 通知图标；name 图标名称，从0-3，表示共计四条；visibility，用 hasnotifications 控制是否需要显示头像  --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Image</span> <span class="attr">name</span>=<span class="string">"notice_icon0"</span> <span class="attr">x</span>=<span class="string">"#noticeIconXYWH[0]+ifelse(#noticeDown==0,#_noticeMove,0)"</span> <span class="attr">y</span>=<span class="string">"#noticeIconXYWH[1]+0*193 - ifelse(0&#125;#noticeDown,#noticeUp*193,0)"</span> <span class="attr">w</span>=<span class="string">"#noticeIconXYWH[2]"</span> <span class="attr">h</span>=<span class="string">"#noticeIconXYWH[3]"</span> <span class="attr">alpha</span>=<span class="string">"ifelse(#noticeDown==0,255-int(#_noticeMove)/3,255)"</span> <span class="attr">visibility</span>=<span class="string">"#hasnotifications&#125;=1"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Image</span> <span class="attr">name</span>=<span class="string">"notice_icon1"</span> <span class="attr">x</span>=<span class="string">"#noticeIconXYWH[0]+ifelse(#noticeDown==1,#_noticeMove,0)"</span> <span class="attr">y</span>=<span class="string">"#noticeIconXYWH[1]+1*193 - ifelse(1&#125;#noticeDown,#noticeUp*193,0)"</span> <span class="attr">w</span>=<span class="string">"#noticeIconXYWH[2]"</span> <span class="attr">h</span>=<span class="string">"#noticeIconXYWH[3]"</span> <span class="attr">alpha</span>=<span class="string">"ifelse(#noticeDown==1,255-int(#_noticeMove)/3,255)"</span> <span class="attr">visibility</span>=<span class="string">"#hasnotifications&#125;=2"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Image</span> <span class="attr">name</span>=<span class="string">"notice_icon2"</span> <span class="attr">x</span>=<span class="string">"#noticeIconXYWH[0]+ifelse(#noticeDown==2,#_noticeMove,0)"</span> <span class="attr">y</span>=<span class="string">"#noticeIconXYWH[1]+2*193 - ifelse(2&#125;#noticeDown,#noticeUp*193,0)"</span> <span class="attr">w</span>=<span class="string">"#noticeIconXYWH[2]"</span> <span class="attr">h</span>=<span class="string">"#noticeIconXYWH[3]"</span> <span class="attr">alpha</span>=<span class="string">"ifelse(#noticeDown==2,255-int(#_noticeMove)/3,255)"</span> <span class="attr">visibility</span>=<span class="string">"#hasnotifications&#125;=3"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Image</span> <span class="attr">name</span>=<span class="string">"notice_icon3"</span> <span class="attr">x</span>=<span class="string">"#noticeIconXYWH[0]+ifelse(#noticeDown==3,#_noticeMove,0)"</span> <span class="attr">y</span>=<span class="string">"#noticeIconXYWH[1]+3*193 - ifelse(3&#125;#noticeDown,#noticeUp*193,0)"</span> <span class="attr">w</span>=<span class="string">"#noticeIconXYWH[2]"</span> <span class="attr">h</span>=<span class="string">"#noticeIconXYWH[3]"</span> <span class="attr">alpha</span>=<span class="string">"ifelse(#noticeDown==3,255-int(#_noticeMove)/3,255)"</span> <span class="attr">visibility</span>=<span class="string">"#hasnotifications&#125;=4"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>日历模块</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- layer对内部刷新不高的元素有着非常大的优化作用，但有一点要注意：它会自动移至当前界面图层的最上方 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Layer</span> <span class="attr">x</span>=<span class="string">"200"</span> <span class="attr">y</span>=<span class="string">"300"</span> <span class="attr">width</span>=<span class="string">"560"</span> <span class="attr">height</span>=<span class="string">"560"</span> <span class="attr">frameRate</span>=<span class="string">"0"</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 每月的第一天在日历表第一排的位置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"dw0_1"</span> <span class="attr">expression</span>=<span class="string">"(7-(#date-#day_of_week)%7)%7+1"</span> <span class="attr">const</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 闰年么？ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"leap_year"</span> <span class="attr">expression</span>=<span class="string">"eq((#year%4),0)*ne((#year%100),0)+eq((#year%400),0)"</span> <span class="attr">const</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 这个月有多少天 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"max_date"</span> <span class="attr">expression</span>=<span class="string">"28+ne(#leap_year+ne(#month+1,2),0)+ne((#month+1),2)+ne(#month,1)*ne(#month,3)*ne(#month,5)*ne(#month,8)*ne(#month,10)"</span> <span class="attr">const</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Array</span> <span class="attr">name</span>=<span class="string">"fde"</span> <span class="attr">count</span>=<span class="string">"42"</span> <span class="attr">indexName</span>=<span class="string">"__i"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Text</span> <span class="attr">textExp</span>=<span class="string">"substr('日一二三四五六',#__i,1)"</span> <span class="attr">size</span>=<span class="string">"36"</span> <span class="attr">x</span>=<span class="string">"20+#__i%7*80"</span> <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">color</span>=<span class="string">"#ffffff"</span>  <span class="attr">visibility</span>=<span class="string">"lt(#__i,7)"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">x</span>=<span class="string">"#__i%7*80"</span> <span class="attr">y</span>=<span class="string">"int(#__i/7)*80+70"</span> <span class="attr">w</span>=<span class="string">"79"</span> <span class="attr">h</span>=<span class="string">"79"</span> <span class="attr">fillColor</span>=<span class="string">"argb(55,255,255,255)"</span> <span class="attr">visibility</span>=<span class="string">"int(#__i-#dw0_1+2)!=#date"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 当天背景 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">x</span>=<span class="string">"#__i%7*80"</span> <span class="attr">y</span>=<span class="string">"int(#__i/7)*80+70"</span> <span class="attr">w</span>=<span class="string">"79"</span> <span class="attr">h</span>=<span class="string">"79"</span> <span class="attr">fillColor</span>=<span class="string">"argb(255,50,177,105)"</span> <span class="attr">visibility</span>=<span class="string">"int(#__i-#dw0_1+2)==#date"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">DateTime</span> <span class="attr">format</span>=<span class="string">"d"</span> <span class="attr">value</span>=<span class="string">"#time_sys+(#__i+2-#date-#dw0_1)*86400000"</span> <span class="attr">size</span>=<span class="string">"36"</span> <span class="attr">x</span>=<span class="string">"40+#__i%7*80"</span> <span class="attr">y</span>=<span class="string">"int(#__i/7)*80+70"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">alpha</span>=<span class="string">"int(120+135*eq(#__i-#dw0_1+2,#date))"</span>  <span class="attr">visibility</span>=<span class="string">"int(#__i-#dw0_1+2)*le(int(#__i-#dw0_1+2),#max_date)"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 农历 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">DateTime</span> <span class="attr">formatExp</span>=<span class="string">"ifelse(eqs(formatDate('e',#time_sys+(#__i+2-#date-#dw0_1)*86400000),'初一'),'N月e','e')"</span>  <span class="attr">value</span>=<span class="string">"#time_sys+(#__i+2-#date-#dw0_1)*86400000"</span> <span class="attr">size</span>=<span class="string">"18"</span> <span class="attr">x</span>=<span class="string">"40+#__i%7*80"</span> <span class="attr">y</span>=<span class="string">"50+int(#__i/7)*80+70"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">alpha</span>=<span class="string">"int(120+135*eq(#__i-#dw0_1+2,#date))"</span> <span class="attr">visibility</span>=<span class="string">"int(#__i-#dw0_1+2)*le(int(#__i-#dw0_1+2),#max_date)"</span>  /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Layer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>计步器</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"MiStep"</span> <span class="attr">uri</span>=<span class="string">"content://com.miui.providers.steps/item"</span> <span class="attr">columns</span>=<span class="string">"_id,_begin_time,_end_time,_mode,_steps"</span> <span class="attr">countName</span>=<span class="string">"hassteps"</span> <span class="attr">whereFormat</span>=<span class="string">"_begin_time&gt;='%d'"</span> <span class="attr">whereParas</span>=<span class="string">"int((#time_sys-#hour24*3600000-#minute*60000-#second*1000)/1000)*1000"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"Mi_step"</span> <span class="attr">type</span>=<span class="string">"string[]"</span> <span class="attr">column</span>=<span class="string">"_steps"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"Mi_begin_time"</span> <span class="attr">type</span>=<span class="string">"string[]"</span> <span class="attr">column</span>=<span class="string">"_begin_time"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"Mi_end_time"</span> <span class="attr">type</span>=<span class="string">"string[]"</span> <span class="attr">column</span>=<span class="string">"_end_time"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 初始化今天的总步数 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"step_today"</span> <span class="attr">expression</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 计算今天的总步数 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">LoopCommand</span> <span class="attr">count</span>=<span class="string">"#hassteps"</span> <span class="attr">indexName</span>=<span class="string">"__s"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"step_today"</span> <span class="attr">expression</span>=<span class="string">"#step_today+int(@Mi_step[#__s])"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">LoopCommand</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ContentProviderBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"100"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> <span class="attr">size</span>=<span class="string">"40"</span> <span class="attr">textExp</span>=<span class="string">"#step_today+'步'"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>返回手势</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 返回手势 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Group</span> <span class="attr">name</span>=<span class="string">"Return"</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"#about*1080"</span> <span class="attr">y</span>=<span class="string">"#touch_begin_y"</span> <span class="attr">w</span>=<span class="string">"#ReturnMove*0.5"</span> <span class="attr">h</span>=<span class="string">"858"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">rotation</span>=<span class="string">"#about*180"</span> <span class="attr">pivotY</span>=<span class="string">"429"</span> <span class="attr">src</span>=<span class="string">"bg/gesture_back_background.png"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"#ReturnMove/4+#about*(1080-#ReturnMove/2)"</span> <span class="attr">y</span>=<span class="string">"#touch_begin_y"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">src</span>=<span class="string">"bg/gesture_back_arrow.png"</span> <span class="attr">visibility</span>=<span class="string">"#ReturnMove &#125;= 100"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"ReturnMove"</span> <span class="attr">expression</span>=<span class="string">"ifelse(#ReturnDown==1,min(abs(#touch_begin_x-#touch_x),168),min(abs(#touch_begin_x-#touch_x),168)*(1-#ReturnBack)*int(#ReturnMove&#125;0))"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"ReturnBack"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">VariableAnimation</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"0"</span> <span class="attr">easeType</span>=<span class="string">"QuadEaseOut"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AniFrame</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">time</span>=<span class="string">"200"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">VariableAnimation</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Button</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span> &gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"down"</span> <span class="attr">condition</span>=<span class="string">"#touch_x&#123;50 || #touch_x&#125;1030"</span> &gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"ReturnDown"</span> <span class="attr">expression</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"about"</span> <span class="attr">expression</span>=<span class="string">"#touch_x&#125;540"</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up,cancel"</span> &gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"ReturnDown"</span> <span class="attr">expression</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"ReturnBack"</span> <span class="attr">command</span>=<span class="string">"play"</span> /&gt;</span></span><br><span class="line">				<span class="comment">&lt;!-- 当移动距离大于100px时，执行动画 --&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">""</span> <span class="attr">command</span>=<span class="string">"play"</span> <span class="attr">condition</span>=<span class="string">"#ReturnMove&#125;100"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a href="https://gitee.com/mitheme/image/raw/master/res/icon.zip" target="_blank" rel="noopener"><strong>返回手势附件素材</strong></a></p>
<br>

<h1 id="语音文字"><a href="#语音文字" class="headerlink" title="语音文字"></a>语音文字</h1><p>用来获取用户说了什么内容？可以用语音来加强锁屏的能力，也给了更多的可能性。比如：锁屏语音输入法，锁屏记事本 等。发挥你的想象，没有什么是做不到的。不是很明白怎么写？可以先看关于 <a href="#外部数据"><strong>外部数据的介绍</strong></a></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 启动录音 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"MiAi"</span> <span class="attr">uriFormat</span>=<span class="string">"content://com.miui.voiceassist.speech.api/%s"</span> <span class="attr">uriParas</span>=<span class="string">"@t1"</span> <span class="attr">queryAtStart</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 识别结果 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"MiAiResult"</span> <span class="attr">uri</span>=<span class="string">"content://com.miui.voiceassist.speech.api/status"</span> <span class="attr">columns</span>=<span class="string">"AsrStatus,AsrResult"</span> <span class="attr">countName</span>=<span class="string">"MiAiResult"</span> <span class="attr">queryAtStart</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"Asr_Status"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">column</span>=<span class="string">"AsrStatus"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"Asr_Result"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">column</span>=<span class="string">"AsrResult"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">ContentProviderBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">expression</span>=<span class="string">"#second"</span> <span class="attr">threshold</span>=<span class="string">"5"</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Trigger</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"pokewakelock"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span> <span class="attr">fillColor</span>=<span class="string">"#f2f2f2"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">y</span>=<span class="string">"#screen_height-160"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"2"</span> <span class="attr">fillColor</span>=<span class="string">"#000000"</span> <span class="attr">alpha</span>=<span class="string">"255*0.05"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"1000"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#000000"</span> <span class="attr">size</span>=<span class="string">"45"</span> <span class="attr">textExp</span>=<span class="string">"@AsrResult"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 识别结果刷新 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">expression</span>=<span class="string">"#time"</span> <span class="attr">threshold</span>=<span class="string">"10"</span> <span class="attr">visibility</span>=<span class="string">"#MiAiResultRefresh"</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Trigger</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">BinderCommand</span> <span class="attr">name</span>=<span class="string">"MiAiResult"</span> <span class="attr">command</span>=<span class="string">"refresh"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"AsrResult"</span> <span class="attr">expression</span>=<span class="string">"@Asr_Result"</span> <span class="attr">type</span>=<span class="string">"string"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"#screen_height - 80"</span> <span class="attr">w</span>=<span class="string">"#screen_width-140"</span> <span class="attr">h</span>=<span class="string">"100"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span> <span class="attr">interceptTouch</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Normal</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"#screen_width-140"</span> <span class="attr">h</span>=<span class="string">"100"</span> <span class="attr">fillColor</span>=<span class="string">"#FFFFFF"</span> <span class="attr">cornerRadius</span>=<span class="string">"20"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Normal</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Pressed</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"#screen_width-140"</span> <span class="attr">h</span>=<span class="string">"100"</span> <span class="attr">fillColor</span>=<span class="string">"#E8E8E8"</span> <span class="attr">cornerRadius</span>=<span class="string">"20"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Pressed</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"(#screen_width-140)/2"</span> <span class="attr">y</span>=<span class="string">"50"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#000000"</span> <span class="attr">size</span>=<span class="string">"42"</span> <span class="attr">textExp</span>=<span class="string">"ifelse(#MiAiResultRefresh,'松开结束','按下说话')"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"down"</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- 开始刷新识别结果 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"MiAiResultRefresh"</span> <span class="attr">expression</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"moveAni"</span> <span class="attr">command</span>=<span class="string">"play(0,200)"</span>/&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- exe 是否需要语音内容执行  --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"t1"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">expression</span>=<span class="string">"'start?session=20190401<span class="symbol">&amp;amp;</span>vad=false<span class="symbol">&amp;amp;</span>exe=false"</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">BinderCommand</span> <span class="attr">name</span>=<span class="string">"MiAi"</span> <span class="attr">command</span>=<span class="string">"refresh"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"Asr_Result"</span> <span class="attr">expression</span>=<span class="string">"''"</span> <span class="attr">type</span>=<span class="string">"string"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up,cancel"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"MiAiResultRefresh"</span> <span class="attr">expression</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"moveAni"</span> <span class="attr">command</span>=<span class="string">"play(1000,1200)"</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"t1"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">expression</span>=<span class="string">"'cancel'"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>通过 ContentProviderBinder 刷新接口 来启动启动小爱录音或者是停止录音</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 启动录音 --&gt;</span></span><br><span class="line">content://com.miui.voiceassist.speech.api/start?session=20190401<span class="symbol">&amp;amp;</span>vad=false<span class="symbol">&amp;amp;</span>exe=false</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 取消 --&gt;</span></span><br><span class="line">content://com.miui.voiceassist.speech.api/cancel</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 停止收音 表示说完话了，区别于取消 --&gt;</span></span><br><span class="line">content://com.miui.voiceassist.speech.api/stop</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>vad</td>
<td>是否开启自动判停，若开启了，则不需要松手停止说(false，true)</td>
</tr>
<tr>
<td>exe</td>
<td>是否需要执行语音内容，既用户说的内容(false，true)</td>
</tr>
</tbody></table>
<br>

<p><strong>重点来了</strong></p>
<p>根据 ContentProviderBinder 返回的值做一些交互，比如显示文字，录音时的动画等</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">content://com.miui.voiceassist.speech.api/status</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>AsrStatus</td>
<td>状态；0识别结束，空闲中，1表示录音中，2录音结束识别中</td>
</tr>
<tr>
<td>AsrResult</td>
<td>识别结果</td>
</tr>
<tr>
<td>AsrVoiceVolume</td>
<td>实时录音的音量大小，最大 100</td>
</tr>
</tbody></table>
<div id="外部数据">
<br>

<h1 id="外部数据"><a href="#外部数据" class="headerlink" title="外部数据"></a>外部数据</h1><p><strong>WebService</strong></p>
<p>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">WebServiceBinder</span> <span class="attr">name</span>=<span class="string">"MyWeather"</span> <span class="attr">uri</span>=<span class="string">"http://www.webxml.com.cn/WebServices/WeatherWebService.asmx/getWeatherbyCityName"</span> <span class="attr">params</span>=<span class="string">"theCityName:北京"</span> <span class="attr">requestMethod</span>=<span class="string">"get"</span> <span class="attr">updateInterval</span>=<span class="string">"3600"</span> <span class="attr">updateIntervalFail</span>=<span class="string">"60"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"weather_city"</span>       <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">xpath</span>=<span class="string">"/ArrayOfString/string[2]"</span>  /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"weather_temperature"</span>    <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">xpath</span>=<span class="string">"/ArrayOfString/string[6]"</span>  /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"weather_summary"</span>    <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">xpath</span>=<span class="string">"/ArrayOfString/string[7]"</span>  /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"weather_wind"</span>       <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">xpath</span>=<span class="string">"/ArrayOfString/string[8]"</span>  /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"weather_icon1"</span>      <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">xpath</span>=<span class="string">"/ArrayOfString/string[9]"</span>  /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"weather_icon2"</span>      <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">xpath</span>=<span class="string">"/ArrayOfString/string[10]"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"weather_real"</span>       <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">xpath</span>=<span class="string">"/ArrayOfString/string[11]"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">WebServiceBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ExternalCommands</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"resume"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">BinderCommand</span> <span class="attr">name</span>=<span class="string">"MyWeather"</span> <span class="attr">command</span>=<span class="string">"refresh"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"pause"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ExternalCommands</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>VariableBinders</td>
<td>定义各种变量绑定到的源。支持 ContentProviderBinder、WebServiceBinder、SensorBinder</td>
</tr>
<tr>
<td>name</td>
<td>名称，用来在系统中保存查询结果</td>
</tr>
<tr>
<td>uri</td>
<td>webservice api 地址</td>
</tr>
<tr>
<td>params</td>
<td>参数，格式： “参数名1:值1,参数名2:值2,参数名3:值3″</td>
</tr>
<tr>
<td>updateInterval</td>
<td>查询间隔，单位：秒</td>
</tr>
<tr>
<td>updateIntervalFail</td>
<td>查询失败后的重试时间，单位秒</td>
</tr>
<tr>
<td>queryAtStart</td>
<td>是否初始化时自动开始查询一次，否则只有BinderCommand命令对它执行查询</td>
</tr>
<tr>
<td>protocol</td>
<td>数据源的类型，json/obj</td>
</tr>
<tr>
<td>Variable</td>
<td>定义一个变量</td>
</tr>
<tr>
<td>type</td>
<td>参数的类型。string、number</td>
</tr>
<tr>
<td>xpath</td>
<td>将返回xml结果中xpath指定的内容绑定到该参数</td>
</tr>
</tbody></table>
<br>

<p><strong>ContentProvider</strong></p>
<p>content provider 提供了查询应用程序信息的通用接口，定义了新的xml代码来查询 content provider，并查询到的信息绑定到变量上，用来显示第三方应用程序的信息，只要第三方应用提供相应的 content provider。比如可以显示 天气信息、待办事项、便签、等等</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"name1"</span> <span class="attr">uri</span>=<span class="string">"content://sample/test"</span> <span class="attr">c</span> <span class="attr">uriFormat</span>=<span class="string">""</span> <span class="attr">uriParas</span>=<span class="string">""</span> <span class="attr">columns</span>=<span class="string">"col1,col2"</span> <span class="attr">where</span>=<span class="string">""</span> <span class="attr">args</span>=<span class="string">""</span> <span class="attr">order</span>=<span class="string">""</span> <span class="attr">countName</span>=<span class="string">"count_name"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"variable_name1"</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">column</span>=<span class="string">"col1"</span> <span class="attr">row</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"variable_name2"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">column</span>=<span class="string">"col2"</span> <span class="attr">row</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ContentProviderBinder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"name2"</span> <span class="attr">dependency</span>=<span class="string">"name1"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>VariableBinders   定义各种变量绑定到的源。支持ContentProviderBinder、WebServiceBinder、SensorBinder</p>
</li>
<li><p>ContentProviderBinder 定义一个content provider源和绑定到它上面的变量qa</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>uir</td>
<td>指定选用哪个content provider</td>
</tr>
<tr>
<td>uriFormat</td>
<td>如果uri需要添加变量，可以用格式化，需要和uriParas一起使用</td>
</tr>
<tr>
<td>uriParas</td>
<td>同Text element 的格式</td>
</tr>
<tr>
<td>columns</td>
<td>需要查询的列名，用逗号分隔</td>
</tr>
<tr>
<td>where</td>
<td>查询条件，同 SQL</td>
</tr>
<tr>
<td>args</td>
<td>“where” 的参数.</td>
</tr>
<tr>
<td>order</td>
<td>排序条件， 同 SQL</td>
</tr>
<tr>
<td>countName</td>
<td>将查询结构数量绑定到该变量名</td>
</tr>
</tbody></table>
<ul>
<li>Variable  定一个绑定变量</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>变量名</td>
</tr>
<tr>
<td>type</td>
<td>content provider 中的数据类型： string/double/float/int/long</td>
</tr>
<tr>
<td>column</td>
<td>变量绑定到的列的名称.</td>
</tr>
<tr>
<td>row</td>
<td>变量绑定到的行数，默认为0.</td>
</tr>
</tbody></table>
<ul>
<li><p>支持where的格式化   where=”” whereFormat=”” whereParas=””</p>
</li>
<li><p>dependency    支持依赖关系，即某个ContentProviderBinder查询结束后获取的变量作为下一个ContentProviderBinder 查询的参数（）</p>
</li>
</ul>
<br>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"name1"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ContentProviderBinder</span> <span class="attr">name</span>=<span class="string">"name2"</span> <span class="attr">dependency</span>=<span class="string">"name1"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>name1 查询结束后会触发 name2 的查询</li>
<li>name2 的查询可以使用 name1 的变量</li>
<li>并且如果 name1 数据发生变化重新查询后，会触发 name2 的重新查询</li>
</ul>
<br>

<p><strong>传感器</strong></p>
<p>SensorBinder 支持重力感应，方向感应，加速度感应，气压感应（海拔高度） <br></p>
<ul>
<li>重力传感器</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">SensorBinder</span> <span class="attr">type</span>=<span class="string">"gravity"</span>  <span class="attr">rate</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"gravity_x"</span> <span class="attr">index</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"gravity_y"</span> <span class="attr">index</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"gravity_z"</span> <span class="attr">index</span>=<span class="string">"2"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">SensorBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>index=”0”</td>
<td>x方向的重力加速度</td>
</tr>
<tr>
<td>index=”1”</td>
<td>y方向的重力加速度</td>
</tr>
<tr>
<td>index=”2”</td>
<td>z方向的重力加速度</td>
</tr>
</tbody></table>
<p>rate；常量,单位是微秒,有4种特殊值0,1,2,3；默认为3 (不写的话)</p>
<blockquote>
<ul>
<li>0表示0微秒</li>
<li>1是20000微秒</li>
<li>2是66667微秒</li>
<li>3是200000微秒</li>
</ul>
</blockquote>
<br>

<ul>
<li>方向传感器</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">SensorBinder</span> <span class="attr">type</span>=<span class="string">"orientation"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"orientation0"</span> <span class="attr">index</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"orientation1"</span> <span class="attr">index</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"orientation2"</span> <span class="attr">index</span>=<span class="string">"2"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">SensorBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>index=”0”</td>
<td>方位角，0~359，0=北，90=东，180=南，270=西</td>
</tr>
<tr>
<td>index=”1”</td>
<td>俯仰角，-180～180，z轴转向y轴为正方向</td>
</tr>
<tr>
<td>index=”2”</td>
<td>滚转角，-90～90，x轴转向z轴为正方向</td>
</tr>
</tbody></table>
<br>

<ul>
<li>加速度传感器</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">SensorBinder</span> <span class="attr">type</span>=<span class="string">"accelerometer"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"accelerometer_x"</span> <span class="attr">index</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"accelerometer_y"</span> <span class="attr">index</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"accelerometer_z"</span> <span class="attr">index</span>=<span class="string">"2"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">SensorBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>index=”0”</td>
<td>x方向的加速度</td>
</tr>
<tr>
<td>index=”1”</td>
<td>y方向的加速度</td>
</tr>
<tr>
<td>index=”2”</td>
<td>z方向的加速度</td>
</tr>
</tbody></table>
<br>

<ul>
<li>线性加速度传感器</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">SensorBinder</span> <span class="attr">type</span>=<span class="string">"linear_acceleration"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"line_x"</span> <span class="attr">index</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"line_y"</span> <span class="attr">index</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"line_1"</span> <span class="attr">index</span>=<span class="string">"2"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">SensorBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>线性加速度是去掉了重力加速度影响的：加速度 = 线性加速度 + 重力加速度</p>
<br>

<ul>
<li>气压传感器</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">SensorBinder</span> <span class="attr">type</span>=<span class="string">"pressure"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"pressure"</span> <span class="attr">index</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">SensorBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>index=”0”</td>
<td>气压值，单位 hPa。海平面的平均气压是1013.25hPa，可以根据气压值估计海拔高度</td>
</tr>
</tbody></table>
<br>

<ul>
<li>位置传感器</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">LocationBinder</span> <span class="attr">type</span>=<span class="string">"0"</span> <span class="attr">time</span>=<span class="string">"30000"</span> <span class="attr">distance</span>=<span class="string">"10"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"location_str"</span> <span class="attr">type</span>=<span class="string">"string[]"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LocationBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">textExp</span>=<span class="string">"'定位精度：'+@location_str[0]+' 海拔：'+@location_str[1]+' 方位（°）：'+@location_str[2]+' 纬度：'+@location_str[3]+' 经度：'+@location_str[4]+' 实时速度：'+@location_str[5]+' 定位时间（从1970年开始的毫秒值）：'+@location_str[6]"</span> <span class="attr">size</span>=<span class="string">"36"</span> <span class="attr">x</span>=<span class="string">"50"</span> <span class="attr">y</span>=<span class="string">"1650"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>time</td>
<td>单位毫秒，最小定位间隔时间</td>
</tr>
<tr>
<td>distance</td>
<td>单位米，最小定位间隔距离</td>
</tr>
<tr>
<td>type=”0”</td>
<td>0；默认，优先使用网络定位；1；网络定位；2；GPS定位</td>
</tr>
<tr>
<td>index=”0”</td>
<td>0 - 6 依次为；定位精度、海拔、方位（单位°）、纬度、经度、实时速度、定位时间</td>
</tr>
</tbody></table>
<blockquote>
<p>注意：</p>
<ul>
<li>这里用的是 字符串数组 type=”string[]”；非数组写法为 <code>&lt;Variable name=&quot;location_str0&quot; type=&quot;string&quot; index=&quot;0&quot;/&gt;</code></li>
<li>定位默认优先使用网络定位，网络定位不可用时使用GPS定位</li>
</ul>
</blockquote>
<br>

<p><strong>广播</strong></p>
<p>广播分成两部分：发送与接收</p>
<ul>
<li>发送部分一般放 Trigger 中</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ExternalCommands</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"pause"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">IntentCommand</span> <span class="attr">action</span>=<span class="string">"initialization"</span> <span class="attr">broadcast</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Extra</span> <span class="attr">name</span>=<span class="string">"bg_number"</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">expression</span>=<span class="string">"#rand_num"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">IntentCommand</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ExternalCommands</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>接收部分在VariableBinders里</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VariableBinders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">BroadcastBinder</span> <span class="attr">action</span>=<span class="string">"initialization"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Variable</span> <span class="attr">name</span>=<span class="string">"wallpaper_color"</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">extra</span>=<span class="string">"bg_number"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">BroadcastBinder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VariableBinders</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<h1 id="充电动画"><a href="#充电动画" class="headerlink" title="充电动画"></a>充电动画</h1><p>随着手机充电方式的强大，快充、超级快充、无线充电、有线充电，各种效果的添加，大家是不是也希望主题可以做到各种效果呢？<strong>（参数仅在 MIUI11 最新开发版支持，跨版本时请注意兼容性）</strong></p>
<ul>
<li><strong>锁屏支持 显示/关闭 进入充电状态时刻的默认充电动画</strong></li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>disableChargeAnim</td>
<td>0显示，1不显示（默认为0）</td>
</tr>
</tbody></table>
<p>  示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 关闭系统充电动画 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"disableChargeAnim"</span> <span class="attr">numPara</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 开启系统充电动画 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"disableChargeAnim"</span> <span class="attr">numPara</span>=<span class="string">"0"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<ul>
<li><strong>获取充电状态</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#ChargeSpeed			0 普通充电, 1 快充, 2 超级快充</span><br><span class="line">#ChargeWireState		11 有线充电, 10 无线充电, -1 未充电</span><br></pre></td></tr></table></figure>

<br>

<h1 id="语言适配"><a href="#语言适配" class="headerlink" title="语言适配"></a>语言适配</h1><p>MAML 支持多语言，下面以锁屏为例（锁屏的文件都在 lockscreen/advance 文件夹下，在这我们就其为根目录）<br>多语言的适配有图片资源的适配和字符串的适配两种：</p>
<ul>
<li>图片资源的适配<br>都放在根目录下，只不过非默认的需新建相应语言的文件夹（如：images_en、images_cn_TW）<br>默认图片：a.png<br>中文繁体：images_zh_TW/a.png<br>英文：images_en/a.png</li>
<li>字符串资源的适配<br>默认：strings/strings.xml<br>中文简体：strings/strings_zh_CN.xml<br>中文繁体：strings/strings_zh_TW.xml</li>
</ul>
<p>看下面的示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- strings.xml 内容 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">strings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"musicName"</span> <span class="attr">value</span>=<span class="string">"Music player"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">strings</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- strings_zh_CN.xml 内容 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">strings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"musicName"</span> <span class="attr">value</span>=<span class="string">"打开音乐播放器"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">strings</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- strings_zh_TW.xml 内容 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">strings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"musicName"</span> <span class="attr">value</span>=<span class="string">"打開音樂播放器"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">strings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>manifest.xml 中可直接使用变量 @musicName</p>
<ul>
<li><p>自定义配置文件的适配（config文件直接加后缀即可）</p>
<p>默认：config.xml<br>简体：config_zh_CN.xml<br>繁体：config_zh_TW.xml<br>巴西：config_pt_BR.xml<br>韩文：config_ko-KR.xml<br>俄文：config_ru_RU.xml<br>泰文：config_th-TH.xml</p>
</li>
</ul>
<blockquote>
<ul>
<li>常规做法 config.xml 为英文语言，再适配其他语言</li>
<li>需要注意 如果 适配中文简体 config_zh_CN.xml 语言，没有适配 config_zh_TW.xml 的话，当系统语言为繁体的时候，就会读取 config.xml 英文语言了，这时候可以把 xml 描述文件命名 config_zh.xml 即可，这种情况下无论 中文简体 还是 中文繁体 语言都会读取 config_zh.xml 描述文件，而不是 config.xml</li>
</ul>
</blockquote>
<br>

<h1 id="锁屏设置"><a href="#锁屏设置" class="headerlink" title="锁屏设置"></a>锁屏设置</h1><p>主题可以带一个配置描述文件描述可以个性化配置的项目（config.xml 和 manifest.xml 放在同一个目录下。）</p>
<p>可配置项目有：</p>
<ul>
<li>开关</li>
<li>文字输入</li>
<li>文字选择</li>
<li>数字输入</li>
<li>数字选择</li>
<li>程序快捷方式</li>
<li>自定义图片</li>
</ul>
<p>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 根节点 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置组  text 设置组名称,显示在设置界面中的文本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Group</span> <span class="attr">text</span>=<span class="string">"日期时间"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 开关（summary：设置项详细说明；id：设置项对应的变量名称；default：缺省值） --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">CheckBox</span> <span class="attr">text</span>=<span class="string">""</span> <span class="attr">summary</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">"show_date"</span> <span class="attr">default</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 文字输入 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">StringInput</span> <span class="attr">text</span>=<span class="string">"日期格式"</span> <span class="attr">summary</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">"format"</span> <span class="attr">default</span>=<span class="string">"M月d日"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 数字输入 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">NumberInput</span> <span class="attr">text</span>=<span class="string">"文字大小"</span> <span class="attr">summary</span>=<span class="string">"文字大小"</span> <span class="attr">id</span>=<span class="string">"size_date"</span> <span class="attr">default</span>=<span class="string">"28"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Group</span> <span class="attr">text</span>=<span class="string">"请选择"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 文字选择 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">StringChoice</span> <span class="attr">text</span>=<span class="string">""</span> <span class="attr">summary</span>=<span class="string">""</span> <span class="attr">customizable</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"time_format"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 文字选择项目 value变量值 text界面显示文字 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"hh:mm"</span> <span class="attr">text</span>=<span class="string">"12小时"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"kk:mm"</span> <span class="attr">text</span>=<span class="string">"24小时"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">StringChoice</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 数字选择 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">NumberChoice</span> <span class="attr">text</span>=<span class="string">""</span> <span class="attr">summary</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 数字选择项目 value数值 text界面显示文字 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">text</span>=<span class="string">"模式1"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Item</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">text</span>=<span class="string">"模式2"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">NumberChoice</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Group</span> <span class="attr">text</span>=<span class="string">"自定义图片"</span> <span class="attr">summary</span>=<span class="string">"请先将图片裁剪到合适大小和部位以确保显示效果"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImagePicker</span> <span class="attr">text</span>=<span class="string">"图片一"</span> <span class="attr">summary</span>=<span class="string">"选择图片一"</span> <span class="attr">id</span>=<span class="string">"img1"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImagePicker</span> <span class="attr">text</span>=<span class="string">"图片二"</span> <span class="attr">summary</span>=<span class="string">"选择图片二"</span> <span class="attr">id</span>=<span class="string">"img2"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Group</span> <span class="attr">text</span>=<span class="string">"快捷方式"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">AppPicker</span> <span class="attr">text</span>=<span class="string">"左边快捷方式"</span> <span class="attr">id</span>=<span class="string">"left_task"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">AppPicker</span> <span class="attr">text</span>=<span class="string">"右边快捷方式"</span> <span class="attr">id</span>=<span class="string">"right_task"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p>清除图片(将相应变量置空即可)</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">src</span>=<span class="string">"@img1"</span> <span class="attr">srcType</span>=<span class="string">"Uri"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">src</span>=<span class="string">"@img2"</span> <span class="attr">srcType</span>=<span class="string">"Uri"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"#screen_height/2"</span> <span class="attr">w</span>=<span class="string">"280"</span> <span class="attr">h</span>=<span class="string">"280"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span> <span class="attr">visibility</span>=<span class="string">"#img1.has_bitmap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">w</span>=<span class="string">"280"</span> <span class="attr">h</span>=<span class="string">"280"</span> <span class="attr">fillColor</span>=<span class="string">"#ffffff"</span> <span class="attr">alpha</span>=<span class="string">"128"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"img1"</span> <span class="attr">expression</span>=<span class="string">""</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">persist</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p>快速进入锁屏自定义界面的快捷方式（Button）</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"#screen_height/2+300"</span> <span class="attr">w</span>=<span class="string">"280"</span> <span class="attr">h</span>=<span class="string">"280"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">w</span>=<span class="string">"280"</span> <span class="attr">h</span>=<span class="string">"280"</span> <span class="attr">fillColor</span>=<span class="string">"#ffffff"</span> <span class="attr">alpha</span>=<span class="string">"128"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"unlock"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">IntentCommand</span> <span class="attr">action</span>=<span class="string">"android.intent.action.MAIN"</span> <span class="attr">package</span>=<span class="string">"com.android.thememanager"</span> <span class="attr">class</span>=<span class="string">"miui.maml.MamlConfigSettings"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">Extra</span> <span class="attr">name</span>=<span class="string">"maml_code"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">expression</span>=<span class="string">"'lockstyle'"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">IntentCommand</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<h1 id="高级教程"><a href="#高级教程" class="headerlink" title="高级教程"></a>高级教程</h1><p><strong>动态帧率</strong></p>
<ul>
<li>普通用法</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Lockscreen</span> <span class="attr">version</span>=<span class="string">"2"</span> <span class="attr">frameRate</span>=<span class="string">"30"</span> <span class="attr">displayDesktop</span>=<span class="string">"false"</span> <span class="attr">screenWidth</span>=<span class="string">"1080"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Lockscreen</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>代码</th>
</tr>
</thead>
<tbody><tr>
<td>frameRate</td>
<td>指定帧率，如果动画缓慢，可以指定小一点的值，省电。默认为30。</td>
</tr>
<tr>
<td>frameRateCharging</td>
<td>充电状态下 锁屏帧率</td>
</tr>
<tr>
<td>frameRateBatteryLow</td>
<td>电量低时 锁屏帧率</td>
</tr>
<tr>
<td>frameRateBatteryFull</td>
<td>电量满(100%)时 锁屏帧率</td>
</tr>
<tr>
<td>displayDesktop</td>
<td>默认为false；透视到桌面功能，如果没有锁屏壁纸或者锁屏壁纸可以被移开或透明时可以看到桌面launcher或者是锁屏前的应用程序</td>
</tr>
<tr>
<td>showSysWallpaper</td>
<td>默认为false；是否在锁屏界面显示桌面壁纸。开启后如果没有指定锁屏壁纸<wallpaper>；会将桌面壁纸作为锁屏的壁纸</wallpaper></td>
</tr>
<tr>
<td>screenWidth</td>
<td>设定屏幕宽度标准。如果指定为1080，锁屏中所有元素的位置都按 1080px 的布局编写，其余分辨率的手机会自动进行缩放；示例：screenWidth=”1080”</td>
</tr>
</tbody></table>
<ul>
<li>高级用法</li>
</ul>
<p>动态调整帧率，比如在播放动画或者滑动屏幕的时候把帧率提高到 60fps，以保证动画和滑动不卡顿；其余时候可以降低到 0fps，在保证流畅度的前提下又可以兼顾省电。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">FramerateController</span> <span class="attr">name</span>=<span class="string">"panel_framerate"</span> <span class="attr">initPause</span>=<span class="string">"true"</span> <span class="attr">loop</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ControlPoint</span> <span class="attr">frameRate</span>=<span class="string">"0"</span>  <span class="attr">time</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ControlPoint</span> <span class="attr">frameRate</span>=<span class="string">"60"</span> <span class="attr">time</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ControlPoint</span> <span class="attr">frameRate</span>=<span class="string">"60"</span> <span class="attr">time</span>=<span class="string">"2000"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ControlPoint</span> <span class="attr">frameRate</span>=<span class="string">"0"</span>  <span class="attr">time</span>=<span class="string">"2001"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">FramerateController</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 在需要提高帧率时播放；比如有开屏动画时，在开屏时播放 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"panel_framerate"</span> <span class="attr">command</span>=<span class="string">"play"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 点击屏幕时提高帧率 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"down,move,up"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">AnimationCommand</span> <span class="attr">target</span>=<span class="string">"panel_framerate"</span> <span class="attr">command</span>=<span class="string">"play"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>变量数组</strong></p>
<p>数组，就是相同数据类型的元素按顺序排列的集合,把多个类型相同的变量用一个名字命名，然后用编号区分他们的变量，这个名字称为数组名，编号称为下标。 看下面例子（强烈建议大家复制这段代码到锁屏测试）</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 必须先用size定义数组的范围 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"sss"</span> <span class="attr">type</span>=<span class="string">"number[]"</span>  <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">expression</span>=<span class="string">"1"</span> <span class="attr">size</span>=<span class="string">"4"</span> <span class="attr">const</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"sss"</span> <span class="attr">type</span>=<span class="string">"number[]"</span>  <span class="attr">index</span>=<span class="string">"1"</span> <span class="attr">expression</span>=<span class="string">"2"</span> <span class="attr">const</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"sss"</span> <span class="attr">type</span>=<span class="string">"number[]"</span>  <span class="attr">index</span>=<span class="string">"2"</span> <span class="attr">expression</span>=<span class="string">"3"</span> <span class="attr">const</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"sss"</span> <span class="attr">type</span>=<span class="string">"number[]"</span>  <span class="attr">index</span>=<span class="string">"3"</span> <span class="attr">expression</span>=<span class="string">"4"</span> <span class="attr">const</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"100"</span> <span class="attr">y</span>=<span class="string">"400"</span> <span class="attr">textExp</span>=<span class="string">"#sss[0]+'  '+#sss[1]+'  '+#sss[2]+'  '+#sss[3]"</span> <span class="attr">size</span>=<span class="string">"30"</span> <span class="attr">color</span>=<span class="string">"#ffffff"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>变量名</td>
</tr>
<tr>
<td>type</td>
<td>定义数组类型（数值数组用<strong>number[]</strong>，字符数组用<strong>string[]</strong>)</td>
</tr>
<tr>
<td>size</td>
<td>定义变量数组范围（<strong>必须先定义数组的范围，后面引用的话不用再次声明</strong>）</td>
</tr>
<tr>
<td>const</td>
<td>变量会在初始化时计算一次，以后不会重新计算，可以提高效率。如果变量值会在锁屏运行期间改变，const 设为 false 默认：false</td>
</tr>
<tr>
<td>index</td>
<td>这个可以理解为数组内的编号或是下标</td>
</tr>
</tbody></table>
<br>

<p>前面示例数组是已经赋值了的，如果不知道它们的值，可以像下面这样表示,先只做一个声明</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"sss"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">size</span>=<span class="string">"4"</span> <span class="attr">const</span>=<span class="string">"true"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p>用按钮给数组赋值的方法</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"#screen_height"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 如果在其它地方已经用size定义了该数组的范围，这里就不用重新定义了 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"sss"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">expression</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"sss"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">index</span>=<span class="string">"1"</span> <span class="attr">expression</span>=<span class="string">"2"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"sss"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">index</span>=<span class="string">"2"</span> <span class="attr">expression</span>=<span class="string">"3"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"sss"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">index</span>=<span class="string">"3"</span> <span class="attr">expression</span>=<span class="string">"4"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>变量数组，另一种简单的写法</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"_Num"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">values</span>=<span class="string">"100,200,300,666,888"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li>这里 type 只能为 number[] 类型</li>
<li>values 支持变量，用 ‘,’ 分隔开就可以</li>
</ul>
<br>

<p>引用示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- #_Num[1] 表示引用 name="_Num" 的第二个值，即 200；需要注意 数组排列计数从 0 开始 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"1000"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">color</span>=<span class="string">"#ff0000"</span> <span class="attr">size</span>=<span class="string">"48"</span> <span class="attr">textExp</span>=<span class="string">"#_Num[1]"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>元素数组</strong></p>
<p>就是界面元素（图形、文字…）以特定规律的形式展现，避免类似代码的重复。<br>例如：我要把100张80x80的矩形按10行10列（间距为20像素）的形式显示出来，如果是平常，我们至少得写100行代码，但现在用元素数组几行代码就行了。<br></p>
<p>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Array</span> <span class="attr">x</span>=<span class="string">"50"</span> <span class="attr">y</span>=<span class="string">"500"</span> <span class="attr">count</span>=<span class="string">"100"</span> <span class="attr">indexName</span>=<span class="string">"__i"</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- % 与 int 的用法请看 表达式 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Rectangle</span> <span class="attr">x</span>=<span class="string">"#__i%10*100"</span> <span class="attr">y</span>=<span class="string">"int(#__i/10)*100"</span> <span class="attr">w</span>=<span class="string">"80"</span> <span class="attr">h</span>=<span class="string">"80"</span> <span class="attr">fillColor</span>=<span class="string">"#99ffffff"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Text</span> <span class="attr">textExp</span>=<span class="string">"#__i"</span> <span class="attr">size</span>=<span class="string">"36"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">x</span>=<span class="string">"#__i%10*100+40"</span> <span class="attr">y</span>=<span class="string">"int(#__i/10)*100+20"</span>  <span class="attr">color</span>=<span class="string">"#000000"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Array</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>Array</td>
<td>元素数组的标签（就是对各元素进行排列）</td>
</tr>
<tr>
<td>indexName</td>
<td>指数名称，可理解为元素数组内，用来给各元素编号的变量名</td>
</tr>
<tr>
<td>count</td>
<td>规定这个元素数组内同类型元素的个数，也就是 indexName 中你自定义的变量名的范围，在Array 中的 count 不支持表达式</td>
</tr>
</tbody></table>
<br>

<p><strong>循环处理</strong></p>
<p>主要与数组配合使用，可节省大量的代码，并提高效率。</p>
<p>示例：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"find"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">size</span>=<span class="string">"100"</span> <span class="attr">const</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Array</span> <span class="attr">x</span>=<span class="string">"100"</span> <span class="attr">y</span>=<span class="string">"300"</span> <span class="attr">count</span>=<span class="string">"100"</span> <span class="attr">indexName</span>=<span class="string">"__i"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Text</span> <span class="attr">textExp</span>=<span class="string">"#find[#__i]"</span> <span class="attr">size</span>=<span class="string">"30"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">x</span>=<span class="string">"#__i%10*90"</span> <span class="attr">y</span>=<span class="string">"int(#__i/10)*90"</span>  <span class="attr">color</span>=<span class="string">"#ffffff"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">w</span>=<span class="string">"1080"</span> <span class="attr">h</span>=<span class="string">"1920"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">LoopCommand</span> <span class="attr">count</span>=<span class="string">"100"</span> <span class="attr">indexName</span>=<span class="string">"col"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"find"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">index</span>=<span class="string">"#col"</span> <span class="attr">expression</span>=<span class="string">"#col"</span>  /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">LoopCommand</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>LoopCommand</td>
<td>循环标签</td>
</tr>
<tr>
<td>indexName</td>
<td>指数名称，用来标注循环计算次数的变量名（#col等于0时，说明是第一次计算）</td>
</tr>
<tr>
<td>count</td>
<td>规定循环次数</td>
</tr>
<tr>
<td>begin</td>
<td>indexName 指定的变量到达某个值时开始计算</td>
</tr>
<tr>
<td>end</td>
<td>indexName 指定的变量到达某个值时终止计算</td>
</tr>
<tr>
<td>loopCondition</td>
<td>循环条件，可以用来中断循环</td>
</tr>
</tbody></table>
<p>下面这段与前面 <loopcommand> 代码等效</loopcommand></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LoopCommand</span> <span class="attr">begin</span>=<span class="string">"0"</span> <span class="attr">end</span>=<span class="string">"99"</span> <span class="attr">indexName</span>=<span class="string">"col"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"find"</span> <span class="attr">type</span>=<span class="string">"number[]"</span> <span class="attr">index</span>=<span class="string">"#col"</span> <span class="attr">expression</span>=<span class="string">"#col"</span>  /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LoopCommand</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<h1 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h1><table>
<thead>
<tr>
<th>操作符</th>
<th>优先级</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>4</td>
<td>加</td>
</tr>
<tr>
<td>-</td>
<td>4</td>
<td>减</td>
</tr>
<tr>
<td>*</td>
<td>3</td>
<td>乘以</td>
</tr>
<tr>
<td>/</td>
<td>3</td>
<td>除以</td>
</tr>
<tr>
<td>%</td>
<td>3</td>
<td>取模（这里不是百分比，是取模，注意两者的区别）</td>
</tr>
<tr>
<td>&amp;</td>
<td>8</td>
<td></td>
</tr>
<tr>
<td>&#124;</td>
<td>9</td>
<td></td>
</tr>
<tr>
<td>^</td>
<td>10</td>
<td></td>
</tr>
<tr>
<td>~</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>&#123;&#123;</td>
<td>5</td>
<td></td>
</tr>
<tr>
<td>&#125;&#125;</td>
<td>5</td>
<td></td>
</tr>
<tr>
<td>!</td>
<td>2</td>
<td>逻辑非</td>
</tr>
<tr>
<td>==</td>
<td>7</td>
<td>等于</td>
</tr>
<tr>
<td>!=</td>
<td>7</td>
<td>不等于</td>
</tr>
<tr>
<td>**</td>
<td>11</td>
<td>与</td>
</tr>
<tr>
<td>&#124;&#124;</td>
<td>12</td>
<td>或</td>
</tr>
<tr>
<td>}</td>
<td>6</td>
<td>大于</td>
</tr>
<tr>
<td>}=</td>
<td>6</td>
<td>大于等于</td>
</tr>
<tr>
<td>{</td>
<td>6</td>
<td>小于</td>
</tr>
<tr>
<td>{=</td>
<td>6</td>
<td>小于等于</td>
</tr>
</tbody></table>
<br>

<ul>
<li>加减乘除取模 : + - * / %</li>
<li>(条件表达式)**(条件表达式)；与，必须同时满足才为真</li>
<li>(条件表达式)||(条件表达式)；或，两个条件满足其中一个就为真</li>
<li>(条件表达式)==(条件表达式)；等于</li>
<li>(条件表达式)!=(条件表达式)；不等于</li>
<li>!(条件表达式)：逻辑非，相当于以前的 not</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--示列1：#num != #num-1--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Iamge</span> <span class="attr">src</span>=<span class="string">"icon.png"</span> <span class="attr">visibility</span>=<span class="string">"#num != #show"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--示列2：#num ** #num-1--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Iamge</span> <span class="attr">src</span>=<span class="string">"icon.png"</span> <span class="attr">visibility</span>=<span class="string">"#num ** #show"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--示列3：#num == #num-1--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Iamge</span> <span class="attr">src</span>=<span class="string">"icon.png"</span> <span class="attr">visibility</span>=<span class="string">"#num == #show"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<br>
支持函数   sin,cos,tan,asin,acos,atan,sinh,cosh,sqrt,abs,min,max

<br>

<p><strong>字符串</strong></p>
<br>

<table>
<thead>
<tr>
<th>参数</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>len(数字)</td>
<td>给定数字位数 <code>len(1234)=4</code></td>
</tr>
<tr>
<td>digit(数字, 第几位)</td>
<td>取给定数字的第几位 <code>digit(12345, 2) = 4</code> （注意：原数字位数不能超过10位，下标从右向左，并且从1开始）</td>
</tr>
<tr>
<td>substr(原字符串，字串开始位置，字串长度)</td>
<td>substr(‘今天真热啊’,1,2) = ‘天真’（注意：字符位置是从左至右，并从0开始）</td>
</tr>
<tr>
<td>strIsEmpty(字符串变量)</td>
<td>判断字符串变量是否为空 <code>strIsEmpty(@abc)</code></td>
</tr>
<tr>
<td>isnull(数字型变量)</td>
<td>判断变量是否为空 <code>isnull(#abc)</code></td>
</tr>
<tr>
<td><code>strIndexOf(@string_a,&#39;string_b&#39;)</code></td>
<td>字符string_b第一次出现在字符串@string_a中的位置 如： <code>strIndexOf(&#39;string&#39;,&#39;str&#39;)=0</code></td>
</tr>
<tr>
<td><code>strLastIndexOf(@string_a,&#39;string_b&#39;)</code></td>
<td>字符string_b最后出现在字符串@string_a中的位置 如：<code>strLastIndexOf(&#39;starina&#39;,&#39;a&#39;)=6</code></td>
</tr>
<tr>
<td><code>strContains(@string_a,&#39;string_b&#39;)</code></td>
<td>字符串@string_a是否包含字符string_b 如： <code>strContains(&#39;string&#39;,&#39;str&#39;)=1或(true)</code></td>
</tr>
<tr>
<td><code>strReplaceAll(@string_a,&#39;string_b&#39;,&#39;string_c&#39;)</code></td>
<td>用string_c替换@string_a中所有的string_b <code>(strReplaceAll(&#39;abc&#39;,&#39;a&#39;,&#39;1&#39;)＝&#39;1bc&#39;</code></td>
</tr>
<tr>
<td><code>preciseeval(@string_a,3)</code></td>
<td>计算字符串的值，并精确到小数点后3位，如：<code>preciseeval(&#39;5*5+0.333&#39;,3)==25.333</code></td>
</tr>
<tr>
<td>round()</td>
<td>四舍五入取整</td>
</tr>
<tr>
<td>int()</td>
<td>向下取整；如：6.1 或者 6.99 都取值为 6</td>
</tr>
<tr>
<td>rand()</td>
<td>取0到1之间的随机数；如果需要随机生成0-100随机数，可以这样写 <code>rand()*100</code></td>
</tr>
<tr>
<td><code>formatDate(&#39;string&#39;,#time_sys)</code></td>
<td>日期格式化成字符串；’string’ 写作 ‘HH:mm’</td>
</tr>
<tr>
<td><code>formatFloat(&#39;%.3f&#39;,#accx)</code></td>
<td>格式化小数点后几位（带四舍五入）</td>
</tr>
<tr>
<td><code>strReplaceFirst(&#39;ABCdefABC&#39;,&#39;ABC&#39;,&#39;666&#39;)</code></td>
<td>替换第一个；666defABC</td>
</tr>
<tr>
<td><code>strToLowerCase(&#39;ABCdef&#39;)</code></td>
<td>转换成小写；abcdef</td>
</tr>
<tr>
<td><code>strToUpperCase(&#39;ABCdef&#39;)</code></td>
<td>转换成大写；ABCDEF</td>
</tr>
</tbody></table>
<div id="全局变量">
<br>

<h1 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h1><p>触摸</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">touch_x             当前触摸点的 x 坐标</span><br><span class="line">touch_y             当前触摸点的 y 坐标</span><br><span class="line">touch_begin_x       按下屏幕时的初始 x 坐标</span><br><span class="line">touch_begin_y       按下屏幕时的初始 y 坐标</span><br><span class="line">touch_begin_time    按下屏幕时的时间</span><br></pre></td></tr></table></figure>

<p>屏幕</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">screen_width        屏幕宽度</span><br><span class="line">screen_height       屏幕高度</span><br><span class="line">view_width          部件宽度(各插件中才使用,比如时钟)</span><br><span class="line">view_height         部件高度</span><br><span class="line">raw_screen_width    物理宽度（当前设备的屏幕分辨率，不受根节点screenWidth的影</span><br><span class="line">raw_screen_height   物理高度</span><br></pre></td></tr></table></figure>

<p>日期</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">time                当前时间，long</span><br><span class="line">time_sys            系统时间毫秒数</span><br><span class="line">year                年</span><br><span class="line">#month+1            月份（取值范围是 1~12，1 表示一月，2 表示二月，以此类推）</span><br><span class="line">#date               日期（取值范围是 1~31，1 表示 1 日，2 表示 2 日，以此类推）</span><br><span class="line">#day_of_week-1      星期（0 表示星期日，1 表示星期一，2 表示星期二 ... 6 表示星期六）</span><br><span class="line">hour24              24小时制</span><br><span class="line">hour12              12小时制</span><br><span class="line">minute              分钟</span><br><span class="line">second              秒</span><br><span class="line">ampm                值等于 0 时为 上午，等于 1 时为 下午</span><br><span class="line">time_format         值等于 0 时为 12小时制，等于 1 时为 24小时制</span><br></pre></td></tr></table></figure>

<p>农历</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">year_lunar          农历年份</span><br><span class="line">year_lunar1864      用来计算天干地支</span><br><span class="line">month_lunar         农历月份 从0开始计</span><br><span class="line">month_lunar_leap    0/1 是否润月</span><br><span class="line">date_lunar          农历日期 从1开始计</span><br></pre></td></tr></table></figure>

<p>充电</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">battery_level       当前电量，1~100</span><br><span class="line">battery_state       0正常 1充电 2电量低 3已充满</span><br></pre></td></tr></table></figure>

<p>充电状态（MIUI11 最新开发版支持）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#ChargeSpeed			0 普通充电, 1 快充, 2 超级快充</span><br><span class="line">#ChargeWireState		11 有线充电, 10 无线充电, -1 未充电</span><br></pre></td></tr></table></figure>

<p>图片</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">image.actual_w      图片显示宽度</span><br><span class="line">image.actual_h      图片显示高度</span><br><span class="line">image.bmp_width     图片文件的宽度（不受裁切、缩放的影响，只根据src找到指定的图片，并检测该文件的宽度）</span><br><span class="line">image.bmp_height    图片文件的高度</span><br></pre></td></tr></table></figure>

<p>文本</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">text.text_width			文本宽度，可以用来排版</span><br><span class="line">text.text_height		文本高度</span><br></pre></td></tr></table></figure>

<p>音乐</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name.music_state    0暂停 1播放(name是你为音乐模块定义的名称)</span><br></pre></td></tr></table></figure>

<p>解锁</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">unlocker.move_x     解锁部件在x方向的偏移</span><br><span class="line">unlocker.move_y     解锁部件在y方向的偏移</span><br><span class="line">unlocker.move_dist  解锁部件移动的距离</span><br><span class="line">unlocker.state      解锁部件的状态： 0 normal, 1 pressed, 2 reached</span><br></pre></td></tr></table></figure>

<p>其他</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">applied_light_wallpaper 仅在桌面时钟生效，0/1,为０时表示桌面壁纸为深色，为１时表示浅色</span><br><span class="line">sms_unread_count    未读短信数</span><br><span class="line">sms_unread_count    未接电话数</span><br><span class="line">frame_rate          当前屏幕帧率</span><br><span class="line">@next_alarm_time    下一个闹钟时间</span><br><span class="line">@__miui_version_code    MIUI版本(MIUI9=6,MIUI10=8)</span><br></pre></td></tr></table></figure>

<br>

<h1 id="其他相关"><a href="#其他相关" class="headerlink" title="其他相关"></a>其他相关</h1><p><strong>锁屏常亮</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">expression</span>=<span class="string">"#second"</span> <span class="attr">threshold</span>=<span class="string">"5"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Trigger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ExternCommand</span> <span class="attr">command</span>=<span class="string">"pokewakelock"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Var</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>相当于每 5 秒（second）触发一次；<br>pokewakelock 唤醒屏幕</p>
</blockquote>
<br>

<p><strong>全机型壁纸自适应算法</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"bg_scale"</span> <span class="attr">expression</span>=<span class="string">"ifelse((#screen_height/#i_bg.bmp_height)&#125;(#screen_width/#i_bg.bmp_width),#screen_height/#i_bg.bmp_height,#screen_width/#i_bg.bmp_width)-1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Group</span> <span class="attr">pivotX</span>=<span class="string">"#screen_width/2"</span> <span class="attr">pivotY</span>=<span class="string">"#screen_height/2"</span> <span class="attr">scale</span>=<span class="string">"1+#bg_scale"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span> <span class="attr">name</span>=<span class="string">"i_bg"</span> <span class="attr">x</span>=<span class="string">"#screen_width/2"</span> <span class="attr">y</span>=<span class="string">"#screen_height/2"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">src</span>=<span class="string">"bg.jpg"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>适用对象：任意尺寸图片。（自定义的Image非<wallpaper>，因为wallpaper自带自适应缩放算法）<br>原理：宽不够拉宽，高不够拉高；宽超了缩宽，高超了缩高<br>即：壁纸按照屏幕中心对齐平铺的情况下，未铺满区域的就把壁纸整体按照前两者的比值进行等比缩放以填充未充满区域。</wallpaper></p>
</blockquote>
<br>
**个性化设置中 文件管理和相册 选择图片不生效，用这行代码解决**

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Var</span> <span class="attr">name</span>=<span class="string">"diy_img_var"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">expression</span>=<span class="string">"ifelse(strContains(@diy_img,'com.android.fileexplorer'),strReplaceAll(@diy_img,'content://com.android.fileexplorer.myprovider/external_files/','file:///sdcard/'),strContains(@diy_img,'com.miui.gallery'),strReplaceAll(@diy_img,'content://com.miui.gallery.open/raw/%2Fstorage%2Femulated%2F0%2F','file:///sdcard/'),@diy_img)"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"#screen_height/2"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">w</span>=<span class="string">"200"</span> <span class="attr">h</span>=<span class="string">"200"</span> <span class="attr">srcType</span>=<span class="string">"Uri"</span> <span class="attr">srcExp</span>=<span class="string">"@diy_img_var"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>记得把下面代码放到 config.xml 中</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Group</span> <span class="attr">text</span>=<span class="string">"自定义图片"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImagePicker</span> <span class="attr">text</span>=<span class="string">"自定义图片"</span> <span class="attr">summary</span>=<span class="string">"图片最佳尺寸：200x200"</span> <span class="attr">id</span>=<span class="string">"diy_img"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<h1 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h1><p>一个好的锁屏，不仅需要很好的视觉效果，还需要流畅的体验（用户手机的性能、玩机水平有高低，制作主题时，要考虑下如何用户最大化）</p>
<blockquote>
<ul>
<li>测试时尽量不要用顶配机，frameRate 写 60，实测效果：普通手机不要低于30帧/s，好一点的手机必需高于40帧/s(这里指的是能够达到的最高帧率，并非你在开头限定的帧率或是你在代码中写的动态帧率）</li>
<li>降低图片文件大小，减少缓存时读取的时间，节省运行内存：存储图片必需导出为 web 格式，或者后期压缩；能用 jpg 绝不用 png，webp也是一个很好的选择！</li>
<li>尽量用合适尺寸的图片，能用小尺寸绝不用大尺寸，有效减少计算量！</li>
<li>代码逻辑上不要有冲突，必须精减</li>
<li>充分利用 visibility 控制各模块可见性，用 <group visibility="#num"></group> 通过变量 #num 是否大于 0 来判断只显示当前需要显示的部分</li>
</ul>
</blockquote>
<p>Layer 优化利器详解</p>
<p>Layer，这个部件是一个 Group，但是可以单独设置帧率，实现Layer内部元素独立于其它部分的单独渲染刷新控制。这个部件在 MAML 渲染引擎底层对应到 Android 中的单独一个 View ，于是这个元素就可以像 View 一样设置 layer 类型来实现 GPU 硬件缓冲，提高绘制性能。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Layer</span> <span class="attr">name</span>=<span class="string">"layer"</span> <span class="attr">x</span>=<span class="string">"25"</span> <span class="attr">y</span>=<span class="string">"300"</span> <span class="attr">hardware</span>=<span class="string">"true"</span> <span class="attr">width</span>=<span class="string">"800"</span> <span class="attr">height</span>=<span class="string">"600"</span> <span class="attr">pivotX</span>=<span class="string">"400"</span> <span class="attr">pivotY</span>=<span class="string">"200"</span> <span class="attr">touchable</span>=<span class="string">"true"</span> <span class="attr">interceptTouch</span>=<span class="string">"true"</span> <span class="attr">frameRate</span>=<span class="string">"0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Layer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>释义</th>
</tr>
</thead>
<tbody><tr>
<td>hardware</td>
<td>是否使用硬件绘图缓冲，true更快速但更占内存，false 相反</td>
</tr>
<tr>
<td>frameRate</td>
<td>指定 Layer 内部元素</td>
</tr>
<tr>
<td>updatePosition</td>
<td>Layer 位置（x y）是否需要更新， true/false</td>
</tr>
<tr>
<td>updateSize</td>
<td>Layer 大小（w h） 是否需要更新， true/false</td>
</tr>
<tr>
<td>updateTranslation</td>
<td>Layer 的 pivot/rotation/scale/alpha 等属性是否需要更新</td>
</tr>
</tbody></table>
<blockquote>
<p>以上三个 updatePosition/updateSizeupdateTranslation 属性默认都为 true，如果某些属性值是固定的不需要更新（例如 x不是表达式，或没有位移动画），设置成 false 会提高性能。</p>
</blockquote>
<p>优化步骤：</p>
<ul>
<li>当界面某块部分（如一个日历面板或天气面板等）和其它界面部分刷新率不同时，可以考虑把这块界面元素放到 Layer 中，先尝试hardware=”false”，给 Layer 单独指定一个合适的刷新帧率 frameRate，看一下性能有没有问题，</li>
<li>如果还是有问题可以把 hardware 设成 true 再测试，这时会额外耗费内存，不是必要的话最好不用。</li>
<li>如果确实需要 hardware=”true”，但是内存使用又超出预算的话, Layer 提供一个函数接口 setHardwareLayer(boolean)  通过 MethodCommand 调用，在动画开始前设为 true，动画结束后设为 false 即可</li>
<li>可以减少界面重复代码编写的数组和循环类组件： 部件数组、变量数组、LoopCommand 等等</li>
</ul>
<blockquote>
<p>适用情景：</p>
<ul>
<li>整体更新频率较高，但是部分区域（比如常见的日历）不需要频繁更新，可以把这部分放到一个 Layer 中指定较低帧率</li>
<li>整体更新频率较低，但是有部分区域有动画需要频繁更新的，可以把这部分放到一个 Layer 单独指定动画帧率</li>
<li>较复杂的动画滑进滑出面板，提高动画流畅度，用 Layer  设置合适的 hardware 属性</li>
</ul>
</blockquote>
<p>注意，zorder 问题，Layer 内部元素在一个单独的图层中，类似如下：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Lockscreen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Wallpaper</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span> <span class="attr">src</span>=<span class="string">"img1.jpg"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Layer</span> <span class="attr">name</span>=<span class="string">"layer1"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span> <span class="attr">src</span>=<span class="string">"img2.jpg"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- layer1在最上的图层， img1和img2在原有默认的底图层，所以img2在layer1下面，如果必须要img2在Layer上面，则需要另建一个Layer --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span> <span class="attr">src</span>=<span class="string">"img1.jpg"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Layer</span> <span class="attr">name</span>=<span class="string">"layer1"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Layer</span> <span class="attr">name</span>=<span class="string">"layer2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Image</span> <span class="attr">src</span>=<span class="string">"img2.jpg"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Layer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Lockscreen</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<h1 id="常用-Intent"><a href="#常用-Intent" class="headerlink" title="常用 Intent"></a>常用 Intent</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">便签 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.miui.notes&quot; class=&quot;com.miui.notes.ui.NotesListActivity&quot;</span><br><span class="line"></span><br><span class="line">新浪微博 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.sina.weibo&quot; class=&quot;com.sina.weibo.SplashActivity&quot;</span><br><span class="line"></span><br><span class="line">文件管理 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.fileexplorer&quot; class=&quot;com.android.fileexplorer.FileExplorerTabActivity&quot;</span><br><span class="line"></span><br><span class="line">图库 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.miui.gallery&quot; class=&quot;com.miui.gallery.app.Gallery&quot;|</span><br><span class="line"></span><br><span class="line">相册 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.miui.gallery&quot; class=&quot;com.miui.gallery.activity.HomePageActivity&quot;</span><br><span class="line"></span><br><span class="line">浏览器 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.browser&quot; class=&quot;com.android.browser.BrowserActivity&quot;</span><br><span class="line"></span><br><span class="line">计算器 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.miui.calculator&quot; class=&quot;com.miui.calculator.cal.CalculatorActivity&quot;</span><br><span class="line"></span><br><span class="line">短信 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.mms&quot; class=&quot;com.android.mms.ui.MmsTabActivity&quot;</span><br><span class="line"></span><br><span class="line">联系人 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.contacts&quot; class=&quot;com.android.contacts.activities.PeopleActivity&quot;</span><br><span class="line"></span><br><span class="line">拨号 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.contacts&quot; class=&quot;com.android.contacts.activities.TwelveKeyDialer&quot;</span><br><span class="line"></span><br><span class="line">指南针 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.miui.compass&quot; class=&quot;com.miui.compass.CompassActivity&quot;</span><br><span class="line"></span><br><span class="line">百度地图 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.baidu.BaiduMap&quot; class=&quot;com.baidu.baidumaps.WelcomeScreen&quot;</span><br><span class="line"></span><br><span class="line">相机 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.camera&quot; class=&quot;com.android.camera.Camera&quot;</span><br><span class="line"></span><br><span class="line">小米视频 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.miui.video&quot; class=&quot;com.miui.video.HomeActivity&quot;</span><br><span class="line"></span><br><span class="line">个性主题 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.thememanager&quot; class=&quot;com.android.thememanager.ThemeResourceTabActivity&quot;</span><br><span class="line"></span><br><span class="line">设置 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.settings&quot; class=&quot;com.android.settings.MiuiSettings&quot;</span><br><span class="line"></span><br><span class="line">日历 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.calendar&quot; class=&quot;com.android.calendar.AllInOneActivity&quot;</span><br><span class="line"></span><br><span class="line">应用商店 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.xiaomi.market&quot; class=&quot;com.xiaomi.market.ui.MarketTabActivity&quot;</span><br><span class="line"></span><br><span class="line">天气 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.miui.weather2&quot; class=&quot;com.miui.weather2.ActivityWeatherMain&quot;</span><br><span class="line"></span><br><span class="line">小爱同学、语音助手 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; category=&quot;android.intent.category.LAUNCHER&quot; package=&quot;com.miui.voiceassist&quot; class=&quot;com.xiaomi.voiceassistant.CTAAlertActivity&quot;</span><br><span class="line"></span><br><span class="line">时钟 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.deskclock&quot; class=&quot;com.android.deskclock.DeskClockTabActivity&quot;</span><br><span class="line"></span><br><span class="line">安全中心 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.settings&quot; class=&quot;com.miui.securitycenter.Main&quot;</span><br><span class="line"></span><br><span class="line">电子邮件 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.email&quot; class=&quot;com.android.email.activity.Welcome&quot;</span><br><span class="line"></span><br><span class="line">收音机 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.miui.fmradio&quot; class=&quot;com.miui.fmradio.FmRadioActivity&quot;</span><br><span class="line"></span><br><span class="line">录音机 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.soundrecorder&quot; class=&quot;com.android.soundrecorder.SoundRecorder&quot;</span><br><span class="line"></span><br><span class="line">下载管理 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.android.providers.downloads.ui&quot; class=&quot;com.android.providers.downloads.ui.DownloadList&quot;</span><br><span class="line"></span><br><span class="line">QQ ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.tencent.mobileqq&quot; class=&quot;com.tencent.mobileqq.activity.SplashActivity&quot;</span><br><span class="line"></span><br><span class="line">UC ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.UCMobile&quot; class=&quot;com.UCMobile.main.UCMobile&quot;</span><br><span class="line"></span><br><span class="line">小米商城 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.xiaomi.shop&quot; class=&quot;com.xiaomi.shop.activity.MainTabActivity&quot;</span><br><span class="line"></span><br><span class="line">今日头条 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.ss.android.article.news&quot; class=&quot;com.ss.android.article.news.activity.SplashActivity&quot;</span><br><span class="line"></span><br><span class="line">淘宝 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.taobao.taobao&quot; class=&quot;com.taobao.tao.welcome.Welcome&quot;</span><br><span class="line"></span><br><span class="line">小米音乐 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.miui.player&quot; class=&quot;com.miui.player.ui.MusicBrowserActivity&quot;</span><br><span class="line"></span><br><span class="line">QQ音乐 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.tencent.qqmusic&quot; class=&quot;com.tencent.qqmusic.activity.AppStarterActivity&quot;</span><br><span class="line"></span><br><span class="line">酷狗音乐 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.kugou.android&quot; class=&quot;com.kugou.android.app.splash.SplashActivity&quot;</span><br><span class="line"></span><br><span class="line">虾米音乐 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;fm.xiami.main&quot; class=&quot;fm.xiami.main.SplashActivity&quot;</span><br><span class="line"></span><br><span class="line">微信 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.tencent.mm&quot; class=&quot;com.tencent.mm.ui.LauncherUI&quot;</span><br><span class="line"></span><br><span class="line">微信扫一扫 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.tencent.mm&quot; class=&quot;com.tencent.mm.plugin.scanner.ui.BaseScanUI&quot;</span><br><span class="line"></span><br><span class="line">微信付款码 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.tencent.mm&quot; class=&quot;com.tencent.mm.plugin.offline.ui.WalletOfflineEntranceUI&quot;</span><br><span class="line"></span><br><span class="line">微信收款码 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.tencent.mm&quot; class=&quot;com.tencent.mm.plugin.collect.ui.CollectAdapterUI&quot;</span><br><span class="line"></span><br><span class="line">微信朋友圈 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.tencent.mm&quot; class=&quot;com.tencent.mm.plugin.sns.ui.En_424b8e16&quot;</span><br><span class="line"></span><br><span class="line">微信我的名片 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.tencent.mm&quot; class=&quot;com.tencent.mm.plugin.setting.ui.setting.SelfQRCodeUI&quot;</span><br><span class="line"></span><br><span class="line">支付宝 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.eg.android.AlipayGphone&quot; class=&quot;com.eg.android.AlipayGphone.AlipayLogin&quot;</span><br><span class="line"></span><br><span class="line">支付宝扫一扫 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.eg.android.AlipayGphone&quot; class=&quot;com.alipay.mobile.scan.as.main.MainCaptureActivity&quot;</span><br><span class="line"></span><br><span class="line">支付宝付款码 ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.eg.android.AlipayGphone&quot; class=&quot;com.eg.android.AlipayGphone.FastStartActivity&quot;</span><br><span class="line"></span><br><span class="line">公交卡（小米钱包） ▽</span><br><span class="line">action=&quot;android.intent.action.MAIN&quot; package=&quot;com.miui.tsmclient&quot; class=&quot;com.miui.tsmclient.ui.quick.DoubleClickActivity&quot;</span><br></pre></td></tr></table></figure>

<br>

<p>手电筒 ▽</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">x</span>=<span class="string">"540"</span> <span class="attr">y</span>=<span class="string">"#screen_height/2"</span> <span class="attr">w</span>=<span class="string">"180"</span> <span class="attr">h</span>=<span class="string">"180"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alignV</span>=<span class="string">"center"</span> <span class="attr">alignChildren</span>=<span class="string">"true"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Circle</span> <span class="attr">x</span>=<span class="string">"90"</span> <span class="attr">y</span>=<span class="string">"90"</span> <span class="attr">r</span>=<span class="string">"90"</span> <span class="attr">fillColor</span>=<span class="string">"#ffffff"</span> <span class="attr">alpha</span>=<span class="string">"100"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Triggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Trigger</span> <span class="attr">action</span>=<span class="string">"up"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">VariableCommand</span> <span class="attr">name</span>=<span class="string">"light_switch"</span> <span class="attr">expression</span>=<span class="string">"!#light_switch"</span> <span class="attr">condition</span>=<span class="string">"int(@__miui_version_code)&#125;=8"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">IntentCommand</span> <span class="attr">action</span>=<span class="string">"miui.intent.action.TOGGLE_TORCH"</span> <span class="attr">broadcast</span>=<span class="string">"true"</span> &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">Extra</span> <span class="attr">name</span>=<span class="string">"miui.intent.extra.IS_ENABLE"</span> <span class="attr">type</span>=<span class="string">"boolean"</span> <span class="attr">expression</span>=<span class="string">"ifelse(int(@__miui_version_code)&#125;=8,#light_switch,1)"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">IntentCommand</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Trigger</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Triggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span><br></pre></td></tr></table></figure></div></div></div></div>
        
    </section>
</article>






<center>
	<div class="article-meta clearfix">
   <font color="#999">最后更新：<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<a class="article-date" href="/maml/index.html">
    
    <time datetime="2020-09-14T04:45:00.297Z" itemprop="datePublished">2020-09-14</time>
</a>



<i class="icon-user-stroke" style="color: #999;margin-left: 25px"></i>
 <font color="#999">阅读量：<span id="busuanzi_value_page_pv"></span></font>



</font>
</div>


</center>

<br>
<br>













</div>
        <footer class="footer">
	 ©2019 mitheme &nbsp;&nbsp;&nbsp;主题技术交流群:812282219
    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e1ca2b4819eb8e6e077f2e6e8fdd2838";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    
</footer>

    </main>

    <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
    $(function() {
        var nodes = {
            nav: $('#nav'),
            aside: $('#aside'),
            asideInner: $('#aside-inner'),
            navInner: $('#nav-inner')
        };

        var doing = false;
        nodes.asideInner.on('webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend', function() {
            if (nodes.aside.hasClass('mobile-open')) {
                nodes.aside.removeClass('mobile-open');
            } else {
                nodes.aside.removeClass('mobile-close panel-show');
            }
            doing = false;
        });
        $('#open-panel, #aside-mask').on('click', function() {
            if (doing) {
                return;
            }
            
            if (nodes.aside.hasClass('panel-show')) {
                nodes.aside.addClass('mobile-close');
            } else {
                nodes.aside.addClass('mobile-open panel-show');
            }
        });
        $('#open-menus').on('click', function() {
            nodes.navInner.slideToggle();
        });

        if (window.innerWidth <= 960) {
            setTimeout(function() {
                nodes.navInner.slideUp();
            }, 3000);
        }
    });
    </script>
    
        <script type="text/javascript" src="/js/scrollspy.min.js"></script>
        <script type="text/javascript">
        $(document.body).scrollspy({target: '#aside-inner'});
        </script>
    

    

</body>
</html>
